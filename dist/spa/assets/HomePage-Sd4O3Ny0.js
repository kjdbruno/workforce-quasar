import{Q as W}from"./QAvatar-DB0NvXU7.js";import{S as b,r as c,k as G,T as M,a5 as R,W as T,$ as t,Z as o,X as n,a6 as u,a2 as a,_ as D,a4 as h,d as j,aj as B,ak as H}from"./index-Lf_p_M7O.js";import{Q as U}from"./QSpinnerPuff-Cy6rNmaC.js";import{Q as V,a as $,b as E}from"./QSpinnerIos-fP6uRLlR.js";import"./format-CoaQEihs.js";const Y="/assets/sunny-LkXzEDhD.png",k="/assets/partly-cloudy-C93QyIia.png",S="/assets/cloudy-C-4AR3hE.png",z="/assets/foggy-CU0zRKDU.png",Q="/assets/light_rain-BdHQH8Gq.png",C="/assets/heavy-rain-7jkGD7A4.png",N="/assets/thunder-DzsxjisN.png",F={class:"home-page"},O={class:"row q-col-gutter-md"},X={class:"col-9"},K={class:"row q-col-gutter-sm"},Z={class:"col-9"},J={class:"row q-gutter-sm q-mb-lg"},tt={class:"col-8"},et={class:"text-body1 text-white text-capitalize"},st={class:"text-h5 text-white text-capitalize text-bold"},ot={class:"col"},at={class:"row q-col-gutter-xs items-center justify-start"},nt=["src"],it={class:"text-caption text-white text-capitalize"},ct={class:"text-body1 text-white text-capitalize text-bold"},rt={class:"row q-gutter-sm"},lt={class:"col"},dt={class:"text-h6 text-white"},ut={class:"col"},ht={class:"text-h6 text-white"},_t={class:"col"},vt={class:"text-h6 text-white"},pt={class:"col-3"},wt=["src"],gt={class:"col-3"},mt={id:"glass-overlay"},zt={__name:"HomePage",setup(ft){const _=b(),d=c(!1),v=c(new Date().toISOString().split("T")[0]),l=c(""),p=c(""),r=c(null),w=c(""),g=c(""),m=()=>{const s=new Date().getHours();s<12?l.value="Good Morning":s<18?l.value="Good Afternoon":l.value="Good Evening"},q=()=>{const s=new Date;p.value=s.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})},L=async(s,e)=>{d.value=!0;const i=`https://api.open-meteo.com/v1/forecast?latitude=${s}&longitude=${e}&current_weather=true`;try{const y=await(await fetch(i)).json();r.value=y,I(y.current_weather.weathercode)}catch(x){console.error("Weather fetch failed:",x)}finally{d.value=!1}},A=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(s=>{const{latitude:e,longitude:i}=s.coords;L(e,i)},s=>{console.warn("Location access denied:",s)})};function I(s){const i={0:{desc:"Clear sky",icon:Y},1:{desc:"Mainly clear",icon:k},2:{desc:"Partly cloudy",icon:k},3:{desc:"Overcast",icon:S},45:{desc:"Fog",icon:z},48:{desc:"Rime fog",icon:z},51:{desc:"Light drizzle",icon:Q},61:{desc:"Light rain",icon:Q},71:{desc:"Snow fall",icon:C},80:{desc:"Rain showers",icon:C},95:{desc:"Thunderstorm",icon:N}}[s]||{desc:"Unknown",icon:S};w.value=i.desc,g.value=i.icon}const P=s=>`https://hris-ccmi.com${s}`,f=c(!0);return G(()=>{setTimeout(()=>{f.value=!1},2e3)}),M(()=>{m(),q(),A(),setInterval(m,6e4)}),(s,e)=>(T(),R("div",F,[t("div",O,[t("div",X,[o(h,{class:"card welcome-card no-shadow radius-sm"},{default:n(()=>[t("div",K,[t("div",Z,[o(u,{class:"q-pa-xl"},{default:n(()=>[t("div",J,[t("div",tt,[t("div",et,a(l.value)+"!",1),t("div",st,a(D(_).user?.name),1)]),t("div",ot,[t("div",at,[t("div",null,[o(W,null,{default:n(()=>[t("img",{src:g.value},null,8,nt)]),_:1})]),t("div",null,[t("div",it,a(p.value),1),t("div",ct,a(w.value),1)])])])]),e[4]||(e[4]=t("div",{class:"text-caption text-white text-uppercase"},"general information",-1)),t("div",rt,[t("div",lt,[t("div",dt,a(r.value?.current_weather?.temperature)+a(r.value?.current_weather_units?.temperature),1),e[1]||(e[1]=t("div",{class:"text-caption text-white text-capitalize"},"temperature",-1))]),t("div",ut,[t("div",ht,a(r.value?.current_weather?.winddirection)+a(r.value?.current_weather_units?.winddirection),1),e[2]||(e[2]=t("div",{class:"text-caption text-white text-capitalize"},"wind direction",-1))]),t("div",_t,[t("div",vt,a(r.value?.current_weather?.windspeed)+a(r.value?.current_weather_units?.windspeed),1),e[3]||(e[3]=t("div",{class:"text-caption text-white text-capitalize"},"wind speed",-1))])])]),_:1,__:[4]})]),t("div",pt,[t("img",{src:P(D(_).user?.avatar),alt:"Welcome"},null,8,wt)])]),o(V,{showing:d.value,dark:""},{default:n(()=>[o(U)]),_:1},8,["showing"])]),_:1})]),t("div",gt,[o(h,{class:"no-shadow radius-sm"},{default:n(()=>[o(u,{class:"q-pa-none"},{default:n(()=>[o($,{modelValue:v.value,"onUpdate:modelValue":e[0]||(e[0]=i=>v.value=i),mask:"YYYY-MM-DD",class:"full-width no-shadow radius-sm"},null,8,["modelValue"])]),_:1})]),_:1})])]),o(H,{name:"glass-fade"},{default:n(()=>[j(t("div",mt,[o(h,{class:"no-shadow radius-md q-pa-md"},{default:n(()=>[o(u,{class:"text-center"},{default:n(()=>[t("div",null,[o(E,{color:"dark"})]),e[5]||(e[5]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[5]})]),_:1})],512),[[B,f.value]])]),_:1})]))}};export{zt as default};
