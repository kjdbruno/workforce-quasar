import{aB as ge,a as ue,r as n,O as we,V as Q,W as h,X as l,Z as e,a4 as ee,a6 as O,$ as t,a7 as xe,ak as at,a5 as B,Y as ae,a8 as de,a9 as ce,am as Ce,aa as R,a2 as w,ap as Se,ag as j,an as Le,ao as Oe,a1 as me,_ as se,ai as ye,d as Me,a0 as H,a3 as Be,ac as ve,aq as oe,S as De,w as Ct,T as et,k as nt,ab as At,aj as rt,as as Te,H as ze,ar as dt,o as It,at as Mt}from"./index-Lf_p_M7O.js";import{a as be,Q as _e,b as qe}from"./QSpinnerIos-fP6uRLlR.js";import{a as Tt,b as Rt}from"./QResizeObserver-Bj2nox93.js";import{Q as Ye,a as Ft}from"./QFooter-Bq9OZnDZ.js";import{_ as Ne,h as Ze}from"./_plugin-vue_export-helper-B4qR4-TP.js";import{T as K}from"./sweetalert-_TNglJgc.js";import{Q as Ve,C as We}from"./ClosePopup-9uufxfJk.js";import{Q as fe,a as he}from"./QItem-DjUxrj8H.js";import{Q as Ee}from"./QItemLabel-CsohmIrQ.js";import{Q as Ue}from"./QSelect-CMOCyNlO.js";import{_ as Yt,a as Lt,b as Ot,c as Bt,d as jt,e as Ht,f as Wt,g as Gt,h as Qt,i as Xt,j as Jt,k as Zt,l as Kt,m as ea,n as ta,o as aa,p as la,q as sa,r as oa,s as ia,t as na,u as ra,v as da,w as ua,x as ca}from"./9-Dj9y5jTE.js";import{Q as ke}from"./QSpinnerPuff-Cy6rNmaC.js";import{S as pa,d as ma,n as Ke}from"./simple-vue-camera.umd-DXIff_FE.js";import{Q as ut}from"./QFile-ClNn-ylQ.js";import{Q as va}from"./QBadge-DJ1PcQQQ.js";import"./format-CoaQEihs.js";const ga={key:0},fa={key:0,class:"q-mb-xl"},ha={class:"card-grid"},xa={class:"text-caption text-uppercase"},ya={class:"checkmark-overlay"},_a={class:"row q-col-gutter-xs q-mb-md"},ba={class:"col-2"},Va={class:"col-2"},wa={class:"col-2"},Sa={class:"col-1"},Da={class:"row q-col-gutter-xs q-mb-md"},$a={class:"col-2"},qa={class:"q-gutter-sm"},ka={class:"col"},Ea={class:"q-gutter-sm"},Ua={class:"row q-col-gutter-xs q-mb-md"},Pa={class:"col-2"},za={class:"col-4"},Na={class:"row q-col-gutter-xs q-mb-md"},Ca={class:"col-6"},Aa={class:"q-gutter-sm"},Ia={class:"row q-col-gutter-xs q-mb-md"},Ma={class:"col-2"},Ta={class:"col-2"},Ra={key:1},Fa={key:0,class:"q-mb-md"},Ya={class:"card-grid"},La={class:"inner-card-anim-wrapper",style:{animationDelay:"100ms"}},Oa={class:"text-caption text-dark text-uppercase"},Ba={class:"text-caption text-grey text-uppercase"},ja={class:"absolute-left"},Ha={key:1,class:"q-mb-md"},Wa={class:"q-mb-md"},Ga={class:"text-body1 text-uppercase"},Qa={class:"text-body1 text-uppercase"},Xa={class:"q-mb-md"},Ja={class:"q-gutter-sm"},Za={class:"row q-col-gutter-xs q-mb-md"},Ka={class:"col-2"},el={class:"col-2"},tl={class:"row q-col-gutter-xs q-mb-md"},al={class:"col-2"},ll={class:"col-2"},sl={class:"col-2"},ol={class:"col-2"},il={key:2},nl={class:"q-mb-md"},rl={class:"q-gutter-sm"},dl={class:"row q-col-gutter-xs q-mb-md"},ul={class:"col-2"},cl={class:"col-2"},pl={key:3},ml={class:"row q-col-gutter-xs q-mb-md"},vl={class:"col-2"},gl={class:"col-2"},fl={class:"col-2"},hl={class:"col-2"},xl={class:"row q-gutter-sm"},yl={class:"text-caption text-uppercase text-grey"},it=4,_l={__name:"EmployeeDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue","saved"],setup(G,{emit:s}){ge();const c=G,_=s,q=ue({get:()=>c.modelValue===c.dialogName,set:I=>{I||_("update:modelValue",null)}}),p=n(!1),E=n(null),y=n(""),r=n(""),$=n(""),A=n(""),L=n(""),C=n(""),a=n(new Date().toISOString().split("T")[0]),m=n(""),U=n(""),F=n(""),T=n(""),Y=n(""),v=n(new Date().toISOString().split("T")[0]),M=n(""),D=n(""),P=n(""),k=n(""),o=n(""),d=n(""),i=n(""),g=n(""),f=n(""),b=n(""),S=n(new Date().toISOString().split("T")[0]),V=n(""),N=n(""),u=we({firstname:{type:null,msg:""},middlename:{type:null,msg:""},lastname:{type:null,msg:""},suffix:{type:null,msg:""},sex:{type:null,msg:""},civilstatus:{type:null,msg:""},birthdate:{type:null,msg:""},birthplace:{type:null,msg:""},address:{type:null,msg:""},email:{type:null,msg:""},contactNo:{type:null,msg:""},employeeNo:{type:null,msg:""},dateHired:{type:null,msg:""},employmentstatus:{type:null,msg:""},positionId:{type:null,msg:""},tin:{type:null,msg:""},sssNo:{type:null,msg:""},philhealthNo:{type:null,msg:""},pagibigNo:{type:null,msg:""},salarygroup:{type:null,msg:""},payrollgroup:{type:null,msg:""},taxstatus:{type:null,msg:""},shiftId:{type:null,msg:""},effectiveFrom:{type:null,msg:""}}),ne=()=>K.fire({icon:"error",html:`
      <div class="text-h6 text-bold text-uppercase">Request Failed</div>
      <div class="text-caption">Something went wrong.</div>
    `}),W=(I,x="required")=>(u[I].type=!0,u[I].msg=x,!0),J=I=>(u[I].type=null,u[I].msg="",!1),Z=(I,x)=>x?J(I):W(I,"required"),pe=(I,x,z,ie="invalid")=>x&&String(x).length>z?W(I,ie):J(I),re=I=>{if(!I)return!1;const x=new Date,z=new Date(I);let ie=x.getFullYear()-z.getFullYear();const Pe=x.getMonth()-z.getMonth();return(Pe<0||Pe===0&&x.getDate()<z.getDate())&&ie--,ie>=15},Re=()=>{const I=["SR","JR","II","III","IV","V","VI","VII","VIII","IX","X"],x=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,z=/^09\d{9}$/;let ie=!1;return ie||=Z("firstname",y.value),ie||=Z("middlename",r.value),ie||=Z("lastname",$.value),ie||=A.value&&!I.includes(A.value.trim().toUpperCase())?W("suffix","invalid"):J("suffix"),ie||=Z("sex",L.value),ie||=Z("civilstatus",C.value),a.value?re(a.value)?J("birthdate"):ie||=W("birthdate","invalid"):ie||=W("birthdate","required"),ie||=Z("birthplace",m.value),F.value?x.test(F.value)?F.value.length>100?ie||=W("email","invalid"):J("email"):ie||=W("email","invalid"):ie||=W("email","required"),T.value?z.test(T.value)?J("contactNo"):ie||=W("contactNo","invalid"):ie||=W("contactNo","required"),ie||=Z("address",U.value),ie&&ne(),!ie},Ge=()=>{let I=!1;return I||=Z("positionId",D.value),I||=Z("employmentstatus",M.value),I||=Z("dateHired",v.value),I||=pe("tin",P.value,15,"invalid"),I||=pe("sssNo",k.value,15,"invalid"),I||=pe("philhealthNo",o.value,15,"invalid"),I||=pe("pagibigNo",d.value,15,"invalid"),I&&ne(),!I},le=()=>{let I=!1;return I||=Z("payrollgroup",g.value),I||=Z("salarygroup",i.value),I||=Z("taxstatus",f.value),I&&ne(),!I},X=()=>{let I=!1;return I||=Z("shiftId",b.value),I||=Z("effectiveFrom",S.value),I&&ne(),!I},te=()=>{E.value=null,y.value="",r.value="",$.value="",A.value="",L.value="",C.value="",a.value=new Date().toISOString().split("T")[0],m.value="",U.value="",F.value="",T.value="",Y.value="",v.value=new Date().toISOString().split("T")[0],M.value="",D.value="",P.value="",k.value="",o.value="",d.value="",i.value="",g.value="",f.value="",b.value="",S.value=new Date().toISOString().split("T")[0],V.value="",N.value=""},Ae=()=>{Object.keys(u).forEach(I=>{u[I].type=null,u[I].msg=""})},Fe=n([]),pt=n(["Male","Female"]),mt=n(["Single","Married","Widowed","Divorced","Separated"]),vt=n(["Regular","Probationary","Contractual","Temporary","Intern"]),lt=n([]),Qe=n([]),gt=n([{value:"HIRE",label:"Hiring Rate"},{value:"PROMO",label:"Promotion Increase"},{value:"MERIT",label:"Merit Increase"},{value:"ANNUAL",label:"Annual Increase"},{value:"COLA",label:"Cost of Living Allowance"},{value:"PROB",label:"Probationary Increase"},{value:"ADJUST",label:"Salary Adjustment"},{value:"GOVT",label:"Government Mandated Increase"}]),ft=n(["Monthly","Semi-Monthly","Weekly"]),ht=n(["S","ME","S1","S2","S3","S4","ME1","ME2","ME3","ME4","Z"]),Xe=n([]),xt=(I,x)=>(z,ie)=>{if(z===""){ie(()=>{x.value=I.value});return}ie(()=>{const Pe=z.toLowerCase();x.value=I.value.filter(Nt=>Nt.label.toLowerCase().includes(Pe))})};function st(I,x="PHP"){if(!I)return"";const z=I.split("|")[0].trim(),ie=parseFloat(z.replace(/,/g,""));return isNaN(ie)?I:ie.toLocaleString("en-PH",{style:"currency",currency:x,minimumFractionDigits:2})}const yt=xt(Qe,Xe),_t=async()=>{try{const I=await oe.get("/employee/option/applicant");Fe.value=I.data}catch(I){console.error("Error fetching options:",I)}},bt=async()=>{try{const{data:I}=await oe.get("/employee/option/shift");Qe.value=(I||[]).map(x=>({label:x.label??x.name??String(x.text??x.value??""),value:Number(x.value??x.id)})),Xe.value=[...Qe.value]}catch(I){console.error("Error fetching options:",I)}},Vt=async()=>{try{const I=await oe.get("/employee/option/position");lt.value=I.data}catch(I){console.error("Error fetching options:",I)}},wt=()=>{bt(),Vt(),_t(),te(),Ae(),$e.value=0},St=I=>{y.value=I.first_name,r.value=I.middle_name,$.value=I.last_name,A.value=I.suffix,L.value=I.sex,C.value=I.civil_status,a.value=I.birthdate,m.value=I.birthplace,U.value=I.address,F.value=I.email,T.value=I.contact_number,M.value=I.vacancy.employment_status,D.value=I.vacancy.position_id,b.value=I.vacancy.shift_id},Dt=async()=>{p.value=!0;const I=E.value?.id??null;try{const x=await oe.post("/employee",{applicantId:I,firstname:y.value,middlename:r.value,lastname:$.value,suffix:A.value,sex:L.value,civilstatus:C.value,birthdate:a.value,birthplace:m.value,address:U.value,email:F.value,contactNo:T.value,employeeNo:Y.value,dateHired:v.value,tin:P.value,sssNo:k.value,philhealthNo:o.value,pagibigNo:d.value,positionId:D.value,employmentstatus:M.value,salarygroup:i.value,payrollgroup:g.value,taxstatus:f.value,shiftId:b.value,effectiveFrom:S.value,effectiveTo:V.value,notes:N.value});_("saved"),_("update:modelValue",null),K.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${x.data.message}<div>
            `})}catch(x){x.response&&x.response.data&&($t(x.response.data),K.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{p.value=!1}},$t=I=>{const x=Array.isArray(I)?I:I?.errors||[];Object.keys(u).forEach(z=>{u[z].type=null,u[z].messages=[]}),x.forEach(z=>{u[z.path]!==void 0&&(u[z.path].type=!0,u[z.path].messages.push(z.msg))})},Ie=n(null),Je=n(""),ot=ue(()=>{const I=Je.value.trim().toLowerCase();return lt.value.filter(x=>x.status==="Vacant").filter(x=>!I||String(x.label||"").toLowerCase().includes(I))}),je=ue(()=>ot.value.slice(0,5)),qt=ue(()=>je.value.length),kt=ue(()=>ot.value.length),$e=n(0),Et=[Re,Ge,le,X],Ut=()=>{const I=Et[$e.value];I&&!I()||$e.value++},Pt=()=>{$e.value>0&&$e.value--},zt=I=>{if(!I)return"";const x=I.first_name||"",z=I.middle_name?I.middle_name.charAt(0).toUpperCase()+".":"",ie=I.last_name||"",Pe=I.suffix?` ${I.suffix}`:"";return`${x} ${z} ${ie}${Pe}`.trim()};return(I,x)=>(h(),Q(ve,{modelValue:q.value,"onUpdate:modelValue":x[39]||(x[39]=z=>q.value=z),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:x[40]||(x[40]=z=>wt())},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(O,{class:"q-pa-lg"},{default:l(()=>x[41]||(x[41]=[t("div",{class:"text-h6 text-uppercase"},"new employee",-1)])),_:1,__:[41]}),e(xe,{inset:""}),e(O,{class:"col q-pa-lg scroll"},{default:l(()=>[e(at,{name:"fade-slide",mode:"out-in"},{default:l(()=>[(h(),B("div",{key:$e.value},[$e.value===0?(h(),B("div",ga,[Fe.value.length?(h(),B("div",fa,[x[42]||(x[42]=t("div",{class:"q-mb-sm"},[t("span",{class:"text-caption text-uppercase text-grey q-mr-sm"},"choose hired applicant")],-1)),t("div",ha,[(h(!0),B(de,null,ce(Fe.value,(z,ie)=>(h(),B("div",{key:`data-${z.id}`,class:"inner-card-anim-wrapper",style:Ce({animationDelay:`${ie*120}ms`})},[e(ee,{class:R(["card card-menu card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm",{"card--active":E.value===z}]),tag:"label",onClick:()=>{E.value=z,St(z)}},{default:l(()=>[e(O,null,{default:l(()=>[t("div",xa,w(zt(z)),1)]),_:2},1024),t("div",ya,[e(Se,{modelValue:E.value,"onUpdate:modelValue":x[0]||(x[0]=Pe=>E.value=Pe),val:z,"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",size:"xs"},null,8,["modelValue","val"])])]),_:2},1032,["class","onClick"])],4))),128))])])):ae("",!0),x[43]||(x[43]=t("div",{class:"text-overline text-uppercase text-bold q-mb-md"},"personal information",-1)),t("div",_a,[t("div",ba,[t("div",{class:R(["text-caption text-uppercase",u.firstname.type?"text-negative text-italic":"text-grey"])},w(u.firstname.type?u.firstname.msg:"firstname"),3),e(j,{modelValue:y.value,"onUpdate:modelValue":x[1]||(x[1]=z=>y.value=z),label:"Enter Firstname",outlined:"",error:u.firstname.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])]),t("div",Va,[t("div",{class:R(["text-caption text-uppercase",u.middlename.type?"text-negative text-italic":"text-grey"])},w(u.middlename.type?u.middlename.msg:"middlename"),3),e(j,{modelValue:r.value,"onUpdate:modelValue":x[2]||(x[2]=z=>r.value=z),label:"Enter Middlename",outlined:"",error:u.middlename.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])]),t("div",wa,[t("div",{class:R(["text-caption text-uppercase",u.lastname.type?"text-negative text-italic":"text-grey"])},w(u.lastname.type?u.lastname.msg:"lastname"),3),e(j,{modelValue:$.value,"onUpdate:modelValue":x[3]||(x[3]=z=>$.value=z),label:"Enter Lastname",outlined:"",error:u.lastname.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])]),t("div",Sa,[t("div",{class:R(["text-caption text-uppercase",u.suffix.type?"text-negative text-italic":"text-grey"])},w(u.suffix.type?u.suffix.msg:"suffix"),3),e(j,{modelValue:A.value,"onUpdate:modelValue":x[4]||(x[4]=z=>A.value=z),label:"Enter Suffix",outlined:"",error:u.suffix.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])])]),t("div",Da,[t("div",$a,[t("div",{class:R(["text-caption text-uppercase",u.sex.type?"text-negative text-italic":"text-grey"])},w(u.sex.type?u.sex.msg:"sex"),3),t("div",qa,[(h(!0),B(de,null,ce(pt.value,z=>(h(),Q(Se,{modelValue:L.value,"onUpdate:modelValue":x[5]||(x[5]=ie=>L.value=ie),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:z,label:z},null,8,["modelValue","val","label"]))),256))])]),t("div",ka,[t("div",{class:R(["text-caption text-uppercase",u.civilstatus.type?"text-negative text-italic":"text-grey"])},w(u.civilstatus.type?u.civilstatus.msg:"civil status"),3),t("div",Ea,[(h(!0),B(de,null,ce(mt.value,z=>(h(),Q(Se,{modelValue:C.value,"onUpdate:modelValue":x[6]||(x[6]=ie=>C.value=ie),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:z,label:z},null,8,["modelValue","val","label"]))),256))])])]),t("div",Ua,[t("div",Pa,[t("div",{class:R(["text-caption text-uppercase",u.birthdate.type?"text-negative text-italic":"text-grey"])},w(u.birthdate.type?u.birthdate.msg:"birthdate (YYYY-MM-DD)"),3),e(j,{outlined:"",modelValue:a.value,"onUpdate:modelValue":x[9]||(x[9]=z=>a.value=z),label:"Enter Date",error:u.birthdate.type,"no-error-icon":!0},{default:l(()=>[e(Ve,{cover:"","transition-show":"scale","transition-hide":"scale",ref_key:"popup",ref:Ie,class:"no-shadow custom-border radius-sm"},{default:l(()=>[e(be,{modelValue:a.value,"onUpdate:modelValue":[x[7]||(x[7]=z=>a.value=z),x[8]||(x[8]=()=>{Ie.value.hide()})],mask:"YYYY-MM-DD"},null,8,["modelValue"])]),_:1},512)]),_:1},8,["modelValue","error"])]),t("div",za,[t("div",{class:R(["text-caption text-uppercase",u.birthplace.type?"text-negative text-italic":"text-grey"])},w(u.birthplace.type?u.birthplace.msg:"birthplace"),3),e(j,{modelValue:m.value,"onUpdate:modelValue":x[10]||(x[10]=z=>m.value=z),label:"Enter Birthplace",outlined:"",error:u.birthplace.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])])]),t("div",Na,[t("div",Ca,[t("div",{class:R(["text-caption text-uppercase",u.address.type?"text-negative text-italic":"text-grey"])},w(u.address.type?u.address.msg:"address"),3),t("div",Aa,[e(j,{modelValue:U.value,"onUpdate:modelValue":x[11]||(x[11]=z=>U.value=z),label:"Enter Address",outlined:"",error:u.address.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])])])]),t("div",Ia,[t("div",Ma,[t("div",{class:R(["text-caption text-uppercase",u.email.type?"text-negative text-italic":"text-grey"])},w(u.email.type?u.email.msg:"email address"),3),e(j,{modelValue:F.value,"onUpdate:modelValue":x[12]||(x[12]=z=>F.value=z),label:"Enter Email Address",outlined:"",error:u.email.type,"no-error-icon":!0},null,8,["modelValue","error"])]),t("div",Ta,[t("div",{class:R(["text-caption text-uppercase",u.contactNo.type?"text-negative text-italic":"text-grey"])},w(u.contactNo.type?u.contactNo.msg:"contact number"),3),e(j,{modelValue:T.value,"onUpdate:modelValue":x[13]||(x[13]=z=>T.value=z),label:"Enter Contact No.",mask:"###########",outlined:"",error:u.contactNo.type,"no-error-icon":!0},null,8,["modelValue","error"])])])])):$e.value===1?(h(),B("div",Ra,[x[47]||(x[47]=t("div",{class:"text-overline text-uppercase text-bold q-mb-md"},"employment information",-1)),E.value?ae("",!0):(h(),B("div",Fa,[t("div",{class:R(["text-caption text-uppercase q-mb-sm",u.positionId.type?"text-negative text-italic":"text-grey"])},w(u.positionId.type?u.positionId.msg:"position"),3),t("div",Ya,[t("div",La,[je.value.length?ae("",!0):(h(),Q(ee,{key:0,class:"card card-menu card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:l(()=>[e(O,null,{default:l(()=>x[44]||(x[44]=[t("div",{class:"text-caption text-dark text-uppercase"},"no record found",-1)])),_:1,__:[44]})]),_:1}))]),je.value.length?(h(!0),B(de,{key:0},ce(je.value,(z,ie)=>(h(),B("div",{key:`data-${z.id}`,class:"inner-card-anim-wrapper",style:Ce({animationDelay:`${ie*100}ms`})},[e(ee,{onClick:()=>{D.value=z.id},class:R(["card card-menu card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm",{"card--active":D.value===z.id}])},{default:l(()=>[e(O,null,{default:l(()=>[t("div",Oa,w(z.label),1),t("div",Ba,w(st(z?.amount)),1)]),_:2},1024),t("div",ja,[e(Se,{modelValue:D.value,"onUpdate:modelValue":x[14]||(x[14]=Pe=>D.value=Pe),val:z.id,"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",size:"xs"},null,8,["modelValue","val"])])]),_:2},1032,["onClick","class"])],4))),128)):ae("",!0)])])),E.value?(h(),B("div",Ha,[t("div",Wa,[x[45]||(x[45]=t("div",{class:"text-caption text-uppercase text-grey"},"position",-1)),t("div",Ga,w(E.value?.vacancy?.position?.name),1)]),t("div",null,[x[46]||(x[46]=t("div",{class:"text-caption text-uppercase text-grey"},"salary",-1)),t("div",Qa,w(st(E.value?.vacancy?.position?.salary_amount)),1)])])):ae("",!0),t("div",Xa,[t("div",{class:R(["text-caption text-uppercase",u.employmentstatus.type?"text-negative text-italic":"text-grey"])},w(u.employmentstatus.type?u.employmentstatus.msg:"employment status"),3),t("div",Ja,[(h(!0),B(de,null,ce(vt.value,z=>(h(),Q(Se,{modelValue:M.value,"onUpdate:modelValue":x[15]||(x[15]=ie=>M.value=ie),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:z,label:z,class:"text-capitalize"},null,8,["modelValue","val","label"]))),256))])]),t("div",Za,[t("div",Ka,[t("div",{class:R(["text-caption text-uppercase",u.dateHired.msg?"text-negative text-italic":"text-grey"])},w(u.dateHired.msg?u.dateHired.msg:"date hired (YYYY-MM-DD)"),3),e(j,{outlined:"",modelValue:v.value,"onUpdate:modelValue":x[18]||(x[18]=z=>v.value=z),label:"Enter Date",error:u.dateHired.type,"no-error-icon":!0},{default:l(()=>[e(Ve,{cover:"","transition-show":"scale","transition-hide":"scale",ref_key:"popup",ref:Ie,class:"no-shadow custom-border radius-sm"},{default:l(()=>[e(be,{modelValue:v.value,"onUpdate:modelValue":[x[16]||(x[16]=z=>v.value=z),x[17]||(x[17]=()=>{Ie.value.hide()})],mask:"YYYY-MM-DD"},null,8,["modelValue"])]),_:1},512)]),_:1},8,["modelValue","error"])]),t("div",el,[t("div",{class:R(["text-caption text-uppercase",u.employeeNo.msg?"text-negative text-italic":"text-grey"])},w(u.employeeNo.msg?u.employeeNo.msg:"id number (YYYY-NNN)"),3),e(j,{modelValue:Y.value,"onUpdate:modelValue":x[19]||(x[19]=z=>Y.value=z),label:"Enter ID No.",mask:"####-###",outlined:"",error:u.employeeNo.type,"no-error-icon":!0},null,8,["modelValue","error"])])]),t("div",tl,[t("div",al,[t("div",{class:R(["text-caption text-uppercase",u.tin.type?"text-negative text-italic":"text-grey"])},w(u.tin.type?u.tin.msg:"TIN"),3),e(j,{modelValue:P.value,"onUpdate:modelValue":x[20]||(x[20]=z=>P.value=z),label:"Enter TIN",mask:"###-###-###-###",outlined:"",error:u.tin.type,"no-error-icon":!0,class:"text-capitalize"},null,8,["modelValue","error"])]),t("div",ll,[t("div",{class:R(["text-caption text-uppercase",u.sssNo.type?"text-negative text-italic":"text-grey"])},w(u.sssNo.type?u.sssNo.msg:"SSS no"),3),e(j,{modelValue:k.value,"onUpdate:modelValue":x[21]||(x[21]=z=>k.value=z),label:"Enter SSS No.",mask:"##-#######-#",outlined:"",error:u.sssNo.type,"no-error-icon":!0,class:"text-capitalize"},null,8,["modelValue","error"])]),t("div",sl,[t("div",{class:R(["text-caption text-uppercase",u.philhealthNo.type?"text-negative text-italic":"text-grey"])},w(u.philhealthNo.type?u.philhealthNo.msg:"Philhealth No."),3),e(j,{modelValue:o.value,"onUpdate:modelValue":x[22]||(x[22]=z=>o.value=z),label:"Enter Philhealth No.",mask:"##-#######-#",outlined:"",error:u.philhealthNo.type,"no-error-icon":!0,class:"text-capitalize"},null,8,["modelValue","error"])]),t("div",ol,[t("div",{class:R(["text-caption text-uppercase",u.pagibigNo.type?"text-negative text-italic":"text-grey"])},w(u.pagibigNo.type?u.pagibigNo.msg:"pagibig no."),3),e(j,{modelValue:d.value,"onUpdate:modelValue":x[23]||(x[23]=z=>d.value=z),label:"Enter Pagibig No.",mask:"####-####-####",outlined:"",error:u.pagibigNo.type,"no-error-icon":!0,class:"text-capitalize"},null,8,["modelValue","error"])])])])):$e.value===2?(h(),B("div",il,[x[50]||(x[50]=t("div",{class:"text-overline text-uppercase text-bold q-mb-md"},"salary schedule",-1)),t("div",nl,[t("div",{class:R(["text-caption text-uppercase",u.payrollgroup.type?"text-negative text-italic":"text-grey"])},w(u.payrollgroup.type?u.payrollgroup.msg:"payroll group"),3),t("div",rl,[(h(!0),B(de,null,ce(ft.value,z=>(h(),Q(Se,{modelValue:g.value,"onUpdate:modelValue":x[24]||(x[24]=ie=>g.value=ie),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:z,label:z,class:"text-capitalize"},null,8,["modelValue","val","label"]))),256))])]),t("div",dl,[t("div",ul,[t("div",{class:R(["text-caption text-uppercase",u.salarygroup.type?"text-negative text-italic":"text-grey"])},w(u.salarygroup.type?u.salarygroup.msg:"salary group"),3),e(Ue,{outlined:"",modelValue:i.value,"onUpdate:modelValue":x[25]||(x[25]=z=>i.value=z),label:"Choose Salary Group","emit-value":"","map-options":"","use-input":"","input-debounce":"300",options:gt.value,error:u.salarygroup.type,"hide-dropdown-icon":"","no-error-icon":!0,class:"text-capitalize"},{"no-option":l(()=>[e(fe,null,{default:l(()=>[e(he,{class:"text-italic text-grey"},{default:l(()=>x[48]||(x[48]=[me(" No options ")])),_:1,__:[48]})]),_:1})]),option:l(z=>[e(fe,Le(Oe(z.itemProps)),{default:l(()=>[e(he,null,{default:l(()=>[e(Ee,null,{default:l(()=>[me(w(I.$CapitalizeWords(z.opt.label)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","error"])]),t("div",cl,[t("div",{class:R(["text-caption text-uppercase",u.taxstatus.type?"text-negative text-italic":"text-grey"])},w(u.taxstatus.type?u.taxstatus.msg:"tax status"),3),e(Ue,{outlined:"",modelValue:f.value,"onUpdate:modelValue":x[26]||(x[26]=z=>f.value=z),label:"Choose Tax Status","use-input":"","input-debounce":"300",options:ht.value,error:u.taxstatus.type,"hide-dropdown-icon":"","no-error-icon":!0,class:"text-capitalize"},{"no-option":l(()=>[e(fe,null,{default:l(()=>[e(he,{class:"text-italic text-grey"},{default:l(()=>x[49]||(x[49]=[me(" No options ")])),_:1,__:[49]})]),_:1})]),option:l(z=>[e(fe,Le(Oe(z.itemProps)),{default:l(()=>[e(he,null,{default:l(()=>[e(Ee,null,{default:l(()=>[me(w(I.$CapitalizeWords(z.opt)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","error"])])])])):$e.value===3?(h(),B("div",pl,[x[54]||(x[54]=t("div",{class:"text-overline text-uppercase text-bold q-mb-md"},"shift schedule",-1)),t("div",ml,[t("div",vl,[t("div",{class:R(["text-caption text-uppercase",u.shiftId.type?"text-negative text-italic":"text-grey"])},w(u.shiftId.type?u.shiftId.msg:"shift"),3),e(Ue,{outlined:"",modelValue:b.value,"onUpdate:modelValue":x[27]||(x[27]=z=>b.value=z),label:"Choose Shift","use-input":"","emit-value":"","map-options":"","input-debounce":"300",options:Xe.value,onFilter:se(yt),error:u.shiftId.type,"hide-dropdown-icon":"","no-error-icon":!0,class:"text-capitalize"},{"no-option":l(()=>[e(fe,null,{default:l(()=>[e(he,{class:"text-italic text-grey"},{default:l(()=>x[51]||(x[51]=[me(" No options ")])),_:1,__:[51]})]),_:1})]),option:l(z=>[e(fe,Le(Oe(z.itemProps)),{default:l(()=>[e(he,null,{default:l(()=>[e(Ee,null,{default:l(()=>[me(w(I.$CapitalizeWords(z.opt.label)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","onFilter","error"])]),t("div",gl,[t("div",{class:R(["text-caption text-uppercase",u.effectiveFrom.type?"text-negative text-italic":"text-grey"])},w(u.effectiveFrom.type?u.effectiveFrom.msg:"effective from (YYYY-MM-DD)"),3),e(j,{outlined:"",modelValue:S.value,"onUpdate:modelValue":x[30]||(x[30]=z=>S.value=z),label:"Enter Date",error:u.effectiveFrom.type,"no-error-icon":!0},{default:l(()=>[e(Ve,{cover:"","transition-show":"scale","transition-hide":"scale",ref_key:"popup",ref:Ie,class:"no-shadow custom-border radius-sm"},{default:l(()=>[e(be,{modelValue:S.value,"onUpdate:modelValue":[x[28]||(x[28]=z=>S.value=z),x[29]||(x[29]=()=>{Ie.value.hide()})],mask:"YYYY-MM-DD"},null,8,["modelValue"])]),_:1},512)]),_:1},8,["modelValue","error"])]),t("div",fl,[x[52]||(x[52]=t("div",{class:"text-caption text-uppercase text-grey"},"effective to (YYYY-MM-DD)",-1)),e(j,{outlined:"",modelValue:V.value,"onUpdate:modelValue":x[33]||(x[33]=z=>V.value=z),label:"Enter Date","no-error-icon":!0},{default:l(()=>[e(Ve,{cover:"","transition-show":"scale","transition-hide":"scale",ref_key:"popup",ref:Ie,class:"no-shadow custom-border radius-sm"},{default:l(()=>[e(be,{modelValue:V.value,"onUpdate:modelValue":[x[31]||(x[31]=z=>V.value=z),x[32]||(x[32]=()=>{Ie.value.hide()})],mask:"YYYY-MM-DD"},null,8,["modelValue"])]),_:1},512)]),_:1},8,["modelValue"])]),t("div",hl,[x[53]||(x[53]=t("div",{class:"text-caption text-uppercase text-grey"},"notes",-1)),e(j,{modelValue:N.value,"onUpdate:modelValue":x[34]||(x[34]=z=>N.value=z),label:"Enter Notes",outlined:"","no-error-icon":!0,class:"text-capitalize"},null,8,["modelValue"])])])])):ae("",!0)]))]),_:1})]),_:1}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",xl,[$e.value>0?(h(),Q(H,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"back",onClick:x[35]||(x[35]=()=>{Pt()})})):ae("",!0),$e.value<it-1?(h(),Q(H,{key:1,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"next",onClick:x[36]||(x[36]=()=>{Ut()})})):ae("",!0),$e.value===it-1?(h(),Q(H,{key:2,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:x[37]||(x[37]=()=>{Dt()})})):ae("",!0),Me(e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",outline:""},null,512),[[We]]),$e.value===1&&!E.value?(h(),Q(j,{key:3,outlined:"",dense:"",debounce:"1000",modelValue:Je.value,"onUpdate:modelValue":x[38]||(x[38]=z=>Je.value=z),placeholder:"Search..."},{prepend:l(()=>[e(Be,{name:"bi-search",style:{"font-size":"1rem"}})]),after:l(()=>[t("div",yl,w(qt.value)+" of "+w(kt.value),1)]),_:1},8,["modelValue"])):ae("",!0)])]),_:1}),e(_e,{showing:p.value},{default:l(()=>[e(ee,{class:"no-shadow radius-md q-pa-md"},{default:l(()=>[e(O,{class:"text-center"},{default:l(()=>[t("div",null,[e(qe,{color:"dark"})]),x[55]||(x[55]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[55]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},bl=Ne(_l,[["__scopeId","data-v-93b98663"]]),Vl={class:"wrapper"},wl={class:"card-grid"},Sl={key:0,class:"card-anim-wrapper"},Dl={key:1,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},$l={key:2,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},ql={class:"text-caption text-uppercase"},kl={class:"text-subtitle2 text-uppercase"},El={class:"text-caption text-uppercase"},Ul={class:"text-caption text-grey"},Pl={class:"text-caption text-grey text-italic"},zl={class:"text-caption text-uppercase"},Nl={id:"glass-overlay"},Cl={__name:"EmployeeComponent",setup(G){const s=De(),c=ge(),_=n([]),q=n({}),p=n(1),E=n(10),y=n(!1),r=n(""),$=async()=>{y.value=!0;try{const{data:k}=await oe.get("/employee",{params:{Page:p.value,Limit:E.value,Filter:r.value||""}});_.value=k.data,q.value=k.meta}catch(k){console.error("Error fetching all data:",k),K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{y.value=!1}};Ct(r,()=>{p.value=1,$()});const A=()=>{p.value<q.value.TotalPages&&(p.value++,$())},L=()=>{p.value>1&&(p.value--,$())},C=()=>{p.value>1&&(p.value=1,$())},a=()=>{p.value<q.value.TotalPages&&(p.value=q.value.TotalPages,$())},m=k=>{if(!k)return"";const o=k.first_name||"",d=k.middle_name?k.middle_name.charAt(0).toUpperCase()+".":"",i=k.last_name||"",g=k.suffix?` ${k.suffix}`:"";return`${o} ${d} ${i}${g}`.trim()};et(()=>{$()}),n(!1),n(!1),n(null),n(""),n(""),n(""),n(""),n(""),n(""),n(new Date().toISOString().split("T")[0]),n(""),n(""),n(""),n(""),n(""),n(new Date().toISOString().split("T")[0]),n(""),n(""),n(""),n(""),n(""),n(""),n(""),n(""),n(""),n(""),n(""),n(new Date().toISOString().split("T")[0]),n(""),n(""),we({firstname:{type:null,msg:""},middlename:{type:null,msg:""},lastname:{type:null,msg:""},suffix:{type:null,msg:""},sex:{type:null,msg:""},civilstatus:{type:null,msg:""},birthdate:{type:null,msg:""},birthplace:{type:null,msg:""},address:{type:null,msg:""},email:{type:null,msg:""},contactNo:{type:null,msg:""},employeeNo:{type:null,msg:""},dateHired:{type:null,msg:""},employmentstatus:{type:null,msg:""},departmentId:{type:null,msg:""},positionId:{type:null,msg:""},tin:{type:null,msg:""},sssNo:{type:null,msg:""},philhealthNo:{type:null,msg:""},pagibigNo:{type:null,msg:""},salarygroup:{type:null,msg:""},payrollgroup:{type:null,msg:""},taxstatus:{type:null,msg:""},shiftId:{type:null,msg:""},effectiveFrom:{type:null,msg:""}}),n([]),n(["Male","Female"]),n(["Single","Married","Widowed","Divorced","Separated"]),n(["Regular","Probationary","Contractual","Temporary","Intern"]);const U=n([]);n([]),n([]),n([{value:"HIRE",label:"Hiring Rate"},{value:"PROMO",label:"Promotion Increase"},{value:"MERIT",label:"Merit Increase"},{value:"ANNUAL",label:"Annual Increase"},{value:"COLA",label:"Cost of Living Allowance"},{value:"PROB",label:"Probationary Increase"},{value:"ADJUST",label:"Salary Adjustment"},{value:"GOVT",label:"Government Mandated Increase"}]),n(["Monthly","Semi-Monthly","Weekly"]),n(["S","ME","S1","S2","S3","S4","ME1","ME2","ME3","ME4","Z"]),n([]),n([]);function F(k,o="PHP"){if(!k)return"";const d=k.split("|")[0].trim(),i=parseFloat(d.replace(/,/g,""));return isNaN(i)?k:i.toLocaleString("en-PH",{style:"currency",currency:o,minimumFractionDigits:2})}n(null);const T=n(""),Y=ue(()=>{const k=T.value.trim().toLowerCase();return U.value.filter(o=>o.status==="Vacant").filter(o=>!k||String(o.label||"").toLowerCase().includes(k))}),v=ue(()=>Y.value.slice(0,5));ue(()=>v.value.length),ue(()=>Y.value.length),n(0);const M=n(null),D=k=>{M.value=k},P=n(!0);return nt(()=>{setTimeout(()=>{P.value=!1},1e3)}),(k,o)=>(h(),B("div",Vl,[t("div",wl,[se(s).hasRole(["SuperAdmin","Admin","HR"])?(h(),B("div",Sl,[Me((h(),Q(ee,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm",onClick:o[0]||(o[0]=()=>{D("EmployeeDialog")})},{default:l(()=>[e(O,null,{default:l(()=>[e(Be,{name:"bi-plus-circle",color:"grey",size:"xl"})]),_:1})]),_:1})),[[At]])])):ae("",!0),y.value?(h(),B("div",Dl,[e(ee,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:l(()=>[e(O,{class:"text-center"},{default:l(()=>[e(qe,{color:"dark"}),o[4]||(o[4]=t("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))]),_:1,__:[4]})]),_:1})])):!y.value&&_.value.length===0?(h(),B("div",$l,[e(ee,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:l(()=>[e(O,{class:"text-center"},{default:l(()=>o[5]||(o[5]=[t("div",{class:"text-caption text-uppercase text-grey"},"no data found",-1)])),_:1,__:[5]})]),_:1})])):ae("",!0),(h(!0),B(de,null,ce(_.value,(d,i)=>(h(),B("div",{key:`data-${d.id}`,class:"card-anim-wrapper",style:Ce({animationDelay:`${i*120}ms`})},[e(ee,{onClick:()=>{se(c).component="ProfileComponent",se(c).data=d},class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:l(()=>[e(O,null,{default:l(()=>[t("div",ql,w(d?.employment?.employee_no),1),t("div",kl,w(m(d)),1)]),_:2},1024),e(O,null,{default:l(()=>[t("div",El,w(d?.employment?.position?.name),1),t("div",Ul,w(d?.employment?.employment_status),1),t("div",Pl,w(F(d?.employment?.position?.amount)),1)]),_:2},1024),t("div",{class:R(["absolute-top-left q-ma-sm",d.status=="Active"?"bg-positive":"bg-negative"]),style:{width:"7px",height:"7px","border-radius":"50%"}},null,2)]),_:2},1032,["onClick"])],4))),128))]),e(Ft,{class:"bg-white no-shadow q-mx-lg q-mb-md q-py-sm radius-xs text-grey"},{default:l(()=>[e(Tt,null,{default:l(()=>[e(Rt,{class:"text-caption text-uppercase"},{default:l(()=>o[6]||(o[6]=[t("div",null,"Â© 2025 WORKFORCE. All Rights Reserved.",-1)])),_:1,__:[6]}),e(j,{outlined:"",dense:"",debounce:"1000",modelValue:r.value,"onUpdate:modelValue":o[1]||(o[1]=d=>r.value=d),placeholder:"Search..."},{before:l(()=>[t("div",zl,w(`page ${q.value.CurrentPage} of ${q.value.TotalPages}`),1)]),after:l(()=>[e(H,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-bar-left",disable:p.value<=1,onClick:C},{default:l(()=>[e(Ye,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:l(()=>o[7]||(o[7]=[me("First Page")])),_:1,__:[7]})]),_:1},8,["disable"]),e(H,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-left-short",disable:p.value<=1,onClick:L},{default:l(()=>[e(Ye,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:l(()=>o[8]||(o[8]=[me("Previous")])),_:1,__:[8]})]),_:1},8,["disable"]),e(H,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-right-short",disable:p.value>=q.value.TotalPages,onClick:A},{default:l(()=>[e(Ye,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:l(()=>o[9]||(o[9]=[me("Next")])),_:1,__:[9]})]),_:1},8,["disable"]),e(H,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-bar-right",disable:p.value>=q.value.TotalPages,onClick:a},{default:l(()=>[e(Ye,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:l(()=>o[10]||(o[10]=[me("Last Page")])),_:1,__:[10]})]),_:1},8,["disable"])]),prepend:l(()=>[e(Be,{name:"bi-search",style:{"font-size":"1rem"}})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(bl,{modelValue:M.value,"onUpdate:modelValue":o[2]||(o[2]=d=>M.value=d),"dialog-name":"EmployeeDialog",onSaved:o[3]||(o[3]=()=>{$()})},null,8,["modelValue"]),e(at,{name:"glass-fade"},{default:l(()=>[Me(t("div",Nl,[e(ee,{class:"no-shadow radius-md q-pa-md"},{default:l(()=>[e(O,{class:"text-center"},{default:l(()=>[t("div",null,[e(qe,{color:"dark"})]),o[11]||(o[11]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[11]})]),_:1})],512),[[rt,P.value]])]),_:1})]))}},Al=Ne(Cl,[["__scopeId","data-v-2182a2ea"]]),Il={class:"row q-col-gutter-xs q-mb-md"},Ml={class:"col-2"},Tl={class:"col-2"},Rl={class:"col-2"},Fl={class:"col-1"},Yl={class:"row q-col-gutter-xs q-mb-md"},Ll={class:"col-2"},Ol={class:"q-gutter-sm"},Bl={class:"col"},jl={class:"q-gutter-sm"},Hl={class:"row q-col-gutter-xs q-mb-md"},Wl={class:"col-2"},Gl={class:"col-4"},Ql={class:"row q-col-gutter-xs q-mb-md"},Xl={class:"col-6"},Jl={class:"q-gutter-sm"},Zl={class:"row q-col-gutter-xs q-mb-md"},Kl={class:"col-2"},es={class:"col-2"},ts={class:"q-gutter-sm"},as={__name:"ProfileDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue","saved"],setup(G,{emit:s}){const c=De(),_=ge(),q=G,p=s,E=ue({get:()=>q.modelValue===q.dialogName,set:V=>{V||p("update:modelValue",null)}}),y=n(!1),r=n(""),$=n(""),A=n(""),L=n(""),C=n(""),a=n(""),m=n(""),U=n(""),F=n(""),T=n(""),Y=n(""),v=we({firstname:{type:null,msg:""},middlename:{type:null,msg:""},lastname:{type:null,msg:""},suffix:{type:null,msg:""},sex:{type:null,msg:""},civilstatus:{type:null,msg:""},birthdate:{type:null,msg:""},birthplace:{type:null,msg:""},address:{type:null,msg:""},email:{type:null,msg:""},contactNo:{type:null,msg:""}}),M=()=>K.fire({icon:"error",html:`
      <div class="text-h6 text-bold text-uppercase">Request Failed</div>
      <div class="text-caption">Something went wrong.</div>
    `}),D=(V,N="required")=>(v[V].type=!0,v[V].msg=N,!0),P=V=>(v[V].type=null,v[V].msg="",!1),k=(V,N)=>N?P(V):D(V,"required"),o=V=>{if(!V)return!1;const N=new Date,u=new Date(V);let ne=N.getFullYear()-u.getFullYear();const W=N.getMonth()-u.getMonth();return(W<0||W===0&&N.getDate()<u.getDate())&&ne--,ne>=15},d=()=>{const V=["SR","JR","II","III","IV","V","VI","VII","VIII","IX","X"],N=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,u=/^09\d{9}$/;let ne=!1;return ne||=k("firstname",r.value),ne||=k("middlename",$.value),ne||=k("lastname",A.value),ne||=L.value&&!V.includes(L.value.trim().toUpperCase())?D("suffix","invalid"):P("suffix"),ne||=k("sex",C.value),ne||=k("civilstatus",a.value),m.value?o(m.value)?P("birthdate"):ne||=D("birthdate","invalid"):ne||=D("birthdate","required"),ne||=k("birthplace",U.value),T.value?N.test(T.value)?T.value.length>100?ne||=D("email","invalid"):P("email"):ne||=D("email","invalid"):ne||=D("email","required"),Y.value?u.test(Y.value)?P("contactNo"):ne||=D("contactNo","invalid"):ne||=D("contactNo","required"),ne||=k("address",F.value),ne&&M(),!ne},i=n(["Male","Female"]),g=n(["Single","Married","Widowed","Divorced","Separated"]),f=()=>{const V=_.data;r.value=V.first_name,$.value=V.middle_name,A.value=V.last_name,L.value=V.suffix,C.value=V.sex,a.value=V.civil_status,m.value=V.birthdate,U.value=V.birthplace,F.value=V.address,T.value=V.email,Y.value=V.contact_number},b=async()=>{if(!(d&&!d())){y.value=!0;try{const V=await oe.post(`/employee/${_.data?.id}/information`,{firstname:r.value,middlename:$.value,lastname:A.value,suffix:L.value,sex:C.value,civilstatus:a.value,birthdate:m.value,address:F.value,email:T.value,contactNo:Y.value});p("saved"),p("update:modelValue",null),K.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${V.data.message}<div>
            `})}catch(V){V.response&&V.response.data&&(S(V.response.data),K.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{y.value=!1}}},S=V=>{const N=Array.isArray(V)?V:V?.errors||[];Object.keys(v).forEach(u=>{v[u].type=null,v[u].messages=[]}),N.forEach(u=>{v[u.path]!==void 0&&(v[u.path].type=!0,v[u.path].messages.push(u.msg))})};return(V,N)=>(h(),Q(ve,{modelValue:E.value,"onUpdate:modelValue":N[15]||(N[15]=u=>E.value=u),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:N[16]||(N[16]=u=>f())},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(O,{class:"q-pa-lg"},{default:l(()=>N[17]||(N[17]=[t("div",{class:"text-h6 text-uppercase"},"profile information",-1)])),_:1,__:[17]}),e(xe,{inset:""}),e(O,{class:"col q-pa-lg scroll"},{default:l(()=>[t("div",Il,[t("div",Ml,[t("div",{class:R(["text-caption text-uppercase",v.firstname.type?"text-negative text-italic":"text-grey"])},w(v.firstname.type?v.firstname.msg:"firstname"),3),e(j,{modelValue:r.value,"onUpdate:modelValue":N[0]||(N[0]=u=>r.value=u),label:"Enter Firstname",outlined:"",error:v.firstname.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])]),t("div",Tl,[t("div",{class:R(["text-caption text-uppercase",v.middlename.type?"text-negative text-italic":"text-grey"])},w(v.middlename.type?v.middlename.msg:"middlename"),3),e(j,{modelValue:$.value,"onUpdate:modelValue":N[1]||(N[1]=u=>$.value=u),label:"Enter Middlename",outlined:"",error:v.middlename.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])]),t("div",Rl,[t("div",{class:R(["text-caption text-uppercase",v.lastname.type?"text-negative text-italic":"text-grey"])},w(v.lastname.type?v.lastname.msg:"lastname"),3),e(j,{modelValue:A.value,"onUpdate:modelValue":N[2]||(N[2]=u=>A.value=u),label:"Enter Lastname",outlined:"",error:v.lastname.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])]),t("div",Fl,[t("div",{class:R(["text-caption text-uppercase",v.suffix.type?"text-negative text-italic":"text-grey"])},w(v.suffix.type?v.suffix.msg:"suffix"),3),e(j,{modelValue:L.value,"onUpdate:modelValue":N[3]||(N[3]=u=>L.value=u),label:"Enter Suffix",outlined:"",error:v.suffix.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])])]),t("div",Yl,[t("div",Ll,[t("div",{class:R(["text-caption text-uppercase",v.sex.type?"text-negative text-italic":"text-grey"])},w(v.sex.type?v.sex.msg:"sex"),3),t("div",Ol,[(h(!0),B(de,null,ce(i.value,u=>(h(),Q(Se,{modelValue:C.value,"onUpdate:modelValue":N[4]||(N[4]=ne=>C.value=ne),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:u,label:u},null,8,["modelValue","val","label"]))),256))])]),t("div",Bl,[t("div",{class:R(["text-caption text-uppercase",v.civilstatus.type?"text-negative text-italic":"text-grey"])},w(v.civilstatus.type?v.civilstatus.msg:"civil status"),3),t("div",jl,[(h(!0),B(de,null,ce(g.value,u=>(h(),Q(Se,{modelValue:a.value,"onUpdate:modelValue":N[5]||(N[5]=ne=>a.value=ne),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:u,label:u},null,8,["modelValue","val","label"]))),256))])])]),t("div",Hl,[t("div",Wl,[t("div",{class:R(["text-caption text-uppercase",v.birthdate.type?"text-negative text-italic":"text-grey"])},w(v.birthdate.type?v.birthdate.msg:"birthdate (YYYY-MM-DD)"),3),e(j,{outlined:"",modelValue:m.value,"onUpdate:modelValue":N[8]||(N[8]=u=>m.value=u),label:"Enter Date",error:v.birthdate.type,"no-error-icon":!0},{default:l(()=>[e(Ve,{cover:"","transition-show":"scale","transition-hide":"scale",ref:"popup",class:"no-shadow custom-border radius-sm"},{default:l(()=>[e(be,{modelValue:m.value,"onUpdate:modelValue":[N[6]||(N[6]=u=>m.value=u),N[7]||(N[7]=()=>{V.popup.hide()})],mask:"YYYY-MM-DD"},null,8,["modelValue"])]),_:1},512)]),_:1},8,["modelValue","error"])]),t("div",Gl,[t("div",{class:R(["text-caption text-uppercase",v.birthplace.type?"text-negative text-italic":"text-grey"])},w(v.birthplace.type?v.birthplace.msg:"birthplace"),3),e(j,{modelValue:U.value,"onUpdate:modelValue":N[9]||(N[9]=u=>U.value=u),label:"Enter Birthplace",outlined:"",error:v.birthplace.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])])]),t("div",Ql,[t("div",Xl,[t("div",{class:R(["text-caption text-uppercase",v.address.type?"text-negative text-italic":"text-grey"])},w(v.address.type?v.address.msg:"address"),3),t("div",Jl,[e(j,{modelValue:F.value,"onUpdate:modelValue":N[10]||(N[10]=u=>F.value=u),label:"Enter Address",outlined:"",error:v.address.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])])])]),t("div",Zl,[t("div",Kl,[t("div",{class:R(["text-caption text-uppercase",v.email.type?"text-negative text-italic":"text-grey"])},w(v.email.type?v.email.msg:"email address"),3),e(j,{modelValue:T.value,"onUpdate:modelValue":N[11]||(N[11]=u=>T.value=u),label:"Enter Email Address",outlined:"",error:v.email.type,"no-error-icon":!0},null,8,["modelValue","error"])]),t("div",es,[t("div",{class:R(["text-caption text-uppercase",v.contactNo.type?"text-negative text-italic":"text-grey"])},w(v.contactNo.type?v.contactNo.msg:"contact number"),3),e(j,{modelValue:Y.value,"onUpdate:modelValue":N[12]||(N[12]=u=>Y.value=u),label:"Enter Contact No.",outlined:"",error:v.contactNo.type,"no-error-icon":!0},null,8,["modelValue","error"])])])]),_:1}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",ts,[se(c).hasRole(["SuperAdmin","Admin","HR"])?(h(),Q(H,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:N[13]||(N[13]=u=>b())})):ae("",!0),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:N[14]||(N[14]=()=>{p("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:y.value},{default:l(()=>[e(ee,{class:"no-shadow radius-md q-pa-md"},{default:l(()=>[e(O,{class:"text-center"},{default:l(()=>[t("div",null,[e(qe,{color:"dark"})]),N[18]||(N[18]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[18]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},ls={class:"q-mb-md"},ss={class:"q-gutter-sm"},os={class:"row q-col-gutter-xs q-mb-md"},is={class:"col-2"},ns={class:"col-2"},rs={class:"row q-col-gutter-xs q-mb-md"},ds={class:"col-2"},us={class:"col-2"},cs={class:"col-2"},ps={class:"col-2"},ms={class:"q-gutter-sm"},vs={__name:"EmploymentDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue","saved"],setup(G,{emit:s}){const c=De(),_=ge(),q=G,p=s,E=ue({get:()=>q.modelValue===q.dialogName,set:i=>{i||p("update:modelValue",null)}}),y=n(!1),r=n(""),$=n(""),A=n(""),L=n(""),C=n(""),a=n(""),m=n(""),U=we({employeeNo:{type:null,msg:""},dateHired:{type:null,msg:""},employmentstatus:{type:null,msg:""},tin:{type:null,msg:""},sssNo:{type:null,msg:""},philhealthNo:{type:null,msg:""},pagibigNo:{type:null,msg:""}}),F=()=>K.fire({icon:"error",html:`
      <div class="text-h6 text-bold text-uppercase">Request Failed</div>
      <div class="text-caption">Something went wrong.</div>
    `}),T=(i,g="required")=>(U[i].type=!0,U[i].msg=g,!0),Y=i=>(U[i].type=null,U[i].msg="",!1),v=(i,g)=>g?Y(i):T(i,"required"),M=(i,g,f,b="invalid")=>g&&String(g).length>f?T(i,b):Y(i),D=()=>{let i=!1;return i||=v("employmentstatus",A.value),i||=v("dateHired",$.value),i||=M("tin",L.value,15,"invalid"),i||=M("sssNo",C.value,15,"invalid"),i||=M("philhealthNo",a.value,15,"invalid"),i||=M("pagibigNo",m.value,15,"invalid"),i&&F(),!i},P=n(["Regular","Probationary","Contractual","Temporary","Intern"]),k=()=>{const i=_.data;r.value=i.employment?.employee_no,$.value=i.employment?.date_hired,A.value=i.employment.employment_status,L.value=i.employment.tin,C.value=i.employment.sss_no,a.value=i.employment.philhealth_no,m.value=i.employment.pagibig_no},o=async()=>{if(!(D&&!D())){y.value=!0;try{const i=await oe.post(`/employee/${_.data?.employment?.id}/employment`,{employeeNo:r.value,dateHired:$.value,employmentstatus:A.value,tin:L.value,sssNo:C.value,pagibigNo:m.value,philhealthNo:a.value});p("saved"),p("update:modelValue",null),K.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${i.data.message}<div>
            `})}catch(i){i.response&&i.response.data&&(d(i.response.data),K.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{y.value=!1}}},d=i=>{const g=Array.isArray(i)?i:i?.errors||[];Object.keys(U).forEach(f=>{U[f].type=null,U[f].messages=[]}),g.forEach(f=>{U[f.path]!==void 0&&(U[f.path].type=!0,U[f.path].messages.push(f.msg))})};return(i,g)=>(h(),Q(ve,{modelValue:E.value,"onUpdate:modelValue":g[11]||(g[11]=f=>E.value=f),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:g[12]||(g[12]=f=>k())},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(O,{class:"q-pa-lg"},{default:l(()=>g[13]||(g[13]=[t("div",{class:"text-h6 text-uppercase"},"employment information",-1)])),_:1,__:[13]}),e(xe,{inset:""}),e(O,{class:"col q-pa-lg scroll"},{default:l(()=>[t("div",ls,[t("div",{class:R(["text-caption text-uppercase",U.employmentstatus.type?"text-negative text-italic":"text-grey"])},w(U.employmentstatus.type?U.employmentstatus.msg:"employment status"),3),t("div",ss,[(h(!0),B(de,null,ce(P.value,f=>(h(),Q(Se,{modelValue:A.value,"onUpdate:modelValue":g[0]||(g[0]=b=>A.value=b),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:f,label:f,class:"text-capitalize"},null,8,["modelValue","val","label"]))),256))])]),t("div",os,[t("div",is,[t("div",{class:R(["text-caption text-uppercase",U.dateHired.msg?"text-negative text-italic":"text-grey"])},w(U.dateHired.msg?U.dateHired.msg:"date hired (YYYY-MM-DD)"),3),e(j,{outlined:"",modelValue:$.value,"onUpdate:modelValue":g[3]||(g[3]=f=>$.value=f),label:"Enter Date",error:U.dateHired.type,"no-error-icon":!0},{default:l(()=>[e(Ve,{cover:"","transition-show":"scale","transition-hide":"scale",ref:"popup",class:"no-shadow custom-border radius-sm"},{default:l(()=>[e(be,{modelValue:$.value,"onUpdate:modelValue":[g[1]||(g[1]=f=>$.value=f),g[2]||(g[2]=()=>{i.popup.hide()})],mask:"YYYY-MM-DD"},null,8,["modelValue"])]),_:1},512)]),_:1},8,["modelValue","error"])]),t("div",ns,[t("div",{class:R(["text-caption text-uppercase",U.employeeNo.msg?"text-negative text-italic":"text-grey"])},w(U.employeeNo.msg?U.employeeNo.msg:"id number (YYYY-NNN)"),3),e(j,{modelValue:r.value,"onUpdate:modelValue":g[4]||(g[4]=f=>r.value=f),label:"Enter ID No.",mask:"####-###",outlined:"",error:U.employeeNo.type,"no-error-icon":!0},null,8,["modelValue","error"])])]),t("div",rs,[t("div",ds,[t("div",{class:R(["text-caption text-uppercase",U.tin.type?"text-negative text-italic":"text-grey"])},w(U.tin.type?U.tin.msg:"TIN"),3),e(j,{modelValue:L.value,"onUpdate:modelValue":g[5]||(g[5]=f=>L.value=f),label:"Enter TIN",outlined:"",error:U.tin.type,"no-error-icon":!0,class:"text-capitalize"},null,8,["modelValue","error"])]),t("div",us,[t("div",{class:R(["text-caption text-uppercase",U.sssNo.type?"text-negative text-italic":"text-grey"])},w(U.sssNo.type?U.sssNo.msg:"SSS no"),3),e(j,{modelValue:C.value,"onUpdate:modelValue":g[6]||(g[6]=f=>C.value=f),label:"Enter SSS No.",outlined:"",error:U.sssNo.type,"no-error-icon":!0,class:"text-capitalize"},null,8,["modelValue","error"])]),t("div",cs,[t("div",{class:R(["text-caption text-uppercase",U.philhealthNo.type?"text-negative text-italic":"text-grey"])},w(U.philhealthNo.type?U.philhealthNo.msg:"Philhealth No."),3),e(j,{modelValue:a.value,"onUpdate:modelValue":g[7]||(g[7]=f=>a.value=f),label:"Enter Philhealth No.",outlined:"",error:U.philhealthNo.type,"no-error-icon":!0,class:"text-capitalize"},null,8,["modelValue","error"])]),t("div",ps,[t("div",{class:R(["text-caption text-uppercase",U.pagibigNo.type?"text-negative text-italic":"text-grey"])},w(U.pagibigNo.type?U.pagibigNo.msg:"pagibig no."),3),e(j,{modelValue:m.value,"onUpdate:modelValue":g[8]||(g[8]=f=>m.value=f),label:"Enter Pagibig No.",outlined:"",error:U.pagibigNo.type,"no-error-icon":!0,class:"text-capitalize"},null,8,["modelValue","error"])])])]),_:1}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",ms,[se(c).hasRole(["SuperAdmin","Admin","HR"])?(h(),Q(H,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:g[9]||(g[9]=f=>o())})):ae("",!0),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:g[10]||(g[10]=()=>{p("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:y.value},{default:l(()=>[e(ee,{class:"no-shadow radius-md q-pa-md"},{default:l(()=>[e(O,{class:"text-center"},{default:l(()=>[t("div",null,[e(qe,{color:"dark"})]),g[14]||(g[14]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[14]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},gs={class:"card-grid"},fs={key:0,class:"inner-card-anim-wrapper",style:{animationDelay:"120ms"}},hs={key:1,class:"inner-card-anim-wrapper",style:{animationDelay:"120ms"}},xs={class:"text-subtitle2 text-uppercase"},ys={class:"text-caption text-uppercase"},_s={class:"text-caption text-uppercase"},bs={class:"text-caption text-grey"},Vs={key:0,class:"absolute-left"},ws={class:"q-gutter-sm"},Ss={class:"text-center"},Ds={class:"iframe-container"},$s=["src"],qs={__name:"ServiceDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(G,{emit:s}){const c=De(),_=ge(),q=G,p=s,E=ue({get:()=>q.modelValue===q.dialogName,set:M=>{M||p("update:modelValue",null)}}),y=n(!1),r=n([{id:"",amount:"",salarytype:"",salarygroup:"",effectiveDate:"",endDate:"",notes:""}]),$=async M=>{y.value=!0;try{const D=await oe.get("/employee/service",{params:{id:M}});A(D.data.record)}catch(D){console.error("Error fetching all data:",D),K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{y.value=!1}},A=(M=[])=>{r.value=M.map(D=>({id:D.id??"",amount:D.amount??"",salarytype:D.salary_type??"",salarygroup:D.salary_group??"",effectiveDate:D.effective_date??"",endDate:D.end_date??"",notes:D.notes??"",is_active:D.is_active??""}))},L=()=>{$(_.data?.id),T.value=""};we({amount:{type:null,msg:""},salarytype:{type:null,msg:""},salarygroup:{type:null,msg:""},effectivedate:{type:null,msg:""},enddate:{type:null,msg:""},notes:{type:null,msg:""}});function C(M,D="PHP"){return M?M.split("-").map(P=>parseFloat(P.replace(/,/g,"")).toLocaleString("en-PH",{style:"currency",currency:D,minimumFractionDigits:2})).join(" - "):""}const a=M=>{if(!M?.effectiveDate)return"";const D=o=>new Date(o).toLocaleDateString("en-PH",{year:"numeric",month:"short",day:"2-digit"}),P=D(M.effectiveDate),k=M.endDate?D(M.endDate):"Present";return`${P} â ${k}`},m=n(!1),U=n(null),F=async M=>{y.value=!0;try{const D=await oe.get(`/salary/service/${M}/pdf`,{responseType:"arraybuffer"}),P=new Blob([D.data],{type:"application/pdf"}),k=window.URL.createObjectURL(P)+"#view=FitW";U.value=k,m.value=!0,y.value=!1}catch(D){y.value=!1,console.error("Error generating PDF:",D)}},T=n(""),Y=async()=>{y.value=!0;try{const M=await oe.post(`/employee/${T.value}/salary/disable`);$(_.data?.id),T.value="",K.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${M.data.message}<div>
            `})}catch(M){M.response&&M.response.data&&(applyBackendErrors(M.response.data),K.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{y.value=!1}},v=ue(()=>c.hasRole(["SuperAdmin","Admin","HR"]));return(M,D)=>(h(),B(de,null,[e(ve,{modelValue:E.value,"onUpdate:modelValue":D[4]||(D[4]=P=>E.value=P),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:D[5]||(D[5]=P=>L())},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(O,{class:"q-pa-lg"},{default:l(()=>D[7]||(D[7]=[t("div",{class:"text-h6 text-uppercase"},"service records",-1)])),_:1,__:[7]}),e(xe,{inset:""}),e(O,{class:"col q-pa-lg scroll"},{default:l(()=>[t("div",gs,[M.loading?(h(),B("div",fs,[e(ee,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:l(()=>[e(O,{class:"text-center"},{default:l(()=>[e(ke,{size:"md"}),D[8]||(D[8]=t("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))]),_:1,__:[8]})]),_:1})])):!M.loading&&r.value.length===0?(h(),B("div",hs,[e(ee,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:l(()=>[e(O,{class:"text-center"},{default:l(()=>D[9]||(D[9]=[t("div",{class:"text-caption text-uppercase text-grey"},"no data found",-1)])),_:1,__:[9]})]),_:1})])):ae("",!0),(h(!0),B(de,null,ce(r.value,(P,k)=>(h(),B("div",{key:`data-${P.id}`,class:"inner-card-anim-wrapper",style:Ce({animationDelay:`${k*120}ms`})},[e(ee,{class:R(["card card-menu card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm",{"card--active":T.value===P.id,"card--disabled":!P.is_active||!v.value}]),onClick:o=>T.value=P.id},{default:l(()=>[e(O,{class:"text-center full-width"},{default:l(()=>[t("div",xs,w(C(P?.amount)),1),t("div",ys,w(P?.salarytype),1)]),_:2},1024),e(O,{class:"full-width"},{default:l(()=>[t("div",_s,w(P?.salarygroup),1),t("div",bs,w(a(P)),1)]),_:2},1024),P.is_active?(h(),B("div",Vs,[e(Se,{modelValue:T.value,"onUpdate:modelValue":D[0]||(D[0]=o=>T.value=o),val:P.id,"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",size:"xs"},null,8,["modelValue","val"])])):ae("",!0)]),_:2},1032,["onClick","class"])],4))),128))])]),_:1}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",ws,[T.value!=""&&se(c).hasRole(["SuperAdmin","Admin","HR"])?(h(),Q(H,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"remove",onClick:D[1]||(D[1]=P=>Y())})):ae("",!0),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"print",onClick:D[2]||(D[2]=P=>F(se(_).data?.id))}),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:D[3]||(D[3]=()=>{p("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:y.value},{default:l(()=>[t("div",Ss,[e(ke,{size:"md"}),D[10]||(D[10]=t("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))])]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]),e(ve,{modelValue:m.value,"onUpdate:modelValue":D[6]||(D[6]=P=>m.value=P),"full-height":"","full-width":"",class:"pdf"},{default:l(()=>[e(ee,{class:"bg-white q-pa-none",style:{height:"100vh",overflow:"hidden"}},{default:l(()=>[Me(e(H,{icon:"bi-x",class:"fixed bg-white text-primary shadow-2",round:"",dense:"",style:{top:"15px",right:"15px","z-index":"999"}},null,512),[[We]]),e(O,{class:"q-pa-none",style:{height:"100%",overflow:"hidden"}},{default:l(()=>[t("div",Ds,[U.value?(h(),B("iframe",{key:0,src:U.value,frameborder:"0"},null,8,$s)):ae("",!0)])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},ks=Ne(qs,[["__scopeId","data-v-a1d861ec"]]),Es={class:"q-gutter-sm"},Us={__name:"BiometricDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(G,{emit:s}){const c=De(),_=ge(),q=G,p=s,E=ue({get:()=>q.modelValue===q.dialogName,set:F=>{F||p("update:modelValue",null)}}),y=n(!1),r=n(null);n(""),n(null),n(!1);async function $(){const F="/models";await Ke.ssdMobilenetv1.loadFromUri(F),await Ke.faceLandmark68Net.loadFromUri(F),await Ke.faceRecognitionNet.loadFromUri(F)}async function A(){if(!r.value)return null;try{const F=await r.value.snapshot();return await L(F)}catch(F){return console.error("Error capturing snapshot:",F),null}}function L(F){return new Promise((T,Y)=>{const v=new Image;v.onload=()=>T(v),v.onerror=Y,v.src=URL.createObjectURL(F)})}async function C(){const F=await A();if(!F)return null;const T=await ma(F).withFaceLandmarks().withFaceDescriptor();return T?{descriptor:T.descriptor,img:F}:null}const a=async()=>{y.value=!0;const F=await C();if(!F||!F.img||!F.descriptor){K.fire({icon:"error",title:"No face detected",text:"Please align your face and try again."}),y.value=!1;return}const T=document.createElement("canvas");T.width=F.img.width,T.height=F.img.height,T.getContext("2d").drawImage(F.img,0,0);try{const v=await oe.post(`/employee/${_.data?.id}/biometric`,{descriptor:Array.from(F.descriptor),imageBase64:T.toDataURL("image/png")});p("update:modelValue",null),K.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${v.data.message}<div>
            `})}catch(v){v.response&&v.response.data&&(m(v.response.data),K.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{y.value=!1}},m=F=>{const T=Array.isArray(F)?F:F?.errors||[];Object.keys(Errors).forEach(Y=>{Errors[Y].type=null,Errors[Y].messages=[]}),T.forEach(Y=>{Errors[Y.path]!==void 0&&(Errors[Y.path].type=!0,Errors[Y.path].messages.push(Y.msg))})},U=async F=>{await $()};return(F,T)=>(h(),Q(ve,{modelValue:E.value,"onUpdate:modelValue":T[4]||(T[4]=Y=>E.value=Y),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:T[5]||(T[5]=Y=>U())},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(O,{class:"q-pa-lg"},{default:l(()=>T[6]||(T[6]=[t("div",{class:"text-h6 text-uppercase"},"face recognition",-1)])),_:1,__:[6]}),e(xe,{inset:""}),e(O,{class:"col q-pa-lg scroll"},{default:l(()=>[e(se(pa),{onLoading:T[0]||(T[0]=()=>{y.value=!0}),onStarted:T[1]||(T[1]=()=>{y.value=!1}),ref_key:"camera",ref:r},null,512)]),_:1}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",Es,[se(c).hasRole(["SuperAdmin","Admin","HR"])?(h(),Q(H,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:T[2]||(T[2]=Y=>a())})):ae("",!0),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:T[3]||(T[3]=()=>{p("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:y.value},{default:l(()=>[e(ee,{class:"no-shadow radius-md q-pa-md"},{default:l(()=>[e(O,{class:"text-center"},{default:l(()=>[t("div",null,[e(qe,{color:"dark"})]),T[7]||(T[7]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[7]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},Ps={class:"profile-section q-mb-lg"},zs=["src"],Ns={key:0,class:"row"},Cs={class:"q-gutter-sm"},As={__name:"PhotoDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue","saved"],setup(G,{emit:s}){const c=De(),_=ge(),q=G,p=s,E=ue({get:()=>q.modelValue===q.dialogName,set:Y=>{Y||p("update:modelValue",null)}}),y=n(!1),r=Y=>{const v="https://hris-ccmi.com",M="/photos/Default.png";return Y?`${v}${Y}`:`${v}${M}`},$=n(null),A=async Y=>{y.value=!0;try{const v=await oe.get("/employee/photo",{params:{id:Y}});$.value=v.data.record}catch(v){console.error("Error fetching all data:",v),K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{y.value=!1}},L=()=>{A(_.data?.id)},C=n(""),a=()=>{C.value=""},m=we({file:{type:null,msg:""}}),U=()=>{let Y=!1;const v=5*1024*1024,M=["image/jpeg","image/png"];return C.value?M.includes(C.value.type)?C.value.size>v&&(m.file.type=!0,m.file.msg="file size must not exceed to 5MB",Y=!0):(m.file.type=!0,m.file.msg="file must be a image file",Y=!0):(m.file.type=!0,m.file.msg="file is required",Y=!0),Y&&K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                <div class="text-caption">Something went wrong.</div>
            `}),!Y},F=async()=>{if(U()){y.value=!0;try{const Y=new FormData;Y.append("file",C.value);const v=await oe.post(`/employee/${_.data?.id}/photo`,Y,{headers:{"Content-Type":"multipart/form-data"}});p("saved"),p("update:modelValue",null),K.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${v.data.message}<div>
            `})}catch(Y){Y.response&&Y.response.data&&(T(Y.response.data),K.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{y.value=!1}}},T=Y=>{const v=Array.isArray(Y)?Y:Y?.errors||[];Object.keys(m).forEach(M=>{m[M].type=null,m[M].messages=[]}),v.forEach(M=>{m[M.path]!==void 0&&(m[M.path].type=!0,m[M.path].messages.push(M.msg))})};return(Y,v)=>(h(),Q(ve,{modelValue:E.value,"onUpdate:modelValue":v[3]||(v[3]=M=>E.value=M),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:v[4]||(v[4]=()=>{L(),a()})},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(O,{class:"q-pa-lg"},{default:l(()=>v[5]||(v[5]=[t("div",{class:"text-h6 text-uppercase"},"photo information",-1)])),_:1,__:[5]}),e(xe,{inset:""}),e(O,{class:"col q-pa-lg scroll"},{default:l(()=>[t("div",Ps,[t("img",{src:r($.value?.avatar),alt:"Profile",class:"profile-img"},null,8,zs)]),se(c).hasRole(["SuperAdmin","Admin","HR"])?(h(),B("div",Ns,[t("div",null,[t("div",{class:R(["text-caption text-uppercase q-mb-xs",m.file.type?"text-negative":"text-grey"])},w(m.file.type?m.file.msg:"upload photo"),3),e(ut,{modelValue:C.value,"onUpdate:modelValue":v[0]||(v[0]=M=>C.value=M),label:"Upload Photo",outlined:"",error:m.file.type,"no-error-icon":!0,class:"col-2"},null,8,["modelValue","error"])])])):ae("",!0)]),_:1}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",Cs,[se(c).hasRole(["SuperAdmin","Admin","HR"])?(h(),Q(H,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:v[1]||(v[1]=M=>F())})):ae("",!0),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:v[2]||(v[2]=()=>{p("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:y.value},{default:l(()=>[e(ee,{class:"no-shadow radius-md q-pa-md"},{default:l(()=>[e(O,{class:"text-center"},{default:l(()=>[t("div",null,[e(qe,{color:"dark"})]),v[6]||(v[6]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[6]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},Is=Ne(As,[["__scopeId","data-v-1d44abcd"]]),Ms={class:"text-uppercase text-body1 text-bold"},Ts={class:"row q-col-gutter-xs q-mb-sm"},Rs={class:"col-2"},Fs={class:"col-4"},Ys={class:"col-4"},Ls={class:"row q-col-gutter-xs q-mb-sm"},Os={class:"col-2"},Bs={class:"col-2"},js={class:"q-gutter-sm"},Hs={class:"text-center"},Ws={__name:"EducationDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(G,{emit:s}){const c=De(),_=ge(),q=G,p=s,E=ue({get:()=>q.modelValue===q.dialogName,set:W=>{W||p("update:modelValue",null)}}),y=n(!1),r=n([{id:"",schoollevel:"",schoolId:"",courseId:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}]),$=()=>({id:"",schoollevel:"",schoolId:"",courseId:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),A=async W=>{y.value=!0;try{const J=await oe.get("/employee/education",{params:{id:W}});J.data.record.length?L(J.data.record):$()}catch(J){console.error("Error fetching all data:",J),K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{y.value=!1}},L=(W=[])=>{r.value=W.map(J=>({id:J.id??"",schoollevel:J.school_level??"",schoolId:Number(J.school_id)??"",courseId:Number(J.course_id)??"",startDate:J.start_date??"",endDate:J.end_date??""}))},C=()=>{i(),d(),A(_.data?.id)},a=we({educations:{schoollevel:{type:[],msg:""},schoolId:{type:[],msg:""},courseId:{type:[],msg:""},startDate:{type:[],msg:""},endDate:{type:[],msg:""}}}),m=()=>{a.educations.schoollevel.type=r.value.map(()=>null),a.educations.schoolId.type=r.value.map(()=>null),a.educations.courseId.type=r.value.map(()=>null),a.educations.startDate.type=r.value.map(()=>null),a.educations.endDate.type=r.value.map(()=>null)},U=()=>{let W=!1;return a.educations.schoollevel={type:null,msg:""},a.educations.schoolId={type:null,msg:""},a.educations.courseId={type:null,msg:""},a.educations.startDate={type:null,msg:""},a.educations.endDate={type:null,msg:""},m(),r.value.forEach((J,Z)=>{J.schoollevel||(a.educations.schoollevel.type[Z]=!0,a.educations.schoollevel.msg="school level is required",W=!0),J.schoolId||(a.educations.schoolId.type[Z]=!0,a.educations.schoolId.msg="school is required",W=!0),J.courseId||(a.educations.courseId.type[Z]=!0,a.educations.courseId.msg="degree is required",W=!0),J.startDate?isNaN(new Date(J.startDate).getTime())&&(a.educations.startDate.type[Z]=!0,a.educations.startDate.msg="start date must be a valid date",W=!0):(a.educations.startDate.type[Z]=!0,a.educations.startDate.msg="start date is required",W=!0),J.endDate?isNaN(new Date(J.endDate).getTime())&&(a.educations.endDate.type[Z]=!0,a.educations.endDate.msg="end date must be a valid date",W=!0):(a.educations.endDate.type[Z]=!0,a.educations.endDate.msg="end date is required",W=!0)}),W&&K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                <div class="text-caption">Something went wrong.</div>
            `}),!W},F=n(["High School","Vocational","College","Graduate Studies"]),T=n([]),Y=n([]),v=n([]),M=n([]),D=(W,J)=>(Z,pe)=>{if(Z===""){pe(()=>{J.value=W.value});return}pe(()=>{const re=Z.toLowerCase();J.value=W.value.filter(Re=>Re.label.toLowerCase().includes(re))})},P=(W=[])=>W.map(J=>({label:J.label??J.name??String(J.text??J.value??""),value:Number(J.value??J.id)})),k=D(T,v),o=D(Y,M),d=async()=>{try{const{data:W}=await oe.get("/employee/option/school");T.value=P(W),v.value=[...T.value]}catch(W){console.error("Error fetching options:",W)}},i=async()=>{try{const{data:W}=await oe.get("/employee/option/course");Y.value=P(W),M.value=[...Y.value]}catch(W){console.error("Error fetching options:",W)}},g=()=>{r.value.push({id:"",schoollevel:"",schoolId:"",courseId:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]})},f=W=>{r.value.splice(W,1)},b=async()=>{if(U()){y.value=!0;try{const W=await oe.post(`/employee/${_.data?.id}/education`,{educations:r.value});p("update:modelValue",null),K.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${W.data.message}<div>
            `})}catch(W){W.response&&W.response.data&&(S(W.response.data),K.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{y.value=!1}}},S=W=>{const J=Array.isArray(W)?W:W?.errors||[];Object.keys(a).forEach(Z=>{a[Z].type=null,a[Z].messages=[]}),J.forEach(Z=>{a[Z.path]!==void 0&&(a[Z.path].type=!0,a[Z.path].messages.push(Z.msg))})},V=n([]),N=n([]);function u(W){ze(()=>{V.value[W]&&V.value[W].hide()})}function ne(W){ze(()=>{N.value[W]&&N.value[W].hide()})}return(W,J)=>(h(),Q(ve,{modelValue:E.value,"onUpdate:modelValue":J[2]||(J[2]=Z=>E.value=Z),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:J[3]||(J[3]=Z=>C())},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(O,{class:"q-pa-lg"},{default:l(()=>J[4]||(J[4]=[t("div",{class:"text-h6 text-uppercase"},"education information",-1)])),_:1,__:[4]}),e(xe,{inset:""}),e(O,{class:"col q-pa-lg scroll"},{default:l(()=>[(h(!0),B(de,null,ce(r.value,(Z,pe)=>(h(),B("div",{key:pe,class:"q-mb-md"},[t("div",null,[t("span",Ms,"education "+w(pe+1),1),r.value.length>1&&se(c).hasRole(["SuperAdmin","Admin","HR"])?(h(),Q(H,{key:0,round:"",icon:"bi-trash3",flat:"",unelevated:"",color:"grey",onClick:re=>f(pe),size:"sm",class:"q-ml-sm"},null,8,["onClick"])):ae("",!0)]),t("div",Ts,[t("div",Rs,[t("div",{class:R(["text-caption text-uppercase q-mb-xs",a.educations.schoollevel.msg?"text-negative":"text-grey"])},w(a.educations.schoollevel.msg?a.educations.schoollevel.msg:"school level"),3),e(Ue,{outlined:"",modelValue:Z.schoollevel,"onUpdate:modelValue":re=>Z.schoollevel=re,label:"Choose School Level","input-debounce":"300",options:F.value,error:a.educations.schoollevel.type[pe],"hide-dropdown-icon":"","no-error-icon":!0},{"no-option":l(()=>[e(fe,null,{default:l(()=>[e(he,{class:"text-italic text-grey"},{default:l(()=>J[5]||(J[5]=[me(" No options ")])),_:1,__:[5]})]),_:1})]),option:l(re=>[e(fe,Te({ref_for:!0},re.itemProps),{default:l(()=>[e(he,null,{default:l(()=>[e(Ee,null,{default:l(()=>[me(w(W.$CapitalizeWords(re.opt)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:2},1032,["modelValue","onUpdate:modelValue","options","error"])]),t("div",Fs,[t("div",{class:R(["text-caption text-uppercase q-mb-xs",a.educations.schoolId.msg?"text-negative":"text-grey"])},w(a.educations.schoolId.msg?a.educations.schoolId.msg:"school"),3),e(Ue,{outlined:"",modelValue:Z.schoolId,"onUpdate:modelValue":re=>Z.schoolId=re,label:"Choose School","emit-value":"","map-options":"","use-input":"","input-debounce":"300",options:v.value,onFilter:se(k),error:a.educations.schoolId.type[pe],"hide-dropdown-icon":"","no-error-icon":!0},{"no-option":l(()=>[e(fe,null,{default:l(()=>[e(he,{class:"text-italic text-grey"},{default:l(()=>J[6]||(J[6]=[me(" No options ")])),_:1,__:[6]})]),_:1})]),option:l(re=>[e(fe,Te({ref_for:!0},re.itemProps),{default:l(()=>[e(he,null,{default:l(()=>[e(Ee,null,{default:l(()=>[me(w(W.$CapitalizeWords(re.opt.label)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:2},1032,["modelValue","onUpdate:modelValue","options","onFilter","error"])]),t("div",Ys,[t("div",{class:R(["text-caption text-uppercase q-mb-xs",a.educations.courseId.msg?"text-negative":"text-grey"])},w(a.educations.courseId.msg?a.educations.courseId.msg:"degree"),3),e(Ue,{outlined:"",modelValue:Z.courseId,"onUpdate:modelValue":re=>Z.courseId=re,label:"Choose Degree","emit-value":"","map-options":"","use-input":"","input-debounce":"300",options:M.value,onFilter:se(o),error:a.educations.courseId.type[pe],"hide-dropdown-icon":"","no-error-icon":!0},{"no-option":l(()=>[e(fe,null,{default:l(()=>[e(he,{class:"text-italic text-grey"},{default:l(()=>J[7]||(J[7]=[me(" No options ")])),_:1,__:[7]})]),_:1})]),option:l(re=>[e(fe,Te({ref_for:!0},re.itemProps),{default:l(()=>[e(he,null,{default:l(()=>[e(Ee,null,{default:l(()=>[me(w(W.$CapitalizeWords(re.opt.label)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:2},1032,["modelValue","onUpdate:modelValue","options","onFilter","error"])])]),t("div",Ls,[t("div",Os,[t("div",{class:R(["text-caption text-uppercase q-mb-xs",a.educations.startDate.msg?"text-negative":"text-grey"])},w(a.educations.startDate.msg?a.educations.startDate.msg:"start date (YYYY-MM-DD)"),3),e(j,{outlined:"",modelValue:Z.startDate,"onUpdate:modelValue":re=>Z.startDate=re,label:"Enter Date"},{default:l(()=>[e(Ve,{cover:"","transition-show":"scale","transition-hide":"scale",class:"no-shadow custom-border radius-sm",ref_for:!0,ref:re=>V.value[pe]=re},{default:l(()=>[e(be,{modelValue:Z.startDate,"onUpdate:modelValue":[re=>Z.startDate=re,()=>u(pe)],mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),t("div",Bs,[t("div",{class:R(["text-caption text-uppercase q-mb-xs",a.educations.endDate.msg?"text-negative":"text-grey"])},w(a.educations.endDate.msg?a.educations.endDate.msg:"end date (YYYY-MM-DD)"),3),e(j,{outlined:"",modelValue:Z.endDate,"onUpdate:modelValue":re=>Z.endDate=re,label:"Enter Date"},{default:l(()=>[e(Ve,{cover:"","transition-show":"scale","transition-hide":"scale",class:"no-shadow custom-border radius-sm",ref_for:!0,ref:re=>N.value[pe]=re},{default:l(()=>[e(be,{modelValue:Z.endDate,"onUpdate:modelValue":[re=>Z.endDate=re,()=>ne(pe)],mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1032,["modelValue","onUpdate:modelValue"])])])]))),128))]),_:1}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",js,[se(c).hasRole(["SuperAdmin","Admin","HR"])?(h(),Q(H,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:J[0]||(J[0]=Z=>b())})):ae("",!0),se(c).hasRole(["SuperAdmin","Admin","HR"])?(h(),Q(H,{key:1,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"add",onClick:g,outline:""})):ae("",!0),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:J[1]||(J[1]=()=>{p("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:y.value},{default:l(()=>[t("div",Hs,[e(ke,{size:"md"}),J[8]||(J[8]=t("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))])]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},Gs={class:"text-uppercase text-body1 text-bold"},Qs={class:"row q-col-gutter-xs q-mb-sm"},Xs={class:"col-2"},Js={class:"col-4"},Zs={class:"row q-col-gutter-xs q-mb-sm"},Ks={class:"col-2"},eo={class:"col-2"},to={class:"col-1"},ao={class:"q-gutter-sm"},lo={class:"text-center"},so={__name:"TrainingDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(G,{emit:s}){const c=De(),_=ge(),q=G,p=s,E=ue({get:()=>q.modelValue===q.dialogName,set:d=>{d||p("update:modelValue",null)}}),y=n(!1),r=n([{id:"",title:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],hour:"",trainingtype:""}]),$=()=>({id:"",trainingtype:"",title:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],hour:""}),A=async d=>{y.value=!0;try{const i=await oe.get("/employee/training",{params:{id:d}});i.data.record.length?L(i.data.record):$()}catch(i){console.error("Error fetching all data:",i),K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{y.value=!1}},L=(d=[])=>{r.value=d.map(i=>({id:i.id??"",trainingtype:i.type??"",title:i.title??"",startDate:i.start_date??"",endDate:i.end_date??"",hour:i.hour??""}))},C=()=>{A(_.data?.id)},a=we({trainings:{trainingtype:{type:[],msg:""},title:{type:[],msg:""},startDate:{type:[],msg:""},endDate:{type:[],msg:""},hour:{type:[],msg:""}}}),m=()=>{a.trainings.trainingtype.type=r.value.map(()=>null),a.trainings.title.type=r.value.map(()=>null),a.trainings.startDate.type=r.value.map(()=>null),a.trainings.endDate.type=r.value.map(()=>null),a.trainings.hour.type=r.value.map(()=>null)},U=()=>{let d=!1;return a.trainings.trainingtype={type:null,msg:""},a.trainings.title={type:null,msg:""},a.trainings.startDate={type:null,msg:""},a.trainings.endDate={type:null,msg:""},a.trainings.hour={type:null,msg:""},m(),r.value.forEach((i,g)=>{i.trainingtype||(a.trainings.trainingtype.type[g]=!0,a.trainings.trainingtype.msg="training type is required",d=!0),i.title||(a.trainings.title.type[g]=!0,a.trainings.title.msg="title is required",d=!0),i.startDate?isNaN(new Date(i.startDate).getTime())&&(a.trainings.startDate.type[g]=!0,a.trainings.startDate.msg="start date must be a valid date",d=!0):(a.trainings.startDate.type[g]=!0,a.trainings.startDate.msg="start date is required",d=!0),i.endDate?isNaN(new Date(i.endDate).getTime())&&(a.trainings.endDate.type[g]=!0,a.trainings.endDate.msg="end date must be a valid date",d=!0):(a.trainings.endDate.type[g]=!0,a.trainings.endDate.msg="end date is required",d=!0),i.hour?(isNaN(i.hour)||i.hour<1||i.hour>23)&&(a.trainings.hour.type[g]=!0,a.trainings.hour.msg="hour/s must be a valid number between 1 to 23",d=!0):(a.trainings.hour.type[g]=!0,a.trainings.hour.msg="hour/s is required",d=!0)}),d&&K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                <div class="text-caption">Something went wrong.</div>
            `}),!d},F=n(["Managerial","Supervisory","Technical","Orientation","Compliance","Seminar","Workshop","Conference","Other"]),T=()=>{r.value.push({id:"",trainingtype:"",title:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],hour:""})},Y=d=>{r.value.splice(d,1)},v=async()=>{if(U()){y.value=!0;try{const d=await oe.post(`/employee/${_.data?.id}/training`,{trainings:r.value});p("update:modelValue",null),K.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${d.data.message}<div>
            `})}catch(d){d.response&&d.response.data&&(M(d.response.data),K.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{y.value=!1}}},M=d=>{const i=Array.isArray(d)?d:d?.errors||[];Object.keys(a).forEach(g=>{a[g].type=null,a[g].messages=[]}),i.forEach(g=>{a[g.path]!==void 0&&(a[g.path].type=!0,a[g.path].messages.push(g.msg))})},D=n([]),P=n([]);function k(d){ze(()=>{D.value[d]&&D.value[d].hide()})}function o(d){ze(()=>{P.value[d]&&P.value[d].hide()})}return(d,i)=>(h(),Q(ve,{modelValue:E.value,"onUpdate:modelValue":i[2]||(i[2]=g=>E.value=g),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:i[3]||(i[3]=g=>C())},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(O,{class:"q-pa-lg"},{default:l(()=>i[4]||(i[4]=[t("div",{class:"text-h6 text-uppercase"},"training information",-1)])),_:1,__:[4]}),e(xe,{inset:""}),e(O,{class:"col q-pa-lg scroll"},{default:l(()=>[(h(!0),B(de,null,ce(r.value,(g,f)=>(h(),B("div",{key:f,class:"q-mb-md"},[t("div",null,[t("span",Gs,"training "+w(f+1),1),r.value.length>1&&se(c).hasRole(["SuperAdmin","Admin","HR"])?(h(),Q(H,{key:0,round:"",icon:"bi-trash3",flat:"",unelevated:"",color:"grey",onClick:b=>Y(f),size:"sm",class:"q-ml-sm"},null,8,["onClick"])):ae("",!0)]),t("div",Qs,[t("div",Xs,[t("div",{class:R(["text-caption text-uppercase q-mb-xs",a.trainings.trainingtype.msg?"text-negative":"text-grey"])},w(a.trainings.trainingtype.msg?a.trainings.trainingtype.msg:"training type"),3),e(Ue,{outlined:"",modelValue:g.trainingtype,"onUpdate:modelValue":b=>g.trainingtype=b,label:"Choose Training Type","input-debounce":"300",options:F.value,error:a.trainings.trainingtype.type[f],"hide-dropdown-icon":"","no-error-icon":!0},{"no-option":l(()=>[e(fe,null,{default:l(()=>[e(he,{class:"text-italic text-grey"},{default:l(()=>i[5]||(i[5]=[me(" No options ")])),_:1,__:[5]})]),_:1})]),option:l(b=>[e(fe,Te({ref_for:!0},b.itemProps),{default:l(()=>[e(he,null,{default:l(()=>[e(Ee,null,{default:l(()=>[me(w(d.$CapitalizeWords(b.opt)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:2},1032,["modelValue","onUpdate:modelValue","options","error"])]),t("div",Js,[t("div",{class:R(["text-caption text-uppercase q-mb-xs",a.trainings.title.msg?"text-negative":"text-grey"])},w(a.trainings.title.msg?a.trainings.title.msg:"title"),3),e(j,{modelValue:g.title,"onUpdate:modelValue":b=>g.title=b,label:"Enter Title",outlined:"",error:a.trainings.title.type[f],"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","onUpdate:modelValue","error"])])]),t("div",Zs,[t("div",Ks,[t("div",{class:R(["text-caption text-uppercase q-mb-xs",a.trainings.startDate.msg?"text-negative":"text-grey"])},w(a.trainings.startDate.msg?a.trainings.startDate.msg:"start date (YYYY-MM-DD)"),3),e(j,{outlined:"",modelValue:g.startDate,"onUpdate:modelValue":b=>g.startDate=b,label:"Enter Date",error:a.trainings.startDate.type[f],"no-error-icon":!0},{default:l(()=>[e(Ve,{cover:"","transition-show":"scale","transition-hide":"scale",class:"no-shadow custom-border radius-sm",ref_for:!0,ref:b=>D.value[f]=b},{default:l(()=>[e(be,{modelValue:g.startDate,"onUpdate:modelValue":[b=>g.startDate=b,()=>k(f)],mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1032,["modelValue","onUpdate:modelValue","error"])]),t("div",eo,[t("div",{class:R(["text-caption text-uppercase q-mb-xs",a.trainings.endDate.msg?"text-negative":"text-grey"])},w(a.trainings.endDate.msg?a.trainings.endDate.msg:"end date (YYYY-MM-DD)"),3),e(j,{outlined:"",modelValue:g.endDate,"onUpdate:modelValue":b=>g.endDate=b,label:"Enter Date",error:a.trainings.endDate.type[f],"no-error-icon":!0},{default:l(()=>[e(Ve,{cover:"","transition-show":"scale","transition-hide":"scale",class:"no-shadow custom-border radius-sm",ref_for:!0,ref:b=>P.value[f]=b},{default:l(()=>[e(be,{modelValue:g.endDate,"onUpdate:modelValue":[b=>g.endDate=b,()=>o(f)],mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1032,["modelValue","onUpdate:modelValue","error"])]),t("div",to,[t("div",{class:R(["text-caption text-uppercase q-mb-xs",a.trainings.hour.msg?"text-negative":"text-grey"])},w(a.trainings.hour.msg?a.trainings.hour.msg:"hour/s"),3),e(j,{modelValue:g.hour,"onUpdate:modelValue":b=>g.hour=b,label:"Enter Hour/s",outlined:"",error:a.trainings.hour.type[f],"no-error-icon":!0},null,8,["modelValue","onUpdate:modelValue","error"])])])]))),128))]),_:1}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",ao,[se(c).hasRole(["SuperAdmin","Admin","HR"])?(h(),Q(H,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:i[0]||(i[0]=g=>v())})):ae("",!0),se(c).hasRole(["SuperAdmin","Admin","HR"])?(h(),Q(H,{key:1,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"add",onClick:T,outline:""})):ae("",!0),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:i[1]||(i[1]=()=>{p("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:y.value},{default:l(()=>[t("div",lo,[e(ke,{size:"md"}),i[6]||(i[6]=t("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))])]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},oo={class:"text-uppercase text-body1 text-bold"},io={class:"row q-col-gutter-xs q-mb-sm"},no={class:"col-3"},ro={class:"col-3"},uo={class:"row q-col-gutter-xs q-mb-sm"},co={class:"col-2"},po={class:"col-2"},mo={class:"q-gutter-sm"},vo={class:"text-center"},go={__name:"ExperienceDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(G,{emit:s}){const c=De(),_=ge(),q=G,p=s,E=ue({get:()=>q.modelValue===q.dialogName,set:o=>{o||p("update:modelValue",null)}}),y=n(!1),r=n([{id:"",position:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],description:""}]),$=()=>({id:"",position:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],description:""}),A=async o=>{y.value=!0;try{const d=await oe.get("/employee/experience",{params:{id:o}});d.data.record.length?L(d.data.record):$()}catch(d){console.error("Error fetching all data:",d),K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{y.value=!1}},L=(o=[])=>{r.value=o.map(d=>({id:d.id??"",position:d.position??"",description:d.description??"",startDate:d.start_date??"",endDate:d.end_date??""}))},C=()=>{A(_.data?.id)},a=we({experiences:{position:{type:[],msg:""},startDate:{type:[],msg:""},endDate:{type:[],msg:""},description:{type:[],msg:""}}}),m=()=>{a.experiences.position.type=r.value.map(()=>null),a.experiences.startDate.type=r.value.map(()=>null),a.experiences.endDate.type=r.value.map(()=>null),a.experiences.description.type=r.value.map(()=>null)},U=()=>{let o=!1;return a.experiences.position={type:null,msg:""},a.experiences.startDate={type:null,msg:""},a.experiences.endDate={type:null,msg:""},a.experiences.description={type:null,msg:""},m(),r.value.forEach((d,i)=>{d.position||(a.experiences.position.type[i]=!0,a.experiences.position.msg="position is required",o=!0),d.startDate?isNaN(new Date(d.startDate).getTime())&&(a.experiences.startDate.type[i]=!0,a.experiences.startDate.msg="start date must be a valid date",o=!0):(a.experiences.startDate.type[i]=!0,a.experiences.startDate.msg="start date is required",o=!0),d.endDate?isNaN(new Date(d.endDate).getTime())&&(a.experiences.endDate.type[i]=!0,a.experiences.endDate.msg="end date must a valid date",o=!0):(a.experiences.endDate.type[i]=!0,a.experiences.endDate.msg="end date is required",o=!0),d.description||(a.experiences.description.type[i]=!0,a.experiences.description.msg="job description is required",o=!0)}),o&&K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                <div class="text-caption">Something went wrong.</div>
            `}),!o},F=()=>{r.value.push({position:"",description:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]})},T=o=>{r.value.splice(o,1)},Y=async()=>{if(U()){y.value=!0;try{const o=await oe.post(`/employee/${_.data?.id}/experience`,{experiences:r.value});p("update:modelValue",null),K.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${o.data.message}<div>
            `})}catch(o){o.response&&o.response.data&&(v(o.response.data),K.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{y.value=!1}}},v=o=>{const d=Array.isArray(o)?o:o?.errors||[];Object.keys(a).forEach(i=>{a[i].type=null,a[i].messages=[]}),d.forEach(i=>{a[i.path]!==void 0&&(a[i.path].type=!0,a[i.path].messages.push(i.msg))})},M=n([]),D=n([]);function P(o){ze(()=>{M.value[o]&&M.value[o].hide()})}function k(o){ze(()=>{D.value[o]&&D.value[o].hide()})}return(o,d)=>(h(),Q(ve,{modelValue:E.value,"onUpdate:modelValue":d[2]||(d[2]=i=>E.value=i),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:d[3]||(d[3]=i=>C())},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(O,{class:"q-pa-lg"},{default:l(()=>d[4]||(d[4]=[t("div",{class:"text-h6 text-uppercase"},"experience information",-1)])),_:1,__:[4]}),e(xe,{inset:""}),e(O,{class:"col q-pa-lg scroll"},{default:l(()=>[(h(!0),B(de,null,ce(r.value,(i,g)=>(h(),B("div",{key:g,class:"q-mb-md"},[t("div",null,[t("span",oo,"experience "+w(g+1),1),r.value.length>1&&se(c).hasRole(["SuperAdmin","Admin","HR"])?(h(),Q(H,{key:0,round:"",icon:"delete",flat:"",unelevated:"",color:"grey",onClick:f=>T(g),size:"sm",class:"q-ml-sm"},null,8,["onClick"])):ae("",!0)]),t("div",io,[t("div",no,[t("div",{class:R(["text-caption text-uppercase q-mb-xs",a.experiences.position.msg?"text-negative":"text-grey"])},w(a.experiences.position.msg?a.experiences.position.msg:"position"),3),e(j,{modelValue:i.position,"onUpdate:modelValue":f=>i.position=f,label:"Enter Position",outlined:"",error:a.experiences.position.type[g],"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",ro,[t("div",{class:R(["text-caption text-uppercase q-mb-xs",a.experiences.description.msg?"text-negative":"text-grey"])},w(a.experiences.description.msg?a.experiences.description.msg:"job description"),3),e(j,{modelValue:i.description,"onUpdate:modelValue":f=>i.description=f,label:"EnterJob Description",outlined:"",error:a.experiences.description.type[g],"no-error-icon":!0},null,8,["modelValue","onUpdate:modelValue","error"])])]),t("div",uo,[t("div",co,[t("div",{class:R(["text-caption text-uppercase q-mb-xs",a.experiences.startDate.msg?"text-negative":"text-grey"])},w(a.experiences.startDate.msg?a.experiences.startDate.msg:"start date (YYYY-MM-DD)"),3),e(j,{outlined:"",modelValue:i.startDate,"onUpdate:modelValue":f=>i.startDate=f,label:"Enter Date"},{default:l(()=>[e(Ve,{cover:"","transition-show":"scale","transition-hide":"scale",class:"no-shadow custom-border radius-sm",ref_for:!0,ref:f=>M.value[g]=f},{default:l(()=>[e(be,{modelValue:i.startDate,"onUpdate:modelValue":[f=>i.startDate=f,()=>P(g)],mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),t("div",po,[t("div",{class:R(["text-caption text-uppercase q-mb-xs",a.experiences.endDate.msg?"text-negative":"text-grey"])},w(a.experiences.endDate.msg?a.experiences.endDate.msg:"end date (YYYY-MM-DD)"),3),e(j,{outlined:"",modelValue:i.endDate,"onUpdate:modelValue":f=>i.endDate=f,label:"Enter Date"},{default:l(()=>[e(Ve,{cover:"","transition-show":"scale","transition-hide":"scale",class:"no-shadow custom-border radius-sm",ref_for:!0,ref:f=>D.value[g]=f},{default:l(()=>[e(be,{modelValue:i.endDate,"onUpdate:modelValue":[f=>i.endDate=f,()=>k(g)],mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1032,["modelValue","onUpdate:modelValue"])])])]))),128))]),_:1}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",mo,[se(c).hasRole(["SuperAdmin","Admin","HR"])?(h(),Q(H,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:d[0]||(d[0]=i=>Y())})):ae("",!0),se(c).hasRole(["SuperAdmin","Admin","HR"])?(h(),Q(H,{key:1,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"add",onClick:F,outline:""})):ae("",!0),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:d[1]||(d[1]=()=>{p("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:y.value},{default:l(()=>[t("div",vo,[e(ke,{size:"md"}),d[5]||(d[5]=t("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))])]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},fo={class:"text-uppercase text-body1 text-bold"},ho={class:"row q-col-gutter-xs q-mb-sm"},xo={class:"col-2"},yo={class:"col-2"},_o={class:"col-2"},bo={class:"col-2"},Vo={class:"col-1"},wo={class:"row q-col-gutter-xs q-mb-sm"},So={class:"col-2"},Do={class:"col-2"},$o={class:"col-2"},qo={class:"col-3"},ko={class:"q-gutter-sm"},Eo={class:"text-center"},Uo={__name:"DependentDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(G,{emit:s}){const c=De(),_=ge(),q=G,p=s,E=ue({get:()=>q.modelValue===q.dialogName,set:o=>{o||p("update:modelValue",null)}}),y=n(!1),r=n([{id:"",relationship:"",firstname:"",middlename:"",lastname:"",suffix:"",birthdate:new Date().toISOString().split("T")[0],contactNo:"",email:"",address:"",isEmergency:!1}]),$=()=>({id:"",relationship:"",firstname:"",middlename:"",lastname:"",suffix:"",birthdate:new Date().toISOString().split("T")[0],contactNo:"",email:"",address:"",isEmergency:!1}),A=async o=>{y.value=!0;try{const d=await oe.get("/employee/dependent",{params:{id:o}});d.data.record.length?L(d.data.record):$()}catch(d){console.error("Error fetching all data:",d),K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{y.value=!1}},L=(o=[])=>{r.value=o.map(d=>({id:d.id??"",relationship:d.relationship??"",firstname:d.first_name??"",middlename:d.middle_name??"",lastname:d.last_name??"",suffix:d.suffix??"",birthdate:d.birthdate??"",contactNo:d.contact_number??"",email:d.email??"",address:d.address??"",isEmergency:!!d.is_emergency}))},C=()=>{A(_.data?.id)},a=we({dependents:{relationship:{type:[],msg:""},firstname:{type:[],msg:""},middlename:{type:[],msg:""},lastname:{type:[],msg:""},suffix:{type:[],msg:""},birthdate:{type:[],msg:""},contactNo:{type:[],msg:""},email:{type:[],msg:""},address:{type:[],msg:""}}}),m=()=>{a.dependents.relationship.type=r.value.map(()=>null),a.dependents.firstname.type=r.value.map(()=>null),a.dependents.middlename.type=r.value.map(()=>null),a.dependents.lastname.type=r.value.map(()=>null),a.dependents.suffix.type=r.value.map(()=>null),a.dependents.birthdate.type=r.value.map(()=>null),a.dependents.contactNo.type=r.value.map(()=>null),a.dependents.email.type=r.value.map(()=>null),a.dependents.address.type=r.value.map(()=>null)},U=()=>{let o=!1;return a.dependents.relationship={type:null,msg:""},a.dependents.firstname={type:null,msg:""},a.dependents.middlename={type:null,msg:""},a.dependents.lastname={type:null,msg:""},a.dependents.suffix={type:null,msg:""},a.dependents.birthdate={type:null,msg:""},a.dependents.contactNo={type:null,msg:""},a.dependents.email={type:null,msg:""},a.dependents.address={type:null,msg:""},m(),r.value.forEach((d,i)=>{d.relationship||(a.dependents.relationship.type[i]=!0,a.dependents.relationship.msg="relationship is required",o=!0),d.firstname||(a.dependents.firstname.type[i]=!0,a.dependents.firstname.msg="firstname is required",o=!0),d.middlename||(a.dependents.middlename.type[i]=!0,a.dependents.middlename.msg="middlename is required",o=!0),d.lastname||(a.dependents.lastname.type[i]=!0,a.dependents.lastname.msg="lastname is required",o=!0);const g=["SR","JR","II","III","IV","V","VI","VII","VIII","IX","X"];if(d.suffix){const f=suffix.value.trim().toUpperCase();g.includes(f)||(a.dependents.suffix.type[i]=!0,a.dependents.suffix.msg="suffix is required",o=!0)}d.birthdate||(a.dependents.birthdate.type[i]=!0,a.dependents.birthdate.msg="birthdate is required",o=!0),d.contactNo||(a.dependents.contactNo.type[i]=!0,a.dependents.contactNo.msg="contact number is required",o=!0),d.email||(a.dependents.email.type[i]=!0,a.dependents.email.msg="email is required",o=!0),d.address||(a.dependents.address.type[i]=!0,a.dependents.address.msg="address is required",o=!0)}),o&&K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                <div class="text-caption">Something went wrong.</div>
            `}),!o},F=n(["Spouse","Child","Parent","Sibling","Other"]),T=()=>{r.value.push({id:"",relationship:"",firstname:"",middlename:"",lastname:"",suffix:"",birthdate:new Date().toISOString().split("T")[0],contactNo:"",email:"",address:"",isEmergency:!1})},Y=o=>{r.value.splice(o,1)},v=o=>{r.value.forEach((d,i)=>{d.isEmergency=i===o})},M=async()=>{if(U()){y.value=!0;try{const o=await oe.post(`/employee/${_.data?.id}/dependent`,{dependents:r.value});p("update:modelValue",null),K.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${o.data.message}<div>
            `})}catch(o){o.response&&o.response.data&&(D(o.response.data),K.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{y.value=!1}}},D=o=>{const d=Array.isArray(o)?o:o?.errors||[];Object.keys(a).forEach(i=>{a[i].type=null,a[i].messages=[]}),d.forEach(i=>{a[i.path]!==void 0&&(a[i.path].type=!0,a[i.path].messages.push(i.msg))})},P=n([]);function k(o){ze(()=>{P.value[o]&&P.value[o].hide()})}return(o,d)=>(h(),Q(ve,{modelValue:E.value,"onUpdate:modelValue":d[2]||(d[2]=i=>E.value=i),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:d[3]||(d[3]=()=>{C()})},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(O,{class:"q-pa-lg"},{default:l(()=>d[4]||(d[4]=[t("div",{class:"text-h6 text-uppercase"},"dependent information",-1)])),_:1,__:[4]}),e(xe,{inset:""}),e(O,{class:"col q-pa-lg scroll"},{default:l(()=>[(h(!0),B(de,null,ce(r.value,(i,g)=>(h(),B("div",{key:g,class:"q-mb-md"},[t("div",null,[t("span",fo,"dependent "+w(g+1),1),r.value.length>1&&se(c).hasRole(["SuperAdmin","Admin","HR"])?(h(),Q(H,{key:0,round:"",icon:"bi-trash3",flat:"",unelevated:"",color:"grey",onClick:f=>Y(g),size:"sm",class:"q-ml-sm"},null,8,["onClick"])):ae("",!0)]),t("div",ho,[t("div",xo,[t("div",{class:R(["text-caption text-uppercase q-mb-xs",a.dependents.relationship.msg?"text-negative":"text-grey"])},w(a.dependents.relationship.msg?a.dependents.relationship.msg:"relationship"),3),e(Ue,{outlined:"",modelValue:i.relationship,"onUpdate:modelValue":f=>i.relationship=f,label:"Choose Relationship","input-debounce":"300",options:F.value,error:a.dependents.relationship.type[g],"hide-dropdown-icon":"","no-error-icon":!0},{"no-option":l(()=>[e(fe,null,{default:l(()=>[e(he,{class:"text-italic text-grey"},{default:l(()=>d[5]||(d[5]=[me(" No options ")])),_:1,__:[5]})]),_:1})]),option:l(f=>[e(fe,Te({ref_for:!0},f.itemProps),{default:l(()=>[e(he,null,{default:l(()=>[e(Ee,null,{default:l(()=>[me(w(o.$CapitalizeWords(f.opt)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:2},1032,["modelValue","onUpdate:modelValue","options","error"])]),t("div",yo,[t("div",{class:R(["text-caption text-uppercase q-mb-xs",a.dependents.firstname.msg?"text-negative":"text-grey"])},w(a.dependents.firstname.msg?a.dependents.firstname.msg:"firstname"),3),e(j,{modelValue:i.firstname,"onUpdate:modelValue":f=>i.firstname=f,label:"Enter Firstname",outlined:"",error:a.dependents.firstname.type[g],"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",_o,[t("div",{class:R(["text-caption text-uppercase q-mb-xs",a.dependents.middlename.msg?"text-negative":"text-grey"])},w(a.dependents.middlename.msg?a.dependents.middlename.msg:"middlename"),3),e(j,{modelValue:i.middlename,"onUpdate:modelValue":f=>i.middlename=f,label:"Enter Middlename",outlined:"",error:a.dependents.middlename.type[g],"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",bo,[t("div",{class:R(["text-caption text-uppercase q-mb-xs",a.dependents.lastname.msg?"text-negative":"text-grey"])},w(a.dependents.lastname.msg?a.dependents.lastname.msg:"lastname"),3),e(j,{modelValue:i.lastname,"onUpdate:modelValue":f=>i.lastname=f,label:"Enter Lastname",outlined:"",error:a.dependents.lastname.type[g],"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",Vo,[t("div",{class:R(["text-caption text-uppercase q-mb-xs",a.dependents.suffix.msg?"text-negative":"text-grey"])},w(a.dependents.suffix.msg?a.dependents.suffix.msg:"suffix"),3),e(j,{modelValue:i.suffix,"onUpdate:modelValue":f=>i.suffix=f,label:"Enter Suffix",outlined:"",error:a.dependents.suffix.type[g],"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","onUpdate:modelValue","error"])])]),t("div",wo,[t("div",So,[t("div",{class:R(["text-caption text-uppercase q-mb-xs",a.dependents.birthdate.msg?"text-negative":"text-grey"])},w(a.dependents.birthdate.msg?a.dependents.birthdate.msg:"birthdate (YYYY-MM-DD)"),3),e(j,{outlined:"",modelValue:i.birthdate,"onUpdate:modelValue":f=>i.birthdate=f,label:"Enter Date"},{default:l(()=>[e(Ve,{cover:"","transition-show":"scale","transition-hide":"scale",class:"no-shadow custom-border radius-sm",ref_for:!0,ref:f=>P.value[g]=f},{default:l(()=>[e(be,{modelValue:i.birthdate,"onUpdate:modelValue":[f=>i.birthdate=f,()=>k(g)],mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),t("div",Do,[t("div",{class:R(["text-caption text-uppercase q-mb-xs",a.dependents.contactNo.msg?"text-negative":"text-grey"])},w(a.dependents.contactNo.msg?a.dependents.contactNo.msg:"contact No"),3),e(j,{modelValue:i.contactNo,"onUpdate:modelValue":f=>i.contactNo=f,label:"Enter Contact No.",outlined:"",error:a.dependents.contactNo.type[g],"no-error-icon":!0},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",$o,[t("div",{class:R(["text-caption text-uppercase q-mb-xs",a.dependents.email.msg?"text-negative":"text-grey"])},w(a.dependents.email.msg?a.dependents.email.msg:"email"),3),e(j,{modelValue:i.email,"onUpdate:modelValue":f=>i.email=f,label:"Enter Email",outlined:"",error:a.dependents.email.type[g],"no-error-icon":!0},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",qo,[t("div",{class:R(["text-caption text-uppercase q-mb-xs",a.dependents.address.msg?"text-negative":"text-grey"])},w(a.dependents.address.msg?a.dependents.address.msg:"address"),3),e(j,{modelValue:i.address,"onUpdate:modelValue":f=>i.address=f,label:"Enter Address",outlined:"",error:a.dependents.address.type[g],"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","onUpdate:modelValue","error"])])]),t("div",null,[e(dt,{"left-label":"",modelValue:i.isEmergency,"onUpdate:modelValue":[f=>i.isEmergency=f,()=>v(g)],label:"emergency contact person","checked-icon":"bi-check2-circle","unchecked-icon":"bi-circle",class:"text-capitalize"},null,8,["modelValue","onUpdate:modelValue"])])]))),128))]),_:1}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",ko,[se(c).hasRole(["SuperAdmin","Admin","HR"])?(h(),Q(H,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:d[0]||(d[0]=i=>M())})):ae("",!0),se(c).hasRole(["SuperAdmin","Admin","HR"])?(h(),Q(H,{key:1,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"add",onClick:T,outline:""})):ae("",!0),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:d[1]||(d[1]=()=>{p("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:y.value},{default:l(()=>[t("div",Eo,[e(ke,{size:"md"}),d[6]||(d[6]=t("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))])]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},Po={class:"q-mb-lg"},zo={class:"row q-col-gutter-xs q-mb-xs"},No={class:"col-3"},Co={class:"col-3"},Ao={class:"col-1"},Io={class:"card-grid"},Mo={key:0,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},To=["onClick"],Ro={class:"text-subtitle2 text-uppercase"},Fo={class:"q-gutter-sm"},Yo={class:"text-center"},Lo={__name:"DocumentDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(G,{emit:s}){const c=De(),_=ge(),q=G,p=s,E=ue({get:()=>q.modelValue===q.dialogName,set:D=>{D||p("update:modelValue",null)}}),y=n(!1),r=n([]);n("");const $=async D=>{y.value=!0;try{const P=await oe.get("/employee/document",{params:{id:D}});r.value=P.data.record}catch(P){console.error("Error fetching all data:",P),K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{y.value=!1}},A=()=>{$(_.data?.id)},L=()=>{C.value=[{file:""}]},C=n([{file:""}]),a=we({documents:{file:{type:[],msg:""}}}),m=()=>{a.documents.file.type=C.value.map(()=>null)},U=()=>{let D=!1;return a.documents.file={type:null,msg:""},m(),C.value.forEach((P,k)=>{P.file?P.file.type!=="application/pdf"?(a.documents.file.type[k]=!0,a.documents.file.msg="file must be a PDF document",D=!0):P.file.size>5242880&&(a.documents.file.type[k]=!0,a.documents.file.msg="file size must not exceed to 5MB",D=!0):(a.documents.file.type[k]=!0,a.documents.file.msg="file is required",D=!0)}),D&&K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                <div class="text-caption">Something went wrong.</div>
            `}),!D},F=D=>{const P=`https://hris-ccmi.com${D.document}`;window.open(P,"_blank")},T=async()=>{if(U()){y.value=!0;try{const D=new FormData;C.value.forEach((k,o)=>{D.append(`documents[${o}][documentId]`,k.documentId),k.file&&D.append(`documents[${o}][file]`,k.file)});const P=await oe.post(`/employee/${_.data?.id}/document`,D,{headers:{"Content-Type":"multipart/form-data"}});p("update:modelValue",null),K.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${P.data.message}<div>
            `})}catch(D){D.response&&D.response.data&&(Y(D.response.data),K.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{y.value=!1}}},Y=D=>{const P=Array.isArray(D)?D:D?.errors||[];Object.keys(a).forEach(k=>{a[k].type=null,a[k].messages=[]}),P.forEach(k=>{a[k.path]!==void 0&&(a[k.path].type=!0,a[k.path].messages.push(k.msg))})},v=()=>{C.value.push({file:""})},M=D=>{C.value.splice(D,1)};return(D,P)=>(h(),Q(ve,{modelValue:E.value,"onUpdate:modelValue":P[2]||(P[2]=k=>E.value=k),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:P[3]||(P[3]=()=>{A(),L()})},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(O,{class:"q-pa-lg"},{default:l(()=>P[4]||(P[4]=[t("div",{class:"text-h6 text-uppercase"},"document information",-1)])),_:1,__:[4]}),e(xe,{inset:""}),e(O,{class:"col q-pa-lg scroll"},{default:l(()=>[t("div",Po,[t("div",zo,[t("div",No,[t("div",{class:R(["text-caption text-uppercase q-mb-xs",a.documents.file.msg?"text-negative":"text-grey"])},w(a.documents.file.msg?a.documents.file.msg:"documents"),3)])]),(h(!0),B(de,null,ce(C.value,(k,o)=>(h(),B("div",{class:"row q-col-gutter-xs q-mb-xs",key:o},[t("div",Co,[e(ut,{modelValue:k.file,"onUpdate:modelValue":d=>k.file=d,label:"Upload File",outlined:"",error:a.documents.file.type[o],"no-error-icon":!0},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",Ao,[C.value.length>1&&se(c).hasRole(["SuperAdmin","Admin","HR"])?(h(),Q(H,{key:0,round:"",icon:"bi-trash3",flat:"",unelevated:"",color:"grey",onClick:d=>M(o),size:"sm",class:"q-mt-md"},null,8,["onClick"])):ae("",!0)])]))),128))]),t("div",Io,[!y.value&&r.value.length===0?(h(),B("div",Mo,[e(ee,{key:"data-add",class:"card card-hover-animate flex flex-center q-pa-md no-shadow cursor-pointer radius-sm"},{default:l(()=>[e(O,{class:"text-center"},{default:l(()=>P[5]||(P[5]=[t("div",{class:"text-caption text-uppercase text-grey"},"no data found",-1)])),_:1,__:[5]})]),_:1})])):(h(!0),B(de,{key:1},ce(r.value,(k,o)=>(h(),B("div",{key:`data-${k.id}`,class:"card-anim-wrapper",style:Ce({animationDelay:`${o*120}ms`}),onClick:d=>F(k)},[e(ee,{class:"card card-hover-animate flex flex-center q-pa-md no-shadow cursor-pointer radius-sm"},{default:l(()=>[e(O,{class:"text-center full-width"},{default:l(()=>[t("div",Ro,w(k?.filename),1)]),_:2},1024)]),_:2},1024)],12,To))),128))])]),_:1}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",Fo,[se(c).hasRole(["SuperAdmin","Admin","HR"])?(h(),Q(H,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:P[0]||(P[0]=k=>T())})):ae("",!0),se(c).hasRole(["SuperAdmin","Admin","HR"])?(h(),Q(H,{key:1,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"add",onClick:v,outline:""})):ae("",!0),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:P[1]||(P[1]=()=>{p("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:y.value},{default:l(()=>[t("div",Yo,[e(ke,{size:"md"}),P[6]||(P[6]=t("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))])]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},Oo=Ne(Lo,[["__scopeId","data-v-d186e2af"]]),Bo={class:"iframe-container"},jo=["src"],Ho={class:"q-gutter-sm"},Wo={__name:"IdentificationDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(G,{emit:s}){const c=ge(),_=G,q=s,p=ue({get:()=>_.modelValue===_.dialogName,set:A=>{A||q("update:modelValue",null)}}),E=n(!1),y=()=>{$()},r=n(null),$=async()=>{E.value=!0;try{const A=await oe.get(`/employee/${c.data?.id}/pdf`,{responseType:"arraybuffer"}),L=new Blob([A.data],{type:"application/pdf"}),C=window.URL.createObjectURL(L)+"#view=FitW";r.value=C}catch(A){console.error("Error generating PDF:",A)}finally{E.value=!1}};return(A,L)=>(h(),Q(ve,{modelValue:p.value,"onUpdate:modelValue":L[1]||(L[1]=C=>p.value=C),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:L[2]||(L[2]=C=>y())},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(O,{class:"q-pa-lg"},{default:l(()=>L[3]||(L[3]=[t("div",{class:"text-h6 text-uppercase"},"digital id",-1)])),_:1,__:[3]}),e(xe,{inset:""}),e(O,{class:"col q-pa-none scroll"},{default:l(()=>[t("div",Bo,[r.value?(h(),B("iframe",{key:0,src:r.value,frameborder:"0"},null,8,jo)):ae("",!0)])]),_:1}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",Ho,[e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:L[0]||(L[0]=()=>{q("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:E.value},{default:l(()=>[e(ee,{class:"no-shadow radius-md q-pa-md"},{default:l(()=>[e(O,{class:"text-center"},{default:l(()=>[t("div",null,[e(qe,{color:"dark"})]),L[4]||(L[4]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[4]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},Go={class:"filter-inline"},Qo={class:"q-gutter-xs"},Xo={class:"q-mt-md"},Jo={class:"q-mb-xl"},Zo={class:"row q-col-gutter-xs q-mb-xs"},Ko={class:"col-1"},ei={class:"col-1"},ti={class:"col-4"},ai={class:"row items-center q-gutter-xs"},li={class:"col"},si={class:"row items-center q-gutter-xs"},oi={class:"q-gutter-sm"},ii={class:"iframe-container"},ni=["src"],ri={__name:"AttendanceDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(G,{emit:s}){const c=ge(),_=G,q=s,p=ue({get:()=>_.modelValue===_.dialogName,set:P=>{P||q("update:modelValue",null)}}),E=n(!1);n("");const y=new Date,r=n(String(y.getMonth()+1).padStart(2,"0")),$=n(String(y.getFullYear())),A=Array.from({length:12},(P,k)=>{const o=new Date(0,k).toLocaleString("en-US",{month:"short"}),d=String(k+1).padStart(2,"0");return{label:o,value:d}}),L=n([]),C=n(""),a=async P=>{E.value=!0;try{const o=(await oe.get("/employee/attendance",{params:{id:P,year:$.value,month:r.value}})).data;L.value=o.logs,C.value=o.attendance_id}catch(k){console.error("Error fetching all data:",k),K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{E.value=!1}},m=()=>{a(c.data?.id)},U=P=>P?Ze(P).format("DD"):"",F=P=>P?Ze(P).format("dddd"):"",T=P=>P?Ze(P,["HH:mm","HH:mm:ss"],!0).format("hh:mm A"):"",Y=P=>{const k=Number(P)||0;if(k<=0)return"0 min";const o=24*60,d=Math.floor(k/o),i=Math.floor(k%o/60),g=k%60,f=[];return d&&f.push(`${d} ${d===1?"day":"days"}`),i&&f.push(`${i} ${i===1?"hr":"hrs"}`),g&&f.push(`${g} ${g===1?"min":"mins"}`),f.join(" ")},v=n(!1),M=n(null),D=async()=>{E.value=!0;try{const P=await oe.get(`/attendance/${C.value}/pdf`,{responseType:"arraybuffer"}),k=new Blob([P.data],{type:"application/pdf"}),o=window.URL.createObjectURL(k)+"#view=FitW";M.value=o,v.value=!0,E.value=!1}catch(P){console.error("Error generating PDF:",P)}finally{E.value=!1}};return(P,k)=>(h(),B(de,null,[e(ve,{modelValue:p.value,"onUpdate:modelValue":k[3]||(k[3]=o=>p.value=o),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:k[4]||(k[4]=o=>m())},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(O,{class:"q-pa-lg"},{default:l(()=>k[6]||(k[6]=[t("div",{class:"text-h6 text-uppercase"},"daily time record",-1)])),_:1,__:[6]}),e(xe,{inset:""}),e(O,{class:"col q-pa-lg scroll"},{default:l(()=>[t("div",Go,[e(j,{outlined:"",modelValue:$.value,"onUpdate:modelValue":k[0]||(k[0]=o=>$.value=o),style:{width:"80px"},dense:""},null,8,["modelValue"]),t("div",Qo,[(h(!0),B(de,null,ce(se(A),(o,d)=>(h(),Q(H,{round:"",unelevated:"",class:R(r.value===o.value?"active":"inactive"),onClick:()=>{r.value=o.value,a(se(c).data?.id)},size:"md",label:o.label},null,8,["class","onClick","label"]))),256))])]),t("div",Xo,[k[7]||(k[7]=t("div",{class:"row q-col-gutter-xs"},[t("div",{class:"col-1"},[t("div",{class:"q-mb-xs"},[t("span",{class:"text-caption text-uppercase text-grey q-mr-sm"},"date")])]),t("div",{class:"col-1"},[t("div",{class:"q-mb-xs"},[t("span",{class:"text-caption text-uppercase text-grey q-mr-sm"},"day")])]),t("div",{class:"col-4"},[t("div",{class:"q-mb-xs"},[t("span",{class:"text-caption text-uppercase text-grey q-mr-sm"},"attendance")])]),t("div",{class:"col-4"},[t("div",{class:"q-mb-xs"},[t("span",{class:"text-caption text-uppercase text-grey q-mr-sm"},"logs")])])],-1)),t("div",Jo,[(h(!0),B(de,null,ce(L.value,(o,d)=>(h(),B("div",Zo,[t("div",Ko,[e(j,{outlined:"",dense:"","model-value":U(o.date)},null,8,["model-value"])]),t("div",ei,[e(j,{outlined:"",dense:"","model-value":F(o.date)},null,8,["model-value"])]),t("div",ti,[t("div",ai,[e(j,{outlined:"",dense:"","model-value":T(o.time_in),readonly:!0,style:{width:"100px"}},null,8,["model-value"]),e(j,{outlined:"",dense:"","model-value":T(o.time_out),readonly:!0,style:{width:"100px"}},null,8,["model-value"]),e(j,{outlined:"",dense:"","model-value":Y(o.late),readonly:!0,style:{width:"100px"}},null,8,["model-value"]),e(j,{outlined:"",dense:"","model-value":Y(o.undertime),readonly:!0,style:{width:"100px"}},null,8,["model-value"]),e(j,{outlined:"",dense:"","model-value":Y(o.overtime),readonly:!0,style:{width:"100px"}},null,8,["model-value"])])]),t("div",li,[t("div",si,[(h(!0),B(de,null,ce(o.logs,(i,g)=>(h(),Q(j,{outlined:"",dense:"","model-value":T(o.logs[g]),readonly:!0,style:{width:"100px"}},null,8,["model-value"]))),256)),o.notes.length?(h(!0),B(de,{key:0},ce(o.notes,i=>(h(),Q(va,{rounded:"",color:"primary",label:i.type,class:"text-uppercase cursor-pointer"},{default:l(()=>[e(Ye,{anchor:"top middle",self:"center middle",class:"text-uppercase"},{default:l(()=>[t("div",null,w(i.name),1)]),_:2},1024)]),_:2},1032,["label"]))),256)):ae("",!0)])])]))),256))])])]),_:1}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",oi,[e(H,{disable:!C.value,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"print",onClick:k[1]||(k[1]=()=>{D()})},null,8,["disable"]),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:k[2]||(k[2]=()=>{q("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:E.value},{default:l(()=>[e(ee,{class:"no-shadow radius-md q-pa-md"},{default:l(()=>[e(O,{class:"text-center"},{default:l(()=>[t("div",null,[e(qe,{color:"dark"})]),k[8]||(k[8]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[8]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]),e(ve,{modelValue:v.value,"onUpdate:modelValue":k[5]||(k[5]=o=>v.value=o),"full-height":"","full-width":"",class:"pdf"},{default:l(()=>[e(ee,{class:"bg-white q-pa-none",style:{height:"100vh",overflow:"hidden"}},{default:l(()=>[Me(e(H,{icon:"bi-x",class:"fixed bg-white text-primary shadow-2",round:"",dense:"",style:{top:"15px",right:"15px","z-index":"999"}},null,512),[[We]]),e(O,{class:"q-pa-none",style:{height:"100%",overflow:"hidden"}},{default:l(()=>[t("div",ii,[M.value?(h(),B("iframe",{key:0,src:M.value,frameborder:"0"},null,8,ni)):ae("",!0)])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},di=Ne(ri,[["__scopeId","data-v-48aed48f"]]),ui={class:"q-mb-lg"},ci={key:0},pi={class:"row q-col-gutter-xs q-mb-xs"},mi={class:"col-1"},vi={class:"col-1"},gi={class:"col-1"},fi={class:"col-2"},hi={class:"col-1"},xi={class:"col-1"},yi={class:"col-1"},_i={class:"col-1"},bi={key:1},Vi={class:"card-grid"},wi={class:"text-subtitle2 text-uppercase"},Si={class:"text-caption"},Di={class:"q-mb-lg"},$i={class:"filter-inline q-mb-md"},qi={class:"q-gutter-xs"},ki={class:"card-grid"},Ei={key:0,class:"inner-card-anim-wrapper",style:{animationDelay:"120ms"}},Ui={class:"text-subtitle2 text-uppercase"},Pi={class:"text-caption text-uppercase text-grey"},zi={class:"text-caption"},Ni={class:"text-caption text-uppercase text-grey"},Ci={class:"q-gutter-sm"},Ai={class:"iframe-container"},Ii=["src"],Mi={__name:"LeaveDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(G,{emit:s}){const c=ge(),_=G,q=s,p=ue({get:()=>_.modelValue===_.dialogName,set:b=>{b||q("update:modelValue",null)}}),E=n(!1),y=new Date,r=n(String(y.getMonth()+1).padStart(2,"0")),$=n(String(y.getFullYear())),A=Array.from({length:12},(b,S)=>{const V=new Date(0,S).toLocaleString("en-US",{month:"short"}),N=String(S+1).padStart(2,"0");return{label:V,value:N}}),L=n([]),C=n([]),a=async b=>{E.value=!0;try{const S=await oe.get("/employee/leave/balance",{params:{id:b}});L.value=S.data.record}catch(S){console.error("Error fetching all data:",S),K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{E.value=!1}},m=async b=>{E.value=!0;try{const S=await oe.get("/employee/leave/application",{params:{id:b,month:r.value,year:$.value}});C.value=S.data.record}catch(S){console.error("Error fetching all data:",S),K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{E.value=!1}},U=n([]),F=async()=>{try{const{data:b}=await oe.get("/employee/option/leavetype");T(b)}catch(b){console.error("Error fetching options:",b)}},T=(b=[])=>{U.value=b.map(S=>({leavetypeid:S.id??"",leavetype:S.name??"",credit:S.credit??"",earned:"",used:"",balance:""}))},Y=()=>{a(c.data?.id),m(c.data?.id),F()},v=we({leaves:{credit:{type:[],msg:""},earned:{type:[],msg:""},used:{type:[],msg:""}}}),M=()=>{v.leaves.credit.type=U.value.map(()=>null),v.leaves.earned.type=U.value.map(()=>null),v.leaves.used.type=U.value.map(()=>null)},D=()=>{let b=!1;return v.leaves.credit={type:null,msg:""},v.leaves.earned={type:null,msg:""},v.leaves.used={type:null,msg:""},M(),U.value.forEach((S,V)=>{S.credit||(v.leaves.credit.type[V]=!0,v.leaves.credit.msg="credit is required",b=!0),S.earned||(v.leaves.earned.type[V]=!0,v.leaves.earned.msg="earned is required",b=!0),S.used||(v.leaves.used.type[V]=!0,v.leaves.used.msg="used is required",b=!0)}),b&&K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                <div class="text-caption">Something went wrong.</div>
            `}),!b},P=async()=>{if(D()){E.value=!0;try{const b=await oe.post(`/employee/${c.data?.id}/leave`,{leaves:U.value});q("update:modelValue",null),K.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${b.data.message}<div>
            `})}catch(b){b.response&&b.response.data&&(k(b.response.data),K.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{E.value=!1}}},k=b=>{const S=Array.isArray(b)?b:b?.errors||[];Object.keys(v).forEach(V=>{v[V].type=null,v[V].messages=[]}),S.forEach(V=>{v[V.path]!==void 0&&(v[V.path].type=!0,v[V.path].messages.push(V.msg))})},o=(b,S,V="en-US")=>{if(!b)return"";const N=new Date(b),u=new Date(S||b),ne=N.getFullYear()===u.getFullYear()&&N.getMonth()===u.getMonth()&&N.getDate()===u.getDate(),W=pe=>pe.toLocaleString(V,{month:"long"}),J=pe=>pe.getDate(),Z=pe=>pe.getFullYear();return ne?`${W(N)} ${J(N)}, ${Z(N)}`:N.getMonth()===u.getMonth()&&N.getFullYear()===u.getFullYear()?`${W(N)} ${J(N)}-${J(u)}, ${Z(N)}`:`${W(N)} ${J(N)}, ${Z(N)} - ${W(u)} ${J(u)}, ${Z(u)}`},d=(b,S)=>{if(!b)return 0;const V=new Date(b),N=new Date(S||b);V.setHours(0,0,0,0),N.setHours(0,0,0,0);const u=Math.round((N-V)/(1e3*60*60*24));return u>=0?u+1:0},i=n(!1),g=n(null),f=async b=>{E.value=!0;try{const S=await oe.get(`/leave/${b}/pdf`,{responseType:"arraybuffer"}),V=new Blob([S.data],{type:"application/pdf"}),N=window.URL.createObjectURL(V)+"#view=FitW";g.value=N,i.value=!0,E.value=!1}catch(S){E.value=!1,console.error("Error generating PDF:",S)}};return(b,S)=>(h(),B(de,null,[e(ve,{modelValue:p.value,"onUpdate:modelValue":S[3]||(S[3]=V=>p.value=V),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:S[4]||(S[4]=V=>Y())},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(O,{class:"q-pa-lg"},{default:l(()=>S[6]||(S[6]=[t("div",{class:"text-h6 text-uppercase"},"leave information",-1)])),_:1,__:[6]}),e(xe,{inset:""}),e(O,{class:"col q-pa-lg scroll"},{default:l(()=>[t("div",ui,[S[10]||(S[10]=t("div",{class:"text-uppercase text-body1 text-bold q-mb-sm"},"leave credit",-1)),L.value.length===0?(h(),B("div",ci,[t("div",pi,[S[7]||(S[7]=t("div",{class:"col-2"},[t("div",{class:"text-caption text-uppercase text-grey"},"leave")],-1)),t("div",mi,[t("div",{class:R(["text-caption text-uppercase",v.leaves.credit.msg?"text-negative text-italic":"text-grey"])},w(v.leaves.credit.msg?v.leaves.credit.msg:"credit"),3)]),t("div",vi,[t("div",{class:R(["text-caption text-uppercase",v.leaves.earned.msg?"text-negative text-italic":"text-grey"])},w(v.leaves.earned.msg?v.leaves.earned.msg:"earned"),3)]),t("div",gi,[t("div",{class:R(["text-caption text-uppercase",v.leaves.used.msg?"text-negative text-italic":"text-grey"])},w(v.leaves.used.msg?v.leaves.used.msg:"used"),3)]),S[8]||(S[8]=t("div",{class:"col-1"},[t("div",{class:"text-caption text-uppercase text-grey"},"balance")],-1))]),(h(!0),B(de,null,ce(U.value,(V,N)=>(h(),B("div",{class:"row q-col-gutter-xs q-mb-xs",key:N},[t("div",fi,[e(j,{modelValue:V.leavetype,"onUpdate:modelValue":u=>V.leavetype=u,outlined:"","no-error-icon":!0,readonly:!0,class:"text-capitalize"},null,8,["modelValue","onUpdate:modelValue"])]),t("div",hi,[e(j,{modelValue:V.credit,"onUpdate:modelValue":u=>V.credit=u,outlined:"",error:v.leaves.credit.type[N],"no-error-icon":!0},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",xi,[e(j,{modelValue:V.earned,"onUpdate:modelValue":u=>V.earned=u,error:v.leaves.earned.type[N],outlined:""},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",yi,[e(j,{modelValue:V.used,"onUpdate:modelValue":u=>V.used=u,error:v.leaves.used.type[N],outlined:""},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",_i,[e(j,{"model-value":(Number(V.earned)||0)-(Number(V.used)||0),outlined:"",readonly:!0},null,8,["model-value"])])]))),128))])):(h(),B("div",bi,[t("div",Vi,[(h(!0),B(de,null,ce(L.value,(V,N)=>(h(),B("div",{key:`data-${V.id}`,class:"inner-card-anim-wrapper",style:Ce({animationDelay:`${N*120}ms`})},[e(ee,{class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:l(()=>[e(O,null,{default:l(()=>[t("div",wi,w(V?.leaveType?.name),1)]),_:2},1024),e(O,null,{default:l(()=>[t("div",Si,w(V.balance),1),S[9]||(S[9]=t("div",{class:"text-caption text-uppercase text-grey"},"balance",-1))]),_:2,__:[9]},1024)]),_:2},1024)],4))),128))])]))]),t("div",Di,[S[12]||(S[12]=t("div",{class:"text-uppercase text-body1 text-bold q-mb-sm"},"leave application",-1)),t("div",$i,[e(j,{outlined:"",modelValue:$.value,"onUpdate:modelValue":S[0]||(S[0]=V=>$.value=V),style:{width:"80px"},dense:""},null,8,["modelValue"]),t("div",qi,[(h(!0),B(de,null,ce(se(A),(V,N)=>(h(),Q(H,{round:"",unelevated:"",class:R(r.value===V.value?"active":"inactive"),onClick:()=>{r.value=V.value,m(se(c).data?.id)},size:"md",label:V.label},null,8,["class","onClick","label"]))),256))])]),t("div",ki,[!E.value&&C.value.length===0?(h(),B("div",Ei,[e(ee,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:l(()=>[e(O,{class:"text-center"},{default:l(()=>S[11]||(S[11]=[t("div",{class:"text-caption text-uppercase text-grey"},"no data found",-1)])),_:1,__:[11]})]),_:1})])):ae("",!0),(h(!0),B(de,null,ce(C.value,(V,N)=>(h(),B("div",{key:`data-${V.id}`,class:"inner-card-anim-wrapper",style:Ce({animationDelay:`${N*120}ms`})},[e(ee,{onClick:()=>{f(V.id)},class:"card card-menu card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm no-shadow"},{default:l(()=>[e(O,null,{default:l(()=>[t("div",Ui,w(V.leaveType?.name),1),t("div",Pi,w(V?.status),1)]),_:2},1024),e(O,null,{default:l(()=>[t("div",zi,w(o(V?.date_from,V?.date_to)),1),t("div",Ni,w(d(V?.date_from,V?.date_to))+" day/s",1)]),_:2},1024)]),_:2},1032,["onClick"])],4))),128))])])]),_:1}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",Ci,[L.value.length===0?(h(),Q(H,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:S[1]||(S[1]=V=>P())})):ae("",!0),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:S[2]||(S[2]=()=>{q("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:E.value},{default:l(()=>[e(ee,{class:"no-shadow radius-md q-pa-md"},{default:l(()=>[e(O,{class:"text-center"},{default:l(()=>[t("div",null,[e(qe,{color:"dark"})]),S[13]||(S[13]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[13]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]),e(ve,{modelValue:i.value,"onUpdate:modelValue":S[5]||(S[5]=V=>i.value=V),"full-height":"","full-width":"",class:"pdf"},{default:l(()=>[e(ee,{class:"bg-white q-pa-none",style:{height:"100vh",overflow:"hidden"}},{default:l(()=>[Me(e(H,{icon:"bi-x",class:"fixed bg-white text-primary shadow-2",round:"",dense:"",style:{top:"15px",right:"15px","z-index":"999"}},null,512),[[We]]),e(O,{class:"q-pa-none",style:{height:"100%",overflow:"hidden"}},{default:l(()=>[t("div",Ai,[g.value?(h(),B("iframe",{key:0,src:g.value,frameborder:"0"},null,8,Ii)):ae("",!0)])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Ti=Ne(Mi,[["__scopeId","data-v-9fa8b8d7"]]),Ri={class:"q-gutter-sm"},Fi={class:"text-center"},Yi={__name:"PerformanceDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(G,{emit:s}){ge();const c=G,_=s,q=ue({get:()=>c.modelValue===c.dialogName,set:y=>{y||_("update:modelValue",null)}}),p=n(!1),E=()=>{};return(y,r)=>(h(),Q(ve,{modelValue:q.value,"onUpdate:modelValue":r[2]||(r[2]=$=>q.value=$),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:r[3]||(r[3]=$=>E())},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(O,{class:"q-pa-lg"},{default:l(()=>r[4]||(r[4]=[t("div",{class:"text-h6 text-uppercase"},"performance information",-1)])),_:1,__:[4]}),e(xe,{inset:""}),e(O,{class:"col q-pa-lg scroll"}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",Ri,[e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:r[0]||(r[0]=$=>y.SaveProfile())}),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:r[1]||(r[1]=()=>{_("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:p.value},{default:l(()=>[t("div",Fi,[e(ke,{size:"md"}),r[5]||(r[5]=t("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))])]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},Li={class:"q-gutter-sm"},Oi={class:"text-center"},Bi={__name:"IncidentDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(G,{emit:s}){ge();const c=G,_=s,q=ue({get:()=>c.modelValue===c.dialogName,set:y=>{y||_("update:modelValue",null)}}),p=n(!1),E=()=>{};return(y,r)=>(h(),Q(ve,{modelValue:q.value,"onUpdate:modelValue":r[2]||(r[2]=$=>q.value=$),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:r[3]||(r[3]=$=>E())},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(O,{class:"q-pa-lg"},{default:l(()=>r[4]||(r[4]=[t("div",{class:"text-h6 text-uppercase"},"disciplinary information",-1)])),_:1,__:[4]}),e(xe,{inset:""}),e(O,{class:"col q-pa-lg scroll"}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",Li,[e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:r[0]||(r[0]=$=>y.SaveProfile())}),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:r[1]||(r[1]=()=>{_("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:p.value},{default:l(()=>[t("div",Oi,[e(ke,{size:"md"}),r[5]||(r[5]=t("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))])]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},ji={class:"q-gutter-sm"},Hi={class:"text-center"},Wi={__name:"PayslipDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(G,{emit:s}){ge();const c=G,_=s,q=ue({get:()=>c.modelValue===c.dialogName,set:y=>{y||_("update:modelValue",null)}}),p=n(!1),E=()=>{};return(y,r)=>(h(),Q(ve,{modelValue:q.value,"onUpdate:modelValue":r[2]||(r[2]=$=>q.value=$),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:r[3]||(r[3]=$=>E())},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(O,{class:"q-pa-lg"},{default:l(()=>r[4]||(r[4]=[t("div",{class:"text-h6 text-uppercase"},"payslip",-1)])),_:1,__:[4]}),e(xe,{inset:""}),e(O,{class:"col q-pa-lg scroll"}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",ji,[e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:r[0]||(r[0]=$=>y.SaveProfile())}),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:r[1]||(r[1]=()=>{_("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:p.value},{default:l(()=>[t("div",Hi,[e(ke,{size:"md"}),r[5]||(r[5]=t("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))])]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},Gi={class:"q-gutter-sm"},Qi={class:"text-center"},Xi={__name:"OvertimeDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(G,{emit:s}){ge();const c=G,_=s,q=ue({get:()=>c.modelValue===c.dialogName,set:y=>{y||_("update:modelValue",null)}}),p=n(!1),E=()=>{};return(y,r)=>(h(),Q(ve,{modelValue:q.value,"onUpdate:modelValue":r[2]||(r[2]=$=>q.value=$),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:r[3]||(r[3]=$=>E())},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(O,{class:"q-pa-lg"},{default:l(()=>r[4]||(r[4]=[t("div",{class:"text-h6 text-uppercase"},"overtime information",-1)])),_:1,__:[4]}),e(xe,{inset:""}),e(O,{class:"col q-pa-lg scroll"}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",Gi,[e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:r[0]||(r[0]=$=>y.SaveProfile())}),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:r[1]||(r[1]=()=>{_("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:p.value},{default:l(()=>[t("div",Qi,[e(ke,{size:"md"}),r[5]||(r[5]=t("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))])]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},Ji={class:"q-mb-md"},Zi={class:"card-grid"},Ki={class:"inner-card-anim-wrapper",style:{animationDelay:"100ms"}},en={class:"text-caption text-dark text-uppercase"},tn={class:"text-caption text-grey text-uppercase"},an={class:"absolute-left"},ln={class:"q-mb-md"},sn={class:"q-gutter-sm"},on={class:"row q-col-gutter-xs q-mb-md"},nn={class:"col-2"},rn={class:"col-2"},dn={class:"col-2"},un={key:0,class:"col-2"},cn={class:"col-2"},pn={class:"q-mb-md q-mt-xl"},mn={class:"q-gutter-sm"},vn={class:"row q-col-gutter-xs q-mb-md"},gn={class:"col-2"},fn={class:"q-mb-md"},hn={class:"q-gutter-sm"},xn={class:"row q-gutter-sm"},yn={class:"text-caption text-uppercase text-grey"},_n={__name:"SalaryDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(G,{emit:s}){const c=De(),_=ge(),q=G,p=s,E=ue({get:()=>q.modelValue===q.dialogName,set:le=>{le||p("update:modelValue",null)}}),y=n([]),r=n([{value:"HIRE",label:"Hiring Rate"},{value:"PROMO",label:"Promotion Increase"},{value:"MERIT",label:"Merit Increase"},{value:"ANNUAL",label:"Annual Increase"},{value:"COLA",label:"Cost of Living Allowance"},{value:"PROB",label:"Probationary Increase"},{value:"ADJUST",label:"Salary Adjustment"},{value:"GOVT",label:"Government Mandated Increase"}]),$=n(["Monthly","Daily","Hourly"]),A=n(["Monthly","Semi-Monthly","Weekly"]),L=n(["S","ME","S1","S2","S3","S4","ME1","ME2","ME3","ME4","Z"]);function C(le,X="PHP"){return le?le.split("-").map(te=>parseFloat(te.replace(/,/g,"")).toLocaleString("en-PH",{style:"currency",currency:X,minimumFractionDigits:2})).join(" - "):""}const a=async()=>{try{const le=await oe.get("/salary/option/position");y.value=le.data}catch(le){console.error("Error fetching options:",le)}},m=n(""),U=n(new Date().toISOString().split("T")[0]),F=n(""),T=n(""),Y=n(""),v=n(""),M=n(""),D=n(""),P=n(""),k=n(!1),o=we({datestart:{type:null,msg:""},dateend:{type:null,msg:""},salarygroup:{type:null,msg:""},salarytype:{type:null,msg:""},amount:{type:null,msg:""},payrollgroup:{type:null,msg:""},taxstatus:{type:null,msg:""}}),d=()=>K.fire({icon:"error",html:`
        <div class="text-h6 text-bold text-uppercase">Request Failed</div>
        <div class="text-caption">Something went wrong.</div>
        `}),i=(le,X="required")=>(o[le].type=!0,o[le].msg=X,!0),g=le=>(o[le].type=null,o[le].msg="",!1),f=(le,X)=>X?g(le):i(le,"required"),b=()=>{let le=!1;return le||=f("salarytype",Y.value),le||=f("datestart",U.value),le||=F.value&&U.value&&new Date(F.value)<new Date(U.value)?i("dateend","must be after start date"):g("dateend"),le||=f("salarygroup",T.value),le||=!m.value&&(!D.value||isNaN(+D.value)||+D.value<=0)?i("amount",D.value?"invalid amount":"required"):g("amount"),le||=f("payrollgroup",v.value),le||=f("taxstatus",M.value),le&&d(),!le},S=n(!1),V=()=>{const le=_.data;a(),v.value=le?.employment?.payroll_group,M.value=le?.employment?.tax_status},N=async()=>{if(!(b&&!b())){S.value=!0;try{const le=await oe.post(`/employee/${_.data?.employment?.id}/salary`,{positionid:m.value.id?m.value.id:_.data?.employment?.position?.id,salarytype:Y.value,datestart:U.value,dateend:F.value,salarygroup:T.value,amount:D.value,notes:P.value,payrollgroup:v.value,taxstatus:M.value,isPremium:k.value});p("update:modelValue",null),K.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${le.data.message}<div>
            `})}catch(le){le.response&&le.response.data&&(u(le.response.data),K.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{S.value=!1}}},u=le=>{const X=Array.isArray(le)?le:le?.errors||[];Object.keys(o).forEach(te=>{o[te].type=null,o[te].messages=[]}),X.forEach(te=>{o[te.path]!==void 0&&(o[te.path].type=!0,o[te.path].messages.push(te.msg))})},ne=()=>{m.value="",U.value=new Date().toISOString().split("T")[0],F.value="",Y.value="",T.value="",D.value="",P.value=""},W=()=>{Object.keys(o).forEach(le=>{o[le].type=null,o[le].msg=""})},J=n(null),Z=n(""),pe=ue(()=>{const le=Z.value.trim().toLowerCase();return y.value.filter(X=>X.status==="Vacant").filter(X=>!le||String(X.label||"").toLowerCase().includes(le))}),re=ue(()=>pe.value.slice(0,5)),Re=ue(()=>re.value.length),Ge=ue(()=>pe.value.length);return(le,X)=>(h(),Q(ve,{modelValue:E.value,"onUpdate:modelValue":X[18]||(X[18]=te=>E.value=te),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:X[19]||(X[19]=()=>{V(),ne(),W()})},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(O,{class:"q-pa-lg"},{default:l(()=>X[20]||(X[20]=[t("div",{class:"text-h6 text-uppercase"},"salary schedule",-1)])),_:1,__:[20]}),e(xe,{inset:""}),e(O,{class:"col q-pa-lg scroll"},{default:l(()=>[t("div",Ji,[X[22]||(X[22]=t("div",{class:"text-caption text-uppercase text-grey"},"position",-1)),t("div",Zi,[t("div",Ki,[re.value.length?ae("",!0):(h(),Q(ee,{key:0,class:"card card-menu card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:l(()=>[e(O,{class:"text-center"},{default:l(()=>X[21]||(X[21]=[t("div",{class:"text-caption text-dark text-uppercase"},"no record found",-1)])),_:1,__:[21]})]),_:1}))]),re.value.length?(h(!0),B(de,{key:0},ce(re.value,(te,Ae)=>(h(),B("div",{key:`data-${te.id}`,class:"inner-card-anim-wrapper",style:Ce({animationDelay:`${Ae*100}ms`})},[e(ee,{onClick:()=>{m.value=te,Y.value=te.salary_type,D.value=te.amount},class:R(["card card-menu card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm",{"card--active":m.value===te}])},{default:l(()=>[e(O,{class:"text-center"},{default:l(()=>[t("div",en,w(te.label),1),t("div",tn,w(C(te?.amount)),1)]),_:2},1024),t("div",an,[e(Se,{modelValue:m.value,"onUpdate:modelValue":X[0]||(X[0]=Fe=>m.value=Fe),val:te,"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",size:"xs"},null,8,["modelValue","val"])])]),_:2},1032,["onClick","class"])],4))),128)):ae("",!0)])]),t("div",ln,[t("div",{class:R(["text-caption text-uppercase",o.salarytype.type?"text-negative text-italic":"text-grey"])},w(o.salarytype.type?o.salarytype.msg:"salary type"),3),t("div",sn,[(h(!0),B(de,null,ce($.value,te=>(h(),Q(Se,{modelValue:Y.value,"onUpdate:modelValue":X[1]||(X[1]=Ae=>Y.value=Ae),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:te,label:te},null,8,["modelValue","val","label"]))),256))])]),t("div",on,[t("div",nn,[t("div",{class:R(["text-caption text-uppercase",o.datestart.msg?"text-negative text-italic":"text-grey"])},w(o.datestart.msg?o.datestart.msg:"date start (YYYY-MM-DD)"),3),e(j,{outlined:"",modelValue:U.value,"onUpdate:modelValue":X[4]||(X[4]=te=>U.value=te),label:"Enter Date"},{default:l(()=>[e(Ve,{cover:"","transition-show":"scale","transition-hide":"scale",ref_key:"popup",ref:J,class:"no-shadow custom-border radius-sm"},{default:l(()=>[e(be,{modelValue:U.value,"onUpdate:modelValue":[X[2]||(X[2]=te=>U.value=te),X[3]||(X[3]=()=>{J.value.hide()})],mask:"YYYY-MM-DD"},null,8,["modelValue"])]),_:1},512)]),_:1},8,["modelValue"])]),t("div",rn,[t("div",{class:R(["text-caption text-uppercase",o.dateend.msg?"text-negative text-italic":"text-grey"])},w(o.dateend.msg?o.dateend.msg:"date end (YYYY-MM-DD)"),3),e(j,{outlined:"",modelValue:F.value,"onUpdate:modelValue":X[7]||(X[7]=te=>F.value=te),label:"Enter Date"},{default:l(()=>[e(Ve,{cover:"","transition-show":"scale","transition-hide":"scale",ref_key:"popup",ref:J,class:"no-shadow custom-border radius-sm"},{default:l(()=>[e(be,{modelValue:F.value,"onUpdate:modelValue":[X[5]||(X[5]=te=>F.value=te),X[6]||(X[6]=()=>{J.value.hide()})],mask:"YYYY-MM-DD"},null,8,["modelValue"])]),_:1},512)]),_:1},8,["modelValue"])]),t("div",dn,[t("div",{class:R(["text-caption text-uppercase",o.salarygroup.msg?"text-negative text-italic":"text-grey"])},w(o.salarygroup.msg?o.salarygroup.msg:"salary group"),3),e(Ue,{outlined:"",modelValue:T.value,"onUpdate:modelValue":X[8]||(X[8]=te=>T.value=te),label:"Choose Salary Group","emit-value":"","map-options":"","use-input":"","input-debounce":"300",options:r.value,error:o.salarygroup.type,"hide-dropdown-icon":"","no-error-icon":!0,class:"text-capitalize"},{"no-option":l(()=>[e(fe,null,{default:l(()=>[e(he,{class:"text-italic text-grey"},{default:l(()=>X[23]||(X[23]=[me(" No options ")])),_:1,__:[23]})]),_:1})]),option:l(te=>[e(fe,Le(Oe(te.itemProps)),{default:l(()=>[e(he,null,{default:l(()=>[e(Ee,null,{default:l(()=>[me(w(le.$CapitalizeWords(te.opt.label)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","error"])]),m.value?ae("",!0):(h(),B("div",un,[t("div",{class:R(["text-caption text-uppercase",o.amount.type?"text-negative text-italic":"text-grey"])},w(o.amount.type?o.amount.msg:"amount"),3),e(j,{modelValue:D.value,"onUpdate:modelValue":X[9]||(X[9]=te=>D.value=te),label:"Enter Amount",outlined:"",error:o.amount.type,"no-error-icon":!0},null,8,["modelValue","error"])])),t("div",cn,[X[24]||(X[24]=t("div",{class:"text-caption text-uppercase text-grey"},"note",-1)),e(j,{modelValue:P.value,"onUpdate:modelValue":X[10]||(X[10]=te=>P.value=te),label:"Enter Notes",outlined:"","no-error-icon":!0},null,8,["modelValue"])])]),t("div",pn,[t("div",{class:R(["text-caption text-uppercase",o.payrollgroup.type?"text-negative text-italic":"text-grey"])},w(o.payrollgroup.type?o.payrollgroup.msg:"payroll group"),3),t("div",mn,[(h(!0),B(de,null,ce(A.value,te=>(h(),Q(Se,{modelValue:v.value,"onUpdate:modelValue":X[11]||(X[11]=Ae=>v.value=Ae),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:te,label:te,class:"text-capitalize"},null,8,["modelValue","val","label"]))),256))])]),t("div",vn,[t("div",gn,[t("div",{class:R(["text-caption text-uppercase",o.taxstatus.type?"text-negative text-italic":"text-grey"])},w(o.taxstatus.type?o.taxstatus.msg:"tax status"),3),e(Ue,{outlined:"",modelValue:M.value,"onUpdate:modelValue":X[12]||(X[12]=te=>M.value=te),label:"Choose Tax Status","use-input":"","input-debounce":"300",options:L.value,error:o.taxstatus.type,"hide-dropdown-icon":"","no-error-icon":!0,class:"text-capitalize"},{"no-option":l(()=>[e(fe,null,{default:l(()=>[e(he,{class:"text-italic text-grey"},{default:l(()=>X[25]||(X[25]=[me(" No options ")])),_:1,__:[25]})]),_:1})]),option:l(te=>[e(fe,Le(Oe(te.itemProps)),{default:l(()=>[e(he,null,{default:l(()=>[e(Ee,null,{default:l(()=>[me(w(le.$CapitalizeWords(te.opt)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","error"])])]),t("div",fn,[X[26]||(X[26]=t("div",{class:"text-caption text-uppercase text-grey'"},"for premium payment",-1)),t("div",hn,[e(dt,{modelValue:k.value,"onUpdate:modelValue":X[13]||(X[13]=te=>k.value=te),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",label:"Additional Pay"},null,8,["modelValue"])])])]),_:1}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",xn,[se(c).hasRole(["SuperAdmin","Admin","HR"])?(h(),Q(H,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:X[14]||(X[14]=te=>N())})):ae("",!0),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"clear",onClick:X[15]||(X[15]=()=>{ne()}),outline:""}),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:X[16]||(X[16]=()=>{p("update:modelValue",null)}),outline:""}),e(j,{outlined:"",dense:"",debounce:"1000",modelValue:Z.value,"onUpdate:modelValue":X[17]||(X[17]=te=>Z.value=te),placeholder:"Search..."},{prepend:l(()=>[e(Be,{name:"bi-search",style:{"font-size":"1rem"}})]),after:l(()=>[t("div",yn,w(Re.value)+" of "+w(Ge.value),1)]),_:1},8,["modelValue"])])]),_:1}),e(_e,{showing:S.value},{default:l(()=>[e(ee,{class:"no-shadow radius-md q-pa-md"},{default:l(()=>[e(O,{class:"text-center"},{default:l(()=>[t("div",null,[e(qe,{color:"dark"})]),X[27]||(X[27]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[27]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},bn=Ne(_n,[["__scopeId","data-v-0e3e177b"]]),Vn={class:"text-uppercase text-body1 text-bold"},wn={class:"q-mb-md"},Sn={class:"row q-col-gutter-xs q-mb-sm"},Dn={class:"col-2"},$n={class:"col-2"},qn={class:"q-mb-md"},kn={class:"q-gutter-sm"},En={__name:"AccountDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(G,{emit:s}){const c=De(),_=ge(),q=G,p=s,E=ue({get:()=>q.modelValue===q.dialogName,set:o=>{o||p("update:modelValue",null)}}),y=n(!1),r=n(!1),$=n([{id:"",employeeid:"",username:"",password:"",role:"",status:""}]),A=()=>({id:"",employeeid:"",username:"",password:"",role:"",status:""}),L=async o=>{r.value=!0;try{const d=await oe.get("/employee/account",{params:{id:o}});d.data.record.length?C(d.data.record):A()}catch(d){console.error("Error fetching all data:",d),K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{r.value=!1}},C=(o=[])=>{$.value=o.map(d=>({id:d.id??"",username:d.user?.username??"",role:d.user?.role??"",status:d.user?.status??""}))},a=()=>{L(_.data?.id),$.value=[{id:"",employeeid:"",username:"",password:"",role:"",status:""}],$.value.length||A()},m=we({accounts:{username:{type:[],msg:""},password:{type:[],msg:""},role:{type:[],msg:""},status:{type:[],msg:""}}}),U=()=>{m.accounts.username.type=$.value.map(()=>null),m.accounts.password.type=$.value.map(()=>null),m.accounts.role.type=$.value.map(()=>null),m.accounts.status.type=$.value.map(()=>null)},F=()=>{let o=!1;return m.accounts.username={type:null,msg:""},m.accounts.password={type:null,msg:""},m.accounts.role={type:null,msg:""},m.accounts.status={type:null,msg:""},U(),$.value.forEach((d,i)=>{d.username||(m.accounts.username.type[i]=!0,m.accounts.username.msg="username is required",o=!0),d.id||d.password||(m.accounts.password.type[i]=!0,m.accounts.password.msg="password is required",o=!0),d.role||(m.accounts.role.type[i]=!0,m.accounts.role.msg="role is required",o=!0),d.status||(m.accounts.status.type[i]=!0,m.accounts.status.msg="status is required",o=!0)}),o&&K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                <div class="text-caption">Something went wrong.</div>
            `}),!o},T=n([{value:"SuperAdmin",label:"Super Administrator"},{value:"Admin",label:"Administrator"},{value:"Management",label:"Management"},{value:"HR",label:"HR"},{value:"Finance",label:"Finance"},{value:"Employee",label:"Employee"}]),Y=n(["Active","Inactive","Suspended"]),v=()=>{$.value.push({id:"",employeeid:"",username:"",password:"",role:"",status:""})},M=o=>{$.value.splice(o,1)},D=async()=>{if(F()){r.value=!0;try{const o=await oe.post(`/employee/${_.data?.id}/account`,{accounts:$.value});p("update:modelValue",null),K.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${o.data.message}<div>
            `})}catch(o){o.response&&o.response.data&&(P(o.response.data),K.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{r.value=!1}}},P=o=>{const d=Array.isArray(o)?o:o?.errors||[];Object.keys(m).forEach(i=>{m[i].type=null,m[i].messages=[]}),d.forEach(i=>{m[i.path]!==void 0&&(m[i.path].type=!0,m[i.path].messages.push(i.msg))})},k=o=>["SuperAdmin"].includes(o);return(o,d)=>(h(),Q(ve,{modelValue:E.value,"onUpdate:modelValue":d[3]||(d[3]=i=>E.value=i),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:d[4]||(d[4]=i=>a())},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(O,{class:"q-pa-lg"},{default:l(()=>d[5]||(d[5]=[t("div",{class:"text-h6 text-uppercase"},"employee account",-1)])),_:1,__:[5]}),e(xe,{inset:""}),e(O,{class:"col q-pa-lg scroll"},{default:l(()=>[(h(!0),B(de,null,ce($.value,(i,g)=>(h(),B("div",{key:g,class:"q-mb-md"},[t("div",null,[t("span",Vn,"account "+w(g+1),1),$.value.length>1&&se(c).hasRole(["SuperAdmin","Admin","HR"])?(h(),Q(H,{key:0,round:"",icon:"bi-trash3",flat:"",unelevated:"",color:"grey",onClick:f=>M(g),size:"sm",class:"q-ml-sm"},null,8,["onClick"])):ae("",!0)]),t("div",wn,[t("div",{class:R(["text-caption text-uppercase",m.accounts.role.msg?"text-negative text-italic":"text-grey"])},w(m.accounts.role.msg?m.accounts.role.msg:"role"),3),(h(!0),B(de,null,ce(T.value,(f,b)=>(h(),Q(Se,{modelValue:i.role,"onUpdate:modelValue":S=>i.role=S,"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:f.value,label:f.label,class:"text-uppercase",disable:k(f.value)},null,8,["modelValue","onUpdate:modelValue","val","label","disable"]))),256))]),t("div",Sn,[t("div",Dn,[t("div",{class:R(["text-caption text-uppercase",m.accounts.username.msg?"text-negative text-italic":"text-grey"])},w(m.accounts.username.msg?m.accounts.username.msg:"username"),3),e(j,{modelValue:i.username,"onUpdate:modelValue":f=>i.username=f,label:"Enter Username",outlined:"",error:m.accounts.username.type[g],"no-error-icon":!0},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",$n,[t("div",{class:R(["text-caption text-uppercase",m.accounts.password.msg?"text-negative text-italic":"text-grey"])},w(m.accounts.password.msg?m.accounts.password.msg:"password"),3),e(j,{modelValue:i.password,"onUpdate:modelValue":f=>i.password=f,label:"Enter Password",outlined:"",error:m.accounts.password.type[g],"no-error-icon":!0,type:y.value?"text":"password"},{append:l(()=>[e(Be,{name:y.value?"bi-eye":"bi-eye-slash",class:"cursor-pointer",onClick:d[0]||(d[0]=f=>y.value=!y.value),style:{"font-size":"1rem"}},null,8,["name"])]),_:2},1032,["modelValue","onUpdate:modelValue","error","type"])])]),t("div",qn,[t("div",{class:R(["text-caption text-uppercase",m.accounts.status.msg?"text-negative text-italic":"text-grey"])},w(m.accounts.status.msg?m.accounts.status.msg:"status"),3),(h(!0),B(de,null,ce(Y.value,(f,b)=>(h(),Q(Se,{modelValue:i.status,"onUpdate:modelValue":S=>i.status=S,"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:f,label:f,class:"text-uppercase",disable:k(f)},null,8,["modelValue","onUpdate:modelValue","val","label","disable"]))),256))])]))),128))]),_:1}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",kn,[se(c).hasRole(["SuperAdmin","Admin","HR"])?(h(),Q(H,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:d[1]||(d[1]=i=>D())})):ae("",!0),se(c).hasRole(["SuperAdmin","Admin","HR"])?(h(),Q(H,{key:1,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"add",onClick:v,outline:""})):ae("",!0),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:d[2]||(d[2]=()=>{p("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:r.value},{default:l(()=>[e(ee,{class:"no-shadow radius-md q-pa-md"},{default:l(()=>[e(O,{class:"text-center"},{default:l(()=>[t("div",null,[e(qe,{color:"dark"})]),d[6]||(d[6]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[6]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}};/*!
 * Signature Pad v5.1.3 | https://github.com/szimek/signature_pad
 * (c) 2025 Szymon Nowak | Released under the MIT license
 */var He=class{x;y;pressure;time;constructor(G,s,c,_){if(isNaN(G)||isNaN(s))throw new Error(`Point is invalid: (${G}, ${s})`);this.x=+G,this.y=+s,this.pressure=c||0,this.time=_||Date.now()}distanceTo(G){return Math.sqrt(Math.pow(this.x-G.x,2)+Math.pow(this.y-G.y,2))}equals(G){return this.x===G.x&&this.y===G.y&&this.pressure===G.pressure&&this.time===G.time}velocityFrom(G){return this.time!==G.time?this.distanceTo(G)/(this.time-G.time):0}},Un=class ct{constructor(s,c,_,q,p,E){this.startPoint=s,this.control2=c,this.control1=_,this.endPoint=q,this.startWidth=p,this.endWidth=E}static fromPoints(s,c){const _=this.calculateControlPoints(s[0],s[1],s[2]).c2,q=this.calculateControlPoints(s[1],s[2],s[3]).c1;return new ct(s[1],_,q,s[2],c.start,c.end)}static calculateControlPoints(s,c,_){const q=s.x-c.x,p=s.y-c.y,E=c.x-_.x,y=c.y-_.y,r={x:(s.x+c.x)/2,y:(s.y+c.y)/2},$={x:(c.x+_.x)/2,y:(c.y+_.y)/2},A=Math.sqrt(q*q+p*p),L=Math.sqrt(E*E+y*y),C=r.x-$.x,a=r.y-$.y,m=A+L==0?0:L/(A+L),U={x:$.x+C*m,y:$.y+a*m},F=c.x-U.x,T=c.y-U.y;return{c1:new He(r.x+F,r.y+T),c2:new He($.x+F,$.y+T)}}length(){let c=0,_,q;for(let p=0;p<=10;p+=1){const E=p/10,y=this.point(E,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),r=this.point(E,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(p>0){const $=y-_,A=r-q;c+=Math.sqrt($*$+A*A)}_=y,q=r}return c}point(s,c,_,q,p){return c*(1-s)*(1-s)*(1-s)+3*_*(1-s)*(1-s)*s+3*q*(1-s)*s*s+p*s*s*s}},Pn=class{_et;constructor(){try{this._et=new EventTarget}catch{this._et=document}}addEventListener(G,s,c){this._et.addEventListener(G,s,c)}dispatchEvent(G){return this._et.dispatchEvent(G)}removeEventListener(G,s,c){this._et.removeEventListener(G,s,c)}};function zn(G,s=250){let c=0,_=null,q,p,E;const y=()=>{c=Date.now(),_=null,q=G.apply(p,E),_||(p=null,E=[])};return function(...$){const A=Date.now(),L=s-(A-c);return p=this,E=$,L<=0||L>s?(_&&(clearTimeout(_),_=null),c=A,q=G.apply(p,E),_||(p=null,E=[])):_||(_=window.setTimeout(y,L)),q}}var Nn=class tt extends Pn{constructor(s,c={}){super(),this.canvas=s,this.velocityFilterWeight=c.velocityFilterWeight||.7,this.minWidth=c.minWidth||.5,this.maxWidth=c.maxWidth||2.5,this.throttle=c.throttle??16,this.minDistance=c.minDistance??5,this.dotSize=c.dotSize||0,this.penColor=c.penColor||"black",this.backgroundColor=c.backgroundColor||"rgba(0,0,0,0)",this.compositeOperation=c.compositeOperation||"source-over",this.canvasContextOptions=c.canvasContextOptions??{},this._strokeMoveUpdate=this.throttle?zn(tt.prototype._strokeUpdate,this.throttle):tt.prototype._strokeUpdate,this._handleMouseDown=this._handleMouseDown.bind(this),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this._handleTouchStart=this._handleTouchStart.bind(this),this._handleTouchMove=this._handleTouchMove.bind(this),this._handleTouchEnd=this._handleTouchEnd.bind(this),this._handlePointerDown=this._handlePointerDown.bind(this),this._handlePointerMove=this._handlePointerMove.bind(this),this._handlePointerUp=this._handlePointerUp.bind(this),this._handlePointerCancel=this._handlePointerCancel.bind(this),this._handleTouchCancel=this._handleTouchCancel.bind(this),this._ctx=s.getContext("2d",this.canvasContextOptions),this.clear(),this.on()}dotSize;minWidth;maxWidth;penColor;minDistance;velocityFilterWeight;compositeOperation;backgroundColor;throttle;canvasContextOptions;_ctx;_drawingStroke=!1;_isEmpty=!0;_dataUrl;_dataUrlOptions;_lastPoints=[];_data=[];_lastVelocity=0;_lastWidth=0;_strokeMoveUpdate;_strokePointerId;clear(){const{_ctx:s,canvas:c}=this;s.fillStyle=this.backgroundColor,s.clearRect(0,0,c.width,c.height),s.fillRect(0,0,c.width,c.height),this._data=[],this._reset(this._getPointGroupOptions()),this._isEmpty=!0,this._dataUrl=void 0,this._dataUrlOptions=void 0,this._strokePointerId=void 0}redraw(){const s=this._data,c=this._dataUrl,_=this._dataUrlOptions;this.clear(),c&&this.fromDataURL(c,_),this.fromData(s,{clear:!1})}fromDataURL(s,c={}){return new Promise((_,q)=>{const p=new Image,E=c.ratio||window.devicePixelRatio||1,y=c.width||this.canvas.width/E,r=c.height||this.canvas.height/E,$=c.xOffset||0,A=c.yOffset||0;this._reset(this._getPointGroupOptions()),p.onload=()=>{this._ctx.drawImage(p,$,A,y,r),_()},p.onerror=L=>{q(L)},p.crossOrigin="anonymous",p.src=s,this._isEmpty=!1,this._dataUrl=s,this._dataUrlOptions={...c}})}toDataURL(s="image/png",c){switch(s){case"image/svg+xml":return typeof c!="object"&&(c=void 0),`data:image/svg+xml;base64,${btoa(this.toSVG(c))}`;default:return typeof c!="number"&&(c=void 0),this.canvas.toDataURL(s,c)}}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",this.canvas.style.userSelect="none",this.canvas.style.webkitUserSelect="none";const s=/Macintosh/.test(navigator.userAgent)&&"ontouchstart"in document;window.PointerEvent&&!s?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.style.userSelect="auto",this.canvas.style.webkitUserSelect="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerDown),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this._removeMoveUpEventListeners()}_getListenerFunctions(){const s=window.document===this.canvas.ownerDocument?window:this.canvas.ownerDocument.defaultView??this.canvas.ownerDocument;return{addEventListener:s.addEventListener.bind(s),removeEventListener:s.removeEventListener.bind(s)}}_removeMoveUpEventListeners(){const{removeEventListener:s}=this._getListenerFunctions();s("pointermove",this._handlePointerMove),s("pointerup",this._handlePointerUp),s("pointercancel",this._handlePointerCancel),s("mousemove",this._handleMouseMove),s("mouseup",this._handleMouseUp),s("touchmove",this._handleTouchMove),s("touchend",this._handleTouchEnd),s("touchcancel",this._handleTouchCancel)}isEmpty(){return this._isEmpty}fromData(s,{clear:c=!0}={}){c&&this.clear(),this._fromData(s,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=this._data.concat(s)}toData(){return this._data}_isLeftButtonPressed(s,c){return c?s.buttons===1:(s.buttons&1)===1}_pointerEventToSignatureEvent(s){return{event:s,type:s.type,x:s.clientX,y:s.clientY,pressure:"pressure"in s?s.pressure:0}}_touchEventToSignatureEvent(s){const c=s.changedTouches[0];return{event:s,type:s.type,x:c.clientX,y:c.clientY,pressure:c.force}}_handleMouseDown(s){!this._isLeftButtonPressed(s,!0)||this._drawingStroke||this._strokeBegin(this._pointerEventToSignatureEvent(s))}_handleMouseMove(s){if(!this._isLeftButtonPressed(s,!0)||!this._drawingStroke){this._strokeEnd(this._pointerEventToSignatureEvent(s),!1);return}this._strokeMoveUpdate(this._pointerEventToSignatureEvent(s))}_handleMouseUp(s){this._isLeftButtonPressed(s)||this._strokeEnd(this._pointerEventToSignatureEvent(s))}_handleTouchStart(s){s.targetTouches.length!==1||this._drawingStroke||(s.cancelable&&s.preventDefault(),this._strokeBegin(this._touchEventToSignatureEvent(s)))}_handleTouchMove(s){if(s.targetTouches.length===1){if(s.cancelable&&s.preventDefault(),!this._drawingStroke){this._strokeEnd(this._touchEventToSignatureEvent(s),!1);return}this._strokeMoveUpdate(this._touchEventToSignatureEvent(s))}}_handleTouchEnd(s){s.targetTouches.length===0&&(s.cancelable&&s.preventDefault(),this._strokeEnd(this._touchEventToSignatureEvent(s)))}_handlePointerCancel(s){this._allowPointerId(s)&&(s.preventDefault(),this._strokeEnd(this._pointerEventToSignatureEvent(s),!1))}_handleTouchCancel(s){s.cancelable&&s.preventDefault(),this._strokeEnd(this._touchEventToSignatureEvent(s),!1)}_getPointerId(s){return s.persistentDeviceId||s.pointerId}_allowPointerId(s,c=!1){return typeof this._strokePointerId>"u"?c:this._getPointerId(s)===this._strokePointerId}_handlePointerDown(s){this._drawingStroke||!this._isLeftButtonPressed(s)||!this._allowPointerId(s,!0)||(this._strokePointerId=this._getPointerId(s),s.preventDefault(),this._strokeBegin(this._pointerEventToSignatureEvent(s)))}_handlePointerMove(s){if(this._allowPointerId(s)){if(!this._isLeftButtonPressed(s,!0)||!this._drawingStroke){this._strokeEnd(this._pointerEventToSignatureEvent(s),!1);return}s.preventDefault(),this._strokeMoveUpdate(this._pointerEventToSignatureEvent(s))}}_handlePointerUp(s){this._isLeftButtonPressed(s)||!this._allowPointerId(s)||(s.preventDefault(),this._strokeEnd(this._pointerEventToSignatureEvent(s)))}_getPointGroupOptions(s){return{penColor:s&&"penColor"in s?s.penColor:this.penColor,dotSize:s&&"dotSize"in s?s.dotSize:this.dotSize,minWidth:s&&"minWidth"in s?s.minWidth:this.minWidth,maxWidth:s&&"maxWidth"in s?s.maxWidth:this.maxWidth,velocityFilterWeight:s&&"velocityFilterWeight"in s?s.velocityFilterWeight:this.velocityFilterWeight,compositeOperation:s&&"compositeOperation"in s?s.compositeOperation:this.compositeOperation}}_strokeBegin(s){if(!this.dispatchEvent(new CustomEvent("beginStroke",{detail:s,cancelable:!0})))return;const{addEventListener:_}=this._getListenerFunctions();switch(s.event.type){case"mousedown":_("mousemove",this._handleMouseMove,{passive:!1}),_("mouseup",this._handleMouseUp,{passive:!1});break;case"touchstart":_("touchmove",this._handleTouchMove,{passive:!1}),_("touchend",this._handleTouchEnd,{passive:!1}),_("touchcancel",this._handleTouchCancel,{passive:!1});break;case"pointerdown":_("pointermove",this._handlePointerMove,{passive:!1}),_("pointerup",this._handlePointerUp,{passive:!1}),_("pointercancel",this._handlePointerCancel,{passive:!1});break}this._drawingStroke=!0;const q=this._getPointGroupOptions(),p={...q,points:[]};this._data.push(p),this._reset(q),this._strokeUpdate(s)}_strokeUpdate(s){if(!this._drawingStroke)return;if(this._data.length===0){this._strokeBegin(s);return}this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:s}));const c=this._createPoint(s.x,s.y,s.pressure),_=this._data[this._data.length-1],q=_.points,p=q.length>0&&q[q.length-1],E=p?c.distanceTo(p)<=this.minDistance:!1,y=this._getPointGroupOptions(_);if(!p||!(p&&E)){const r=this._addPoint(c,y);p?r&&this._drawCurve(r,y):this._drawDot(c,y),q.push({time:c.time,x:c.x,y:c.y,pressure:c.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:s}))}_strokeEnd(s,c=!0){this._removeMoveUpEventListeners(),this._drawingStroke&&(c&&this._strokeUpdate(s),this._drawingStroke=!1,this._strokePointerId=void 0,this.dispatchEvent(new CustomEvent("endStroke",{detail:s})))}_handlePointerEvents(){this._drawingStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerDown,{passive:!1})}_handleMouseEvents(){this._drawingStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown,{passive:!1})}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart,{passive:!1})}_reset(s){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(s.minWidth+s.maxWidth)/2,this._ctx.fillStyle=s.penColor,this._ctx.globalCompositeOperation=s.compositeOperation}_createPoint(s,c,_){const q=this.canvas.getBoundingClientRect();return new He(s-q.left,c-q.top,_,new Date().getTime())}_addPoint(s,c){const{_lastPoints:_}=this;if(_.push(s),_.length>2){_.length===3&&_.unshift(_[0]);const q=this._calculateCurveWidths(_[1],_[2],c),p=Un.fromPoints(_,q);return _.shift(),p}return null}_calculateCurveWidths(s,c,_){const q=_.velocityFilterWeight*c.velocityFrom(s)+(1-_.velocityFilterWeight)*this._lastVelocity,p=this._strokeWidth(q,_),E={end:p,start:this._lastWidth};return this._lastVelocity=q,this._lastWidth=p,E}_strokeWidth(s,c){return Math.max(c.maxWidth/(s+1),c.minWidth)}_drawCurveSegment(s,c,_){const q=this._ctx;q.moveTo(s,c),q.arc(s,c,_,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(s,c){const _=this._ctx,q=s.endWidth-s.startWidth,p=Math.ceil(s.length())*2;_.beginPath(),_.fillStyle=c.penColor;for(let E=0;E<p;E+=1){const y=E/p,r=y*y,$=r*y,A=1-y,L=A*A,C=L*A;let a=C*s.startPoint.x;a+=3*L*y*s.control1.x,a+=3*A*r*s.control2.x,a+=$*s.endPoint.x;let m=C*s.startPoint.y;m+=3*L*y*s.control1.y,m+=3*A*r*s.control2.y,m+=$*s.endPoint.y;const U=Math.min(s.startWidth+$*q,c.maxWidth);this._drawCurveSegment(a,m,U)}_.closePath(),_.fill()}_drawDot(s,c){const _=this._ctx,q=c.dotSize>0?c.dotSize:(c.minWidth+c.maxWidth)/2;_.beginPath(),this._drawCurveSegment(s.x,s.y,q),_.closePath(),_.fillStyle=c.penColor,_.fill()}_fromData(s,c,_){for(const q of s){const{points:p}=q,E=this._getPointGroupOptions(q);if(p.length>1)for(let y=0;y<p.length;y+=1){const r=p[y],$=new He(r.x,r.y,r.pressure,r.time);y===0&&this._reset(E);const A=this._addPoint($,E);A&&c(A,E)}else this._reset(E),_(p[0],E)}}toSVG({includeBackgroundColor:s=!1,includeDataUrl:c=!1}={}){const _=this._data,q=Math.max(window.devicePixelRatio||1,1),p=0,E=0,y=this.canvas.width/q,r=this.canvas.height/q,$=document.createElementNS("http://www.w3.org/2000/svg","svg");if($.setAttribute("xmlns","http://www.w3.org/2000/svg"),$.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),$.setAttribute("viewBox",`${p} ${E} ${y} ${r}`),$.setAttribute("width",y.toString()),$.setAttribute("height",r.toString()),s&&this.backgroundColor){const A=document.createElement("rect");A.setAttribute("width","100%"),A.setAttribute("height","100%"),A.setAttribute("fill",this.backgroundColor),$.appendChild(A)}if(c&&this._dataUrl){const A=this._dataUrlOptions?.ratio||window.devicePixelRatio||1,L=this._dataUrlOptions?.width||this.canvas.width/A,C=this._dataUrlOptions?.height||this.canvas.height/A,a=this._dataUrlOptions?.xOffset||0,m=this._dataUrlOptions?.yOffset||0,U=document.createElement("image");U.setAttribute("x",a.toString()),U.setAttribute("y",m.toString()),U.setAttribute("width",L.toString()),U.setAttribute("height",C.toString()),U.setAttribute("preserveAspectRatio","none"),U.setAttribute("href",this._dataUrl),$.appendChild(U)}return this._fromData(_,(A,{penColor:L})=>{const C=document.createElement("path");if(!isNaN(A.control1.x)&&!isNaN(A.control1.y)&&!isNaN(A.control2.x)&&!isNaN(A.control2.y)){const a=`M ${A.startPoint.x.toFixed(3)},${A.startPoint.y.toFixed(3)} C ${A.control1.x.toFixed(3)},${A.control1.y.toFixed(3)} ${A.control2.x.toFixed(3)},${A.control2.y.toFixed(3)} ${A.endPoint.x.toFixed(3)},${A.endPoint.y.toFixed(3)}`;C.setAttribute("d",a),C.setAttribute("stroke-width",(A.endWidth*2.25).toFixed(3)),C.setAttribute("stroke",L),C.setAttribute("fill","none"),C.setAttribute("stroke-linecap","round"),$.appendChild(C)}},(A,{penColor:L,dotSize:C,minWidth:a,maxWidth:m})=>{const U=document.createElement("circle"),F=C>0?C:(a+m)/2;U.setAttribute("r",F.toString()),U.setAttribute("cx",A.x.toString()),U.setAttribute("cy",A.y.toString()),U.setAttribute("fill",L),$.appendChild(U)}),$.outerHTML}};const Cn={class:"row q-col-gutter-md"},An={class:"col-3"},In={class:"q-mb-lg"},Mn={key:0,class:"text-body1 text-capitalize text-grey"},Tn=["src"],Rn={key:2,class:"text-body1 text-capitalize text-grey"},Fn={class:"col"},Yn={class:"q-gutter-sm"},Ln={__name:"SignatureDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue","saved"],setup(G,{emit:s}){const c=De(),_=ge(),q=G,p=s,E=ue({get:()=>q.modelValue===q.dialogName,set:g=>{g||p("update:modelValue",null)}}),y=n(!1),r=n(null),$=async g=>{y.value=!0;try{const f=await oe.get("/employee/signature",{params:{id:g}});r.value=f.data.record}catch(f){console.error("Error fetching all data:",f),K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{y.value=!1}},A=()=>{$(_.data?.id)},L=n(""),C=()=>{L.value=""},a=we({file:{type:null,msg:""}}),m=()=>{let g=!1;return(!M||M.isEmpty())&&(a.file.type=!0,a.file.msg="required",g=!0),g&&K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                <div class="text-caption">Something went wrong.</div>
            `}),!g},U=async()=>{if(!m())return;const g=M.toDataURL("image/png"),f=i(g);y.value=!0;try{const b=new FormData;b.append("file",f);const S=await oe.post(`/employee/${_.data?.id}/signature`,b,{headers:{"Content-Type":"multipart/form-data"}});p("saved"),p("update:modelValue",null),K.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${S.data.message}<div>
            `})}catch(b){b.response&&b.response.data&&(F(b.response.data),K.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{y.value=!1}},F=g=>{const f=Array.isArray(g)?g:g?.errors||[];Object.keys(a).forEach(b=>{a[b].type=null,a[b].messages=[]}),f.forEach(b=>{a[b.path]!==void 0&&(a[b.path].type=!0,a[b.path].messages.push(b.msg))})},T=g=>`https://hris-ccmi.com${g.signature}`,Y=n(null),v=n(null);let M=null;const D=async()=>{await ze(),k(),o(),window.addEventListener("resize",o)},P=()=>{window.removeEventListener("resize",o),M?.off?.(),M=null},k=()=>{const g=v.value;g&&(M=new Nn(g,{backgroundColor:"rgba(255,255,255,0)",penColor:"#000",maxWidth:4}))},o=()=>{const g=v.value,f=Y.value;if(!g||!f)return;const b=Math.max(window.devicePixelRatio||1,1),{width:S,height:V}=f.getBoundingClientRect();g.width=Math.floor(S*b),g.height=Math.floor(V*b),g.style.width=`${S}px`,g.style.height=`${V}px`,g.getContext("2d").setTransform(b,0,0,b,0,0),M?.clear()},d=()=>{M?.clear()},i=(g,f="signature.png")=>{const b=g.split(","),S=b[0].match(/:(.*?);/)[1],V=atob(b[1]);let N=V.length;const u=new Uint8Array(N);for(;N--;)u[N]=V.charCodeAt(N);return new File([u],f,{type:S})};return(g,f)=>(h(),Q(ve,{modelValue:E.value,"onUpdate:modelValue":f[3]||(f[3]=b=>E.value=b),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:f[4]||(f[4]=()=>{A(),C()}),onShow:D,onHide:P},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(O,{class:"q-pa-lg"},{default:l(()=>f[5]||(f[5]=[t("div",{class:"text-h6 text-uppercase"},"signature information",-1)])),_:1,__:[5]}),e(xe,{inset:""}),e(O,{class:"col q-pa-lg scroll"},{default:l(()=>[t("div",Cn,[t("div",An,[t("div",In,[r.value?(h(),B("div",Mn,"current signature")):ae("",!0),r.value?(h(),B("img",{key:1,src:T(r.value),width:"200"},null,8,Tn)):(h(),B("div",Rn,"no signature found"))])]),t("div",Fn,[t("div",{class:R(["text-caption text-uppercase q-mb-xs",a.file.type?"text-negative":"text-grey"])},w(a.file.type?a.file.msg:"please sign here to continue"),3),t("div",{ref_key:"containerRef",ref:Y,class:"signature-container"},[t("canvas",{ref_key:"canvasRef",ref:v,class:"signature-canvas"},null,512)],512)])])]),_:1}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",Yn,[se(c).hasRole(["SuperAdmin","Admin","HR"])?(h(),Q(H,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:f[0]||(f[0]=()=>{U()})})):ae("",!0),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"clear",onClick:f[1]||(f[1]=()=>{d()}),outline:""}),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:f[2]||(f[2]=()=>{p("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:y.value},{default:l(()=>[e(ee,{class:"no-shadow radius-md q-pa-md"},{default:l(()=>[e(O,{class:"text-center"},{default:l(()=>[t("div",null,[e(qe,{color:"dark"})]),f[6]||(f[6]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[6]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},On=Ne(Ln,[["__scopeId","data-v-cacda12a"]]),Bn={class:"text-uppercase text-body1 text-bold"},jn={class:"row q-col-gutter-xs q-mb-sm"},Hn={class:"col-2"},Wn={class:"row q-col-gutter-xs q-mb-sm"},Gn={class:"col-2"},Qn={class:"col-2"},Xn={class:"q-gutter-sm"},Jn={class:"text-center"},Zn={__name:"ShiftDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(G,{emit:s}){const c=De(),_=ge(),q=G,p=s,E=ue({get:()=>q.modelValue===q.dialogName,set:b=>{b||p("update:modelValue",null)}}),y=n(!1),r=n([{id:"",shiftId:"",effectiveFrom:"",effectiveTo:"",notes:""}]),$=()=>({id:"",shiftId:"",effectiveFrom:"",effectiveTo:"",notes:""}),A=async b=>{y.value=!0;try{const S=await oe.get("/employee/schedule",{params:{id:b}});S.data.record.length?L(S.data.record):$()}catch(S){console.error("Error fetching all data:",S),K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{y.value=!1}},L=(b=[])=>{r.value=b.map(S=>({id:S.id??"",shiftId:Number(S.shift_id)??"",effectiveFrom:S.effective_from??"",effectiveTo:S.effective_to??"",notes:S.notes??""}))},C=()=>{M(),A(_.data?.id)},a=we({schedules:{shiftId:{type:[],msg:""},effectiveFrom:{type:[],msg:""},effectiveTo:{type:[],msg:""}}}),m=()=>{a.schedules.shiftId.type=r.value.map(()=>null),a.schedules.effectiveFrom.type=r.value.map(()=>null),a.schedules.effectiveTo.type=r.value.map(()=>null)},U=()=>{let b=!1;return a.schedules.shiftId={type:null,msg:""},a.schedules.effectiveFrom={type:null,msg:""},a.schedules.effectiveTo={type:null,msg:""},m(),r.value.forEach((S,V)=>{S.shiftId||(a.schedules.shiftId.type[V]=!0,a.schedules.shiftId.msg="required",b=!0),S.effectiveFrom?isNaN(new Date(S.effectiveFrom).getTime())&&(a.schedules.effectiveFrom.type[V]=!0,a.schedules.effectiveFrom.msg="invalid",b=!0):(a.schedules.effectiveFrom.type[V]=!0,a.schedules.effectiveFrom.msg="required",b=!0),S.effectiveTo&&isNaN(new Date(S.effectiveTo).getTime())&&(a.educations.effectiveTo.type[V]=!0,a.educations.effectiveTo.msg="invalid",b=!0)}),b&&K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                <div class="text-caption">Something went wrong.</div>
            `}),!b},F=n([]),T=n([]),v=((b,S)=>(V,N)=>{if(V===""){N(()=>{S.value=b.value});return}N(()=>{const u=V.toLowerCase();S.value=b.value.filter(ne=>ne.label.toLowerCase().includes(u))})})(F,T),M=async()=>{try{const{data:b}=await oe.get("/employee/option/shift");F.value=(b||[]).map(S=>({label:S.label??S.name??String(S.text??S.value??""),value:Number(S.value??S.id)})),T.value=[...F.value]}catch(b){console.error("Error fetching options:",b)}},D=()=>{r.value.push({id:"",shiftId:"",effectiveFrom:"",effectiveTo:"",notes:""})},P=b=>{r.value.splice(b,1)},k=async()=>{if(U()){y.value=!0;try{const b=await oe.post(`/employee/${_.data?.id}/schedule`,{schedules:r.value});p("update:modelValue",null),K.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${b.data.message}<div>
            `})}catch(b){b.response&&b.response.data&&(o(b.response.data),K.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{y.value=!1}}},o=b=>{const S=Array.isArray(b)?b:b?.errors||[];Object.keys(a).forEach(V=>{a[V].type=null,a[V].messages=[]}),S.forEach(V=>{a[V.path]!==void 0&&(a[V.path].type=!0,a[V.path].messages.push(V.msg))})},d=n([]),i=n([]);function g(b){ze(()=>{d.value[b]&&d.value[b].hide()})}function f(b){ze(()=>{i.value[b]&&i.value[b].hide()})}return(b,S)=>(h(),Q(ve,{modelValue:E.value,"onUpdate:modelValue":S[3]||(S[3]=V=>E.value=V),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:S[4]||(S[4]=V=>C())},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(O,{class:"q-pa-lg"},{default:l(()=>S[5]||(S[5]=[t("div",{class:"text-h6 text-uppercase"},"shift information",-1)])),_:1,__:[5]}),e(xe,{inset:""}),e(O,{class:"col q-pa-lg scroll"},{default:l(()=>[(h(!0),B(de,null,ce(r.value,(V,N)=>(h(),B("div",{key:N,class:"q-mb-md"},[t("div",null,[t("span",Bn,"shift "+w(N+1),1),r.value.length>1&&se(c).hasRole(["SuperAdmin","Admin","HR"])?(h(),Q(H,{key:0,round:"",icon:"bi-trash3",flat:"",unelevated:"",color:"grey",onClick:u=>P(N),size:"sm",class:"q-ml-sm"},null,8,["onClick"])):ae("",!0)]),t("div",jn,[t("div",Hn,[t("div",{class:R(["text-caption text-uppercase q-mb-xs",a.schedules.shiftId.msg?"text-negative":"text-grey"])},w(a.schedules.shiftId.msg?a.schedules.shiftId.msg:"shift"),3),e(Ue,{outlined:"",modelValue:V.shiftId,"onUpdate:modelValue":u=>V.shiftId=u,label:"Choose Shift","emit-value":"","map-options":"","use-input":"","input-debounce":"300",options:T.value,onFilter:se(v),error:a.schedules.shiftId.type[N],"hide-dropdown-icon":"","no-error-icon":!0,class:"text-capitalize"},{"no-option":l(()=>[e(fe,null,{default:l(()=>[e(he,{class:"text-italic text-grey"},{default:l(()=>S[6]||(S[6]=[me(" No options ")])),_:1,__:[6]})]),_:1})]),option:l(u=>[e(fe,Te({ref_for:!0},u.itemProps),{default:l(()=>[e(he,null,{default:l(()=>[e(Ee,null,{default:l(()=>[me(w(b.$CapitalizeWords(u.opt.label)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:2},1032,["modelValue","onUpdate:modelValue","options","onFilter","error"])])]),t("div",Wn,[t("div",Gn,[t("div",{class:R(["text-caption text-uppercase q-mb-xs",a.schedules.effectiveFrom.msg?"text-negative":"text-grey"])},w(a.schedules.effectiveFrom.msg?a.schedules.effectiveFrom.msg:"start date (YYYY-MM-DD)"),3),e(j,{outlined:"",modelValue:V.effectiveFrom,"onUpdate:modelValue":u=>V.effectiveFrom=u,label:"Enter Date"},{default:l(()=>[e(Ve,{cover:"","transition-show":"scale","transition-hide":"scale",class:"no-shadow custom-border radius-sm",ref_for:!0,ref:u=>d.value[N]=u},{default:l(()=>[e(be,{modelValue:V.effectiveFrom,"onUpdate:modelValue":[u=>V.effectiveFrom=u,()=>g(N)],mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),t("div",Qn,[t("div",{class:R(["text-caption text-uppercase q-mb-xs",a.schedules.effectiveTo.msg?"text-negative":"text-grey"])},w(a.schedules.effectiveTo.msg?a.schedules.effectiveTo.msg:"end date (YYYY-MM-DD)"),3),e(j,{outlined:"",modelValue:V.effectiveTo,"onUpdate:modelValue":u=>V.effectiveTo=u,label:"Enter Date"},{default:l(()=>[e(Ve,{cover:"","transition-show":"scale","transition-hide":"scale",class:"no-shadow custom-border radius-sm",ref_for:!0,ref:u=>i.value[N]=u},{default:l(()=>[e(be,{modelValue:V.effectiveTo,"onUpdate:modelValue":[u=>V.effectiveTo=u,()=>f(N)],mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1032,["modelValue","onUpdate:modelValue"])])])]))),128))]),_:1}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",Xn,[se(c).hasRole(["SuperAdmin","Admin","HR"])?(h(),Q(H,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:S[0]||(S[0]=()=>{k()})})):ae("",!0),se(c).hasRole(["SuperAdmin","Admin","HR"])?(h(),Q(H,{key:1,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"add",onClick:S[1]||(S[1]=()=>{D()}),outline:""})):ae("",!0),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:S[2]||(S[2]=()=>{p("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:y.value},{default:l(()=>[t("div",Jn,[e(ke,{size:"md"}),S[7]||(S[7]=t("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))])]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},Kn={class:"profile-component"},er={class:"row q-col-gutter-md"},tr={class:"col-3"},ar={class:"cover-photo"},lr=["src"],sr=["src"],or={class:"text-caption text-uppercase text-white"},ir={class:"text-h5 text-uppercase text-bold text-white"},nr={class:"text-body1 text-uppercase text-white"},rr={class:"text-caption text-uppercase text-white"},dr={class:"text-body1 text-bold text-white"},ur={class:"text-body1 text-bold text-white"},cr={class:"text-body1 text-capitalize text-bold text-white"},pr={class:"absolute-top-left q-ma-sm"},mr={class:"col-9"},vr={class:"card-grid"},gr={class:"text-body2 text-grey text-uppercase"},fr={id:"glass-overlay"},hr=25,xr={__name:"ProfileComponent",setup(G){const s=ge(),c=[{label:"profile",dialog:"ProfileDialog"},{label:"employment",dialog:"EmploymentDialog"},{label:"salary",dialog:"SalaryDialog"},{label:"service recrod",dialog:"ServiceDialog"},{label:"photo",dialog:"PhotoDialog"},{label:"signature",dialog:"SignatureDialog"},{label:"face recognition",dialog:"BiometricDialog"},{label:"account",dialog:"AccountDialog"},{label:"shift",dialog:"ShiftDialog"},{label:"id",dialog:"IdentificationDialog"},{label:"dtr",dialog:"AttendanceDialog"},{label:"leaves",dialog:"LeaveDialog"},{label:"overtime",dialog:"OvertimeDialog"},{label:"education",dialog:"EducationDialog"},{label:"trainings",dialog:"TrainingDialog"},{label:"experiences",dialog:"ExperienceDialog"},{label:"dependents",dialog:"DependentDialog"},{label:"documents",dialog:"DocumentDialog"},{label:"performance",dialog:"PerformanceDialog"},{label:"incidents",dialog:"IncidentDialog"},{label:"payslip",dialog:"PayslipDialog"}],_=C=>{if(!C)return"";const a=C.first_name||"",m=C.middle_name?C.middle_name.charAt(0).toUpperCase()+".":"",U=C.last_name||"",F=C.suffix?` ${C.suffix}`:"";return`${a} ${m} ${U}${F}`.trim()},q=C=>{const a="https://hris-ccmi.com",m="/photos/Default.png";return C?`${a}${C}`:`${a}${m}`},p=n(null),E=C=>{p.value=C},y=n(!1),r=n([]),$=async()=>{y.value=!0;try{const C=await oe.get(`/employee/${s.data?.id}/information`);r.value=C.data.record}catch(C){console.error("Error fetching all data:",C),K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{y.value=!1}};et(()=>{$()});const A=n("");et(()=>{const C=Math.floor(Math.random()*hr)+1;A.value=new URL(Object.assign({"../../assets/cover/1.jpg":ca,"../../assets/cover/10.jpg":ua,"../../assets/cover/11.jpg":da,"../../assets/cover/12.jpg":ra,"../../assets/cover/13.jpg":na,"../../assets/cover/14.jpg":ia,"../../assets/cover/15.jpg":oa,"../../assets/cover/16.jpg":sa,"../../assets/cover/17.jpg":la,"../../assets/cover/18.jpg":aa,"../../assets/cover/19.jpg":ta,"../../assets/cover/2.jpg":ea,"../../assets/cover/20.jpg":Kt,"../../assets/cover/21.jpg":Zt,"../../assets/cover/22.jpg":Jt,"../../assets/cover/23.jpg":Xt,"../../assets/cover/24.jpg":Qt,"../../assets/cover/25.jpg":Gt,"../../assets/cover/3.jpg":Wt,"../../assets/cover/4.jpg":Ht,"../../assets/cover/5.jpg":jt,"../../assets/cover/6.jpg":Bt,"../../assets/cover/7.jpg":Ot,"../../assets/cover/8.jpg":Lt,"../../assets/cover/9.jpg":Yt})[`../../assets/cover/${C}.jpg`],import.meta.url).href});const L=n(!0);return nt(()=>{setTimeout(()=>{L.value=!1},1e3)}),(C,a)=>(h(),B("div",Kn,[t("div",er,[t("div",tr,[e(ee,{key:"data-add",class:"card card-profile no-shadow radius-sm q-mb-sm q-pb-lg"},{default:l(()=>[t("div",ar,[t("img",{src:A.value,alt:"Cover"},null,8,lr)]),e(O,{class:"text-center profile-section"},{default:l(()=>[t("img",{src:q(r.value?.photo?.avatar),alt:"Profile",class:"profile-img"},null,8,sr)]),_:1}),e(O,{class:"text-center q-pt-sm"},{default:l(()=>[t("div",or,w(r.value?.employment?.employee_no),1),t("div",ir,w(_(r.value)),1),t("div",nr,w(r.value?.employment?.position?.name),1),t("div",rr,w(r.value?.employment?.employment_status),1)]),_:1}),e(O,{class:"text-center"},{default:l(()=>[a[22]||(a[22]=t("div",{class:"text-caption text-uppercase text-white"},"email address",-1)),t("div",dr,w(r.value?.email),1)]),_:1,__:[22]}),e(O,{class:"text-center"},{default:l(()=>[a[23]||(a[23]=t("div",{class:"text-caption text-uppercase text-white"},"contact number",-1)),t("div",ur,w(r.value?.contact_number),1)]),_:1,__:[23]}),e(O,{class:"text-center"},{default:l(()=>[a[24]||(a[24]=t("div",{class:"text-caption text-uppercase text-white"},"adderss",-1)),t("div",cr,w(r.value?.address),1)]),_:1,__:[24]}),e(O,{class:"text-center"},{default:l(()=>[e(H,{unelevated:"",size:"sm",label:"print employee data","text-color":"primary",color:"white"})]),_:1}),t("div",pr,[e(H,{round:"",size:"sm",icon:"bi-arrow-left","text-color":"primary",color:"white",onClick:a[0]||(a[0]=()=>{se(s).component="EmployeeComponent"})})])]),_:1})]),t("div",mr,[t("div",vr,[(h(),B(de,null,ce(c,(m,U)=>t("div",{key:`data-${m.id}`,class:"inner-card-anim-wrapper",style:Ce({animationDelay:`${U*100}ms`})},[e(ee,{onClick:F=>E(m.dialog),class:"card card-menu card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:l(()=>[e(O,{class:"text-center"},{default:l(()=>[t("div",gr,w(m.label),1)]),_:2},1024)]),_:2},1032,["onClick"])],4)),64))])])]),e(as,{modelValue:p.value,"onUpdate:modelValue":a[1]||(a[1]=m=>p.value=m),"dialog-name":"ProfileDialog",onSaved:$},null,8,["modelValue"]),e(vs,{modelValue:p.value,"onUpdate:modelValue":a[2]||(a[2]=m=>p.value=m),"dialog-name":"EmploymentDialog",onSaved:$},null,8,["modelValue"]),e(ks,{modelValue:p.value,"onUpdate:modelValue":a[3]||(a[3]=m=>p.value=m),"dialog-name":"ServiceDialog"},null,8,["modelValue"]),e(Us,{modelValue:p.value,"onUpdate:modelValue":a[4]||(a[4]=m=>p.value=m),"dialog-name":"BiometricDialog"},null,8,["modelValue"]),e(Is,{modelValue:p.value,"onUpdate:modelValue":a[5]||(a[5]=m=>p.value=m),"dialog-name":"PhotoDialog",onSaved:$},null,8,["modelValue"]),e(Ws,{modelValue:p.value,"onUpdate:modelValue":a[6]||(a[6]=m=>p.value=m),"dialog-name":"EducationDialog"},null,8,["modelValue"]),e(so,{modelValue:p.value,"onUpdate:modelValue":a[7]||(a[7]=m=>p.value=m),"dialog-name":"TrainingDialog"},null,8,["modelValue"]),e(go,{modelValue:p.value,"onUpdate:modelValue":a[8]||(a[8]=m=>p.value=m),"dialog-name":"ExperienceDialog"},null,8,["modelValue"]),e(Uo,{modelValue:p.value,"onUpdate:modelValue":a[9]||(a[9]=m=>p.value=m),"dialog-name":"DependentDialog"},null,8,["modelValue"]),e(Oo,{modelValue:p.value,"onUpdate:modelValue":a[10]||(a[10]=m=>p.value=m),"dialog-name":"DocumentDialog"},null,8,["modelValue"]),e(Wo,{modelValue:p.value,"onUpdate:modelValue":a[11]||(a[11]=m=>p.value=m),"dialog-name":"IdentificationDialog"},null,8,["modelValue"]),e(di,{modelValue:p.value,"onUpdate:modelValue":a[12]||(a[12]=m=>p.value=m),"dialog-name":"AttendanceDialog"},null,8,["modelValue"]),e(Ti,{modelValue:p.value,"onUpdate:modelValue":a[13]||(a[13]=m=>p.value=m),"dialog-name":"LeaveDialog"},null,8,["modelValue"]),e(Yi,{modelValue:p.value,"onUpdate:modelValue":a[14]||(a[14]=m=>p.value=m),"dialog-name":"PerformanceDialog"},null,8,["modelValue"]),e(Bi,{modelValue:p.value,"onUpdate:modelValue":a[15]||(a[15]=m=>p.value=m),"dialog-name":"IncidentDialog"},null,8,["modelValue"]),e(Wi,{modelValue:p.value,"onUpdate:modelValue":a[16]||(a[16]=m=>p.value=m),"dialog-name":"PayslipDialog"},null,8,["modelValue"]),e(Xi,{modelValue:p.value,"onUpdate:modelValue":a[17]||(a[17]=m=>p.value=m),"dialog-name":"OvertimeDialog"},null,8,["modelValue"]),e(bn,{modelValue:p.value,"onUpdate:modelValue":a[18]||(a[18]=m=>p.value=m),"dialog-name":"SalaryDialog"},null,8,["modelValue"]),e(En,{modelValue:p.value,"onUpdate:modelValue":a[19]||(a[19]=m=>p.value=m),"dialog-name":"AccountDialog"},null,8,["modelValue"]),e(On,{modelValue:p.value,"onUpdate:modelValue":a[20]||(a[20]=m=>p.value=m),"dialog-name":"SignatureDialog"},null,8,["modelValue"]),e(Zn,{modelValue:p.value,"onUpdate:modelValue":a[21]||(a[21]=m=>p.value=m),"dialog-name":"ShiftDialog"},null,8,["modelValue"]),e(at,{name:"glass-fade"},{default:l(()=>[Me(t("div",fr,[e(ee,{class:"no-shadow radius-md q-pa-md"},{default:l(()=>[e(O,{class:"text-center"},{default:l(()=>[t("div",null,[e(qe,{color:"dark"})]),a[25]||(a[25]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[25]})]),_:1})],512),[[rt,L.value]])]),_:1})]))}},yr={__name:"EmployeePage",setup(G){const s=ge(),c={EmployeeComponent:Al,ProfileComponent:xr};return It(()=>{s.component="EmployeeComponent"}),(_,q)=>(h(),B("div",null,[(h(),Q(Mt(c[se(s).component]),{key:se(s).component}))]))}},Ir=Ne(yr,[["__scopeId","data-v-06bf7d6d"]]);export{Ir as default};
