import{Q as W}from"./QAvatar-C1Rwu40f.js";import{S as b,r as c,k as G,T as M,a5 as P,W as R,$ as t,Z as o,X as n,a6 as h,a2 as a,_,a4 as v,d as T,aj as j,ak as B}from"./index-DwkUvebD.js";import{Q as H}from"./QSpinnerPuff-DZ9h5COs.js";import{Q as U,a as V,b as E}from"./QSpinnerIos-D0LspzUJ.js";import"./format-CoaQEihs.js";const Y="/assets/sunny-LkXzEDhD.png",S="/assets/partly-cloudy-C93QyIia.png",k="/assets/cloudy-C-4AR3hE.png",z="/assets/foggy-CU0zRKDU.png",Q="/assets/light_rain-BdHQH8Gq.png",C="/assets/heavy-rain-7jkGD7A4.png",N="/assets/thunder-DzsxjisN.png",$={class:"home-page"},F={class:"row q-col-gutter-md"},O={class:"col-9"},X={class:"row q-col-gutter-sm"},K={class:"col-9"},Z={class:"row q-gutter-sm q-mb-lg"},J={class:"col-8"},tt={class:"text-body1 text-white text-capitalize"},et={class:"text-h5 text-white text-capitalize text-bold"},st={class:"col"},ot={class:"row q-col-gutter-xs items-center justify-start"},at=["src"],nt={class:"text-caption text-white text-capitalize"},it={class:"text-body1 text-white text-capitalize text-bold"},ct={class:"row q-gutter-sm"},lt={class:"col"},rt={class:"text-h6 text-white"},dt={class:"col"},ut={class:"text-h6 text-white"},ht={class:"col"},_t={class:"text-h6 text-white"},vt={class:"col-3"},pt=["src"],wt={class:"col-3"},gt={id:"glass-overlay"},kt={__name:"HomePage",setup(mt){const d=b(),u=c(!1),p=c(new Date().toISOString().split("T")[0]),r=c(""),w=c(""),l=c(null),g=c(""),m=c(""),f=()=>{const s=new Date().getHours();s<12?r.value="Good Morning":s<18?r.value="Good Afternoon":r.value="Good Evening"},q=()=>{const s=new Date;w.value=s.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})},L=async(s,e)=>{u.value=!0;const i=`https://api.open-meteo.com/v1/forecast?latitude=${s}&longitude=${e}&current_weather=true`;try{const D=await(await fetch(i)).json();l.value=D,I(D.current_weather.weathercode)}catch(y){console.error("Weather fetch failed:",y)}finally{u.value=!1}},A=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(s=>{const{latitude:e,longitude:i}=s.coords;L(e,i)},s=>{console.warn("Location access denied:",s)})};function I(s){const i={0:{desc:"Clear sky",icon:Y},1:{desc:"Mainly clear",icon:S},2:{desc:"Partly cloudy",icon:S},3:{desc:"Overcast",icon:k},45:{desc:"Fog",icon:z},48:{desc:"Rime fog",icon:z},51:{desc:"Light drizzle",icon:Q},61:{desc:"Light rain",icon:Q},71:{desc:"Snow fall",icon:C},80:{desc:"Rain showers",icon:C},95:{desc:"Thunderstorm",icon:N}}[s]||{desc:"Unknown",icon:k};g.value=i.desc,m.value=i.icon}const x=c(!0);return G(()=>{setTimeout(()=>{x.value=!1},2e3)}),M(()=>{f(),q(),A(),setInterval(f,6e4)}),(s,e)=>(R(),P("div",$,[t("div",F,[t("div",O,[o(v,{class:"card welcome-card no-shadow radius-sm"},{default:n(()=>[t("div",X,[t("div",K,[o(h,{class:"q-pa-xl"},{default:n(()=>[t("div",Z,[t("div",J,[t("div",tt,a(r.value)+"!",1),t("div",et,a(_(d).user?.name),1)]),t("div",st,[t("div",ot,[t("div",null,[o(W,null,{default:n(()=>[t("img",{src:m.value},null,8,at)]),_:1})]),t("div",null,[t("div",nt,a(w.value),1),t("div",it,a(g.value),1)])])])]),e[4]||(e[4]=t("div",{class:"text-caption text-white text-uppercase"},"general information",-1)),t("div",ct,[t("div",lt,[t("div",rt,a(l.value?.current_weather?.temperature)+a(l.value?.current_weather_units?.temperature),1),e[1]||(e[1]=t("div",{class:"text-caption text-white text-capitalize"},"temperature",-1))]),t("div",dt,[t("div",ut,a(l.value?.current_weather?.winddirection)+a(l.value?.current_weather_units?.winddirection),1),e[2]||(e[2]=t("div",{class:"text-caption text-white text-capitalize"},"wind direction",-1))]),t("div",ht,[t("div",_t,a(l.value?.current_weather?.windspeed)+a(l.value?.current_weather_units?.windspeed),1),e[3]||(e[3]=t("div",{class:"text-caption text-white text-capitalize"},"wind speed",-1))])])]),_:1,__:[4]})]),t("div",vt,[t("img",{src:_(d).user.role!=="SuperAdmin"?_(d).employees[0]?.employee.photo.avatar:"~assets/default.png",alt:"Welcome"},null,8,pt)])]),o(U,{showing:u.value,dark:""},{default:n(()=>[o(H)]),_:1},8,["showing"])]),_:1})]),t("div",wt,[o(v,{class:"no-shadow radius-sm"},{default:n(()=>[o(h,{class:"q-pa-none"},{default:n(()=>[o(V,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=i=>p.value=i),mask:"YYYY-MM-DD",class:"full-width no-shadow radius-sm"},null,8,["modelValue"])]),_:1})]),_:1})])]),o(B,{name:"glass-fade"},{default:n(()=>[T(t("div",gt,[o(v,{class:"no-shadow radius-md q-pa-md"},{default:n(()=>[o(h,{class:"text-center"},{default:n(()=>[t("div",null,[o(E,{color:"dark"})]),e[5]||(e[5]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[5]})]),_:1})],512),[[j,x.value]])]),_:1})]))}};export{kt as default};
