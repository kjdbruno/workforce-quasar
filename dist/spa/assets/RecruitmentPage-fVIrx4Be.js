import{ax as Ue,a as ae,r as v,O as vt,V as G,W as c,X as o,Z as a,a4 as F,a6 as C,$ as t,a7 as Oe,ak as Be,a5 as f,Y as S,aa as P,a2 as u,a8 as X,a9 as te,am as ye,ap as be,ag as L,_ as K,an as Qt,ao as Ht,a1 as se,ar as gt,ai as we,a0 as Y,a3 as Ce,ac as ze,aq as le,S as Le,d as Ie,w as xt,T as ft,k as yt,ab as _t,aj as ht,af as Wt,as as je,H as ke,c as bt,b as nt,J as Jt,ay as Gt,az as Xt,aA as Kt,A as Zt,at as ea}from"./index-Lf_p_M7O.js";import{a as xe,Q as Qe,b as he}from"./QSpinnerIos-fP6uRLlR.js";import{a as wt,b as Vt}from"./QResizeObserver-Bj2nox93.js";import{Q as _e,a as Dt}from"./QFooter-Bq9OZnDZ.js";import{T as ie}from"./sweetalert-_TNglJgc.js";import{_ as Ve,h as me,Q as rt}from"./_plugin-vue_export-helper-B4qR4-TP.js";import{Q as fe,C as $t}from"./ClosePopup-9uufxfJk.js";import{Q as ce,a as pe}from"./QItem-DjUxrj8H.js";import{Q as qe}from"./QItemLabel-CsohmIrQ.js";import{Q as Se}from"./QSelect-CMOCyNlO.js";import{Q as ta}from"./QFile-ClNn-ylQ.js";import"./format-CoaQEihs.js";const aa={key:0},sa={class:"row q-col-gutter-xs"},oa={class:"col-8"},la={class:"card-grid"},ia={class:"inner-card-anim-wrapper",style:{animationDelay:"100ms"}},na={class:"text-caption text-dark text-uppercase"},ra={class:"absolute-left"},da={class:"col-4"},ua={key:0},ca={class:"q-mb-md"},pa={class:"text-caption"},ma={class:"q-mb-md"},va={class:"text-caption"},ga={class:"q-mb-md"},xa={class:"text-caption"},fa={key:1},ya={key:1},_a={class:"q-mb-md"},ha={class:"q-gutter-sm"},ba={class:"row q-col-gutter-xs q-mb-md"},wa={class:"col-2"},Va={class:"col-2"},Da={class:"row q-col-gutter-xs q-mb-md"},$a={class:"col-4"},ka={class:"q-mb-md"},qa={class:"q-mb-md"},Sa={class:"q-gutter-sm"},Ca={class:"row q-col-gutter-xs"},za={class:"col-4"},Ia={class:"row q-gutter-sm"},Aa={class:"text-caption text-uppercase text-grey"},pt=2,Ea={__name:"VacancyDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(z,{emit:B}){Ue();const O=z,I=B,U=ae({get:()=>O.modelValue===O.dialogName,set:_=>{_||I("update:modelValue",null)}}),k=()=>{de(),Ne(),We()},H=v(!1),h=v(""),R=v(""),q=v(new Date().toISOString().split("T")[0]),A=v(""),D=v(""),T=v(""),j=v(""),Q=v(!1),w=vt({position:{type:null,msg:""},shiftId:{type:null,msg:""},employmentStatus:{type:null,msg:""},date:{type:null,msg:""},location:{type:null,msg:""},movement:{type:null,msg:""},justification:{type:null,msg:""}}),W=()=>ie.fire({icon:"error",html:`
        <div class="text-h6 text-bold text-uppercase">Request Failed</div>
        <div class="text-caption">Something went wrong.</div>
        `}),N=(_,m="required")=>(w[_].type=!0,w[_].msg=m,!0),M=_=>(w[_].type=null,w[_].msg="",!1),x=(_,m)=>m?M(_):N(_,"required"),b=(_,m=3)=>{if(!_)return!0;const V=me(_).startOf("day"),ee=me().add(m,"days").startOf("day");return V.isBefore(ee)},E=()=>{let _=!1;return _||=x("position",h.value),_&&W(),!_},Z=()=>{let _=!1;return _||=x("employmentStatus",D.value),_||=x("date",q.value),q.value&&b(q.value,3)?_||=N("date","invalid"):q.value&&M("date"),_||=x("shiftId",R.value),_||=x("location",A.value),_||=x("movement",T.value),_||=x("justification",j.value),_&&W(),!_},s=v([]),de=()=>{h.value="",R.value="",q.value=new Date().toISOString().split("T")[0],A.value="",T.value="",j.value="",Q.value=!1,D.value="",s.value=[],ne.value=0,$()},$=()=>Object.values(w).forEach(_=>{_.type=null,_.msg=null}),n=async()=>{if(!(Z&&!Z())){H.value=!0;try{const _=await le.post("/socket/vacancy/create",{positionId:h.value.id,shiftId:R.value,date:q.value,location:A.value,movement:T.value,justification:j.value,needBackgroundCheck:Q.value,employmentStatus:D.value});I("saved"),I("update:modelValue",null),ie.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${_.data.message}<div>
            `})}catch(_){console.error(_.response?.data?.error),_.response&&_.response.data&&(d(_.response.data),ie.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">${_.response?.data?.error}</div>
                `}))}finally{H.value=!1}}},d=_=>{const m=Array.isArray(_)?_:_?.errors||[];Object.keys(w).forEach(V=>{w[V].type=null,w[V].messages=[]}),m.forEach(V=>{w[V.path]!==void 0&&(w[V.path].type=!0,w[V.path].messages.push(V.msg))})},p=v(["Regular","Probationary","Contractual","Temporary","Intern"]),oe=v([]),ve=v([]),ue=v([]),He=((_,m)=>(V,ee)=>{if(V===""){ee(()=>{m.value=_.value});return}ee(()=>{const re=V.toLowerCase();m.value=_.value.filter($e=>$e.label.toLowerCase().includes(re))})})(ve,ue),We=async()=>{try{const{data:_}=await le.get("/recruitment/option/shift");ve.value=(_||[]).map(m=>({label:m.label??m.name??String(m.text??m.value??""),value:Number(m.value??m.id)})),ue.value=[...ve.value]}catch(_){console.error("Error fetching options:",_)}},Ne=async()=>{try{const _=await le.get("/recruitment/option/position");oe.value=_.data}catch(_){console.error("Error fetching options:",_)}},Ae=v(""),Ye=ae(()=>{const _=Ae.value.trim().toLowerCase();return _?oe.value.filter(m=>String(m.label||"").toLowerCase().includes(_)):oe.value}),De=ae(()=>Ye.value),Je=ae(()=>De.value.length),Ee=ae(()=>Ye.value.length),ne=v(0),Ge=[E],Xe=()=>{const _=Ge[ne.value];_&&!_()||ne.value++},Te=()=>{ne.value>0&&ne.value--},Me=_=>{if(!_)return"";const V=String(_).replace(/[^\d.,\- ]/g,"").split("-").map(ge=>ge.trim()).slice(0,2),ee=ge=>{if(!ge)return"";const Re=Number(ge.replace(/,/g,""));return isNaN(Re)?"":Ke.format(Re)},re=ee(V[0]),$e=V[1]?ee(V[1]):"";return $e?`${re} - ${$e}`:re},Ke=new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}),Fe=_=>{const m=_.time_start,V=_.time_end;if(!m&&!V)return"";const ee=m?me(m,"HH:mm:ss").format("h:mm A"):"",re=V?me(V,"HH:mm:ss").format("h:mm A"):"";return ee&&re?`${ee} to ${re}`:ee||re||""},Pe=v(null);return(_,m)=>(c(),G(ze,{modelValue:U.value,"onUpdate:modelValue":m[17]||(m[17]=V=>U.value=V),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:m[18]||(m[18]=V=>k())},{default:o(()=>[a(F,{class:"dialog-card column full-height"},{default:o(()=>[a(C,{class:"q-pa-lg"},{default:o(()=>m[19]||(m[19]=[t("div",{class:"text-h6 text-uppercase"},"create recruitment",-1)])),_:1,__:[19]}),a(Oe,{inset:""}),a(C,{class:"col q-pa-lg scroll"},{default:o(()=>[a(Be,{name:"fade-slide",mode:"out-in"},{default:o(()=>[(c(),f("div",{key:ne.value},[ne.value===0?(c(),f("div",aa,[t("div",sa,[t("div",oa,[t("div",{class:P(["text-caption text-uppercase q-mb-sm",w.position.type?"text-negative text-italic":"text-grey"])},u(w.position.type?w.position.msg:"position"),3),t("div",la,[t("div",ia,[De.value.length?S("",!0):(c(),G(F,{key:0,class:"card card-menu custom-border card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:o(()=>[a(C,{class:"text-center"},{default:o(()=>m[20]||(m[20]=[t("div",{class:"text-caption text-dark text-uppercase"},"no record found",-1)])),_:1,__:[20]})]),_:1}))]),De.value.length?(c(!0),f(X,{key:0},te(De.value,(V,ee)=>(c(),f("div",{key:`data-${V.id}`,class:"inner-card-anim-wrapper",style:ye({animationDelay:`${ee*100}ms`})},[a(F,{onClick:()=>{h.value=V},class:P(["card card-menu card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm",{"card--active":h.value===V}])},{default:o(()=>[a(C,{class:"text-center"},{default:o(()=>[t("div",na,u(V.label),1)]),_:2},1024),t("div",ra,[a(be,{modelValue:h.value,"onUpdate:modelValue":m[0]||(m[0]=re=>h.value=re),val:V,"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",size:"xs"},null,8,["modelValue","val"])])]),_:2},1032,["onClick","class"])],4))),128)):S("",!0)])]),t("div",da,[h.value?(c(),f("div",ua,[t("div",ca,[m[21]||(m[21]=t("div",{class:"text-caption text-uppercase text-grey"},"salary range",-1)),t("div",pa,u(Me(h.value?.amount)||"N/A"),1)]),t("div",ma,[m[22]||(m[22]=t("div",{class:"text-caption text-uppercase text-grey"},"job description",-1)),t("div",va,u(h.value?.description||"N/A"),1)]),t("div",ga,[m[23]||(m[23]=t("div",{class:"text-caption text-uppercase text-grey"},"job qualification",-1)),t("div",xa,[Array.isArray(h.value?.qualification)&&h.value?.qualification.length?(c(!0),f(X,{key:0},te(h.value?.qualification,(V,ee)=>(c(),f("div",{key:ee},u(ee+1)+". "+u(V),1))),128)):(c(),f("div",fa," N/A "))])])])):S("",!0)])])])):S("",!0),ne.value===1?(c(),f("div",ya,[t("div",_a,[t("div",{class:P(["text-caption text-uppercase",w.employmentStatus.type?"text-negative text-italic":"text-grey"])},u(w.employmentStatus.type?w.employmentStatus.msg:"employment status"),3),t("div",ha,[(c(!0),f(X,null,te(p.value,V=>(c(),G(be,{modelValue:D.value,"onUpdate:modelValue":m[1]||(m[1]=ee=>D.value=ee),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:V,label:V},null,8,["modelValue","val","label"]))),256))])]),t("div",ba,[t("div",wa,[t("div",{class:P(["text-caption text-uppercase",w.date.type?"text-negative text-italic":"text-grey"])},u(w.date.type?w.date.msg:"date needed (YYYY-MM-DD)"),3),a(L,{outlined:"",modelValue:q.value,"onUpdate:modelValue":m[4]||(m[4]=V=>q.value=V),label:"Enter Date",error:w.date.type,"no-error-icon":!0},{default:o(()=>[a(fe,{cover:"","transition-show":"scale","transition-hide":"scale",ref_key:"popup",ref:Pe,class:"no-shadow custom-border radius-sm"},{default:o(()=>[a(xe,{modelValue:q.value,"onUpdate:modelValue":[m[2]||(m[2]=V=>q.value=V),m[3]||(m[3]=()=>{Pe.value.hide()})],mask:"YYYY-MM-DD"},null,8,["modelValue"])]),_:1},512)]),_:1},8,["modelValue","error"])]),t("div",Va,[t("div",{class:P(["text-caption text-uppercase",w.shiftId.type?"text-negative text-italic":"text-grey"])},u(w.shiftId.type?w.shiftId.msg:"Shift"),3),a(Se,{outlined:"",modelValue:R.value,"onUpdate:modelValue":m[5]||(m[5]=V=>R.value=V),label:"Choose Shift","emit-value":"","map-options":"","use-input":"","input-debounce":"300",options:ue.value,onFilter:K(He),error:w.shiftId.type,"hide-dropdown-icon":"","no-error-icon":!0,class:"text-capitalize"},{"no-option":o(()=>[a(ce,null,{default:o(()=>[a(pe,{class:"text-italic text-grey"},{default:o(()=>m[24]||(m[24]=[se(" No options ")])),_:1,__:[24]})]),_:1})]),option:o(V=>[a(ce,Qt(Ht(V.itemProps)),{default:o(()=>[a(pe,null,{default:o(()=>[a(qe,null,{default:o(()=>[se(u(_.$CapitalizeWords(V.opt.label)),1)]),_:2},1024),a(qe,{caption:""},{default:o(()=>[se(u(Fe(V.opt)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","onFilter","error"])])]),t("div",Da,[t("div",$a,[t("div",{class:P(["text-caption text-uppercase",w.location.type?"text-negative text-italic":"text-grey"])},u(w.location.type?w.location.msg:"location"),3),a(L,{modelValue:A.value,"onUpdate:modelValue":m[6]||(m[6]=V=>A.value=V),label:"Enter Location",outlined:"",error:w.location.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])])]),t("div",ka,[m[25]||(m[25]=t("div",{class:"text-caption text-uppercase text-grey"},"background check",-1)),a(gt,{"right-label":"",modelValue:Q.value,"onUpdate:modelValue":m[7]||(m[7]=V=>Q.value=V),label:"need background check?","checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",class:"text-uppercase"},null,8,["modelValue"])]),t("div",qa,[t("div",{class:P(["text-caption text-uppercase",w.movement.type?"text-negative text-italic":"text-grey"])},u(w.movement.type?w.movement.msg:"movement"),3),t("div",Sa,[a(be,{modelValue:T.value,"onUpdate:modelValue":m[8]||(m[8]=V=>T.value=V),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:"Addition",label:"addition to department",class:"text-uppercase"},null,8,["modelValue"]),a(be,{modelValue:T.value,"onUpdate:modelValue":m[9]||(m[9]=V=>T.value=V),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:"Replacement",label:"replacement",class:"text-uppercase"},null,8,["modelValue"])])]),t("div",Ca,[t("div",za,[t("div",{class:P(["text-caption text-uppercase",w.justification.type?"text-negative text-italic":"text-grey"])},u(w.justification.type?w.justification.msg:"justification"),3),a(L,{modelValue:j.value,"onUpdate:modelValue":m[10]||(m[10]=V=>j.value=V),label:"Enter Justification",outlined:"",error:w.justification.type,"no-error-icon":!0,type:"textarea"},null,8,["modelValue","error"])])])])):S("",!0)]))]),_:1})]),_:1}),a(we,{class:"q-pa-lg bg"},{default:o(()=>[t("div",Ia,[ne.value>0?(c(),G(Y,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"previous",onClick:m[11]||(m[11]=()=>{Te()})})):S("",!0),ne.value<pt-1?(c(),G(Y,{key:1,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"next",onClick:m[12]||(m[12]=()=>{Xe()})})):S("",!0),ne.value===pt-1?(c(),G(Y,{key:2,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:m[13]||(m[13]=()=>{n()})})):S("",!0),a(Y,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"clear",onClick:m[14]||(m[14]=()=>{de(),$()})}),a(Y,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:m[15]||(m[15]=()=>{I("update:modelValue",null)}),outline:""}),ne.value===0?(c(),G(L,{key:3,outlined:"",dense:"",debounce:"1000",modelValue:Ae.value,"onUpdate:modelValue":m[16]||(m[16]=V=>Ae.value=V),placeholder:"Search..."},{prepend:o(()=>[a(Ce,{name:"bi-search",style:{"font-size":"1rem"}})]),after:o(()=>[t("div",Aa,u(Je.value)+" of "+u(Ee.value),1)]),_:1},8,["modelValue"])):S("",!0)])]),_:1}),a(Qe,{showing:H.value},{default:o(()=>[a(F,{class:"no-shadow radius-md q-pa-md"},{default:o(()=>[a(C,{class:"text-center"},{default:o(()=>[t("div",null,[a(he,{color:"dark"})]),m[26]||(m[26]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[26]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},Pa=Ve(Ea,[["__scopeId","data-v-d82e3de3"]]),Ua={class:"q-mb-md"},Na={class:"text-body1 text-uppercase"},Ya={class:"q-mb-md"},Ta={class:"text-body1 text-uppercase"},Ma={class:"q-mb-md"},Fa={class:"text-body1 text-uppercase"},Ra={class:"q-mb-md"},ja={class:"text-body1"},Oa={class:"q-mb-md"},Ba={class:"row q-col-gutter-lg q-mb-md"},La={class:"text-body1 text-capitalize"},Qa={class:"text-body1 text-capitalize"},Ha={class:"text-body1 text-capitalize"},Wa={class:"row q-col-gutter-lg q-mb-md"},Ja={class:"text-body1 text-capitalize"},Ga={class:"text-body1 text-capitalize"},Xa={class:"q-mb-md"},Ka={class:"text-body1 text-capitalize"},Za={class:"row q-col-gutter-lg q-mb-md"},es={class:"text-body1 text-capitalize"},ts={class:"text-body1"},as={class:"row q-col-gutter-xl q-mb-md q-mt-xl"},ss={class:"text-caption text-uppercase text-grey"},os={key:0},ls={class:"text-h6 text-uppercase"},is={class:"text-body1 text-uppercase text-italic"},ns={key:1},rs={key:0},ds={class:"text-grey q-mb-lg"},us={class:"text-h6 text-uppercase"},cs={class:"text-body1 text-uppercase text-italic"},ps=["src"],ms={class:"text-h6 text-uppercase"},vs={class:"text-body1 text-uppercase text-italic"},gs={class:"text-caption text-uppercase text-italic"},xs={key:1},fs=["src"],ys={class:"text-h6 text-uppercase"},_s={class:"text-body1 text-uppercase text-italic"},hs={class:"text-caption text-uppercase text-italic"},bs={key:2,class:"q-mt-md"},ws={class:"q-gutter-sm"},Vs={class:"iframe-container"},Ds=["src"],$s={__name:"VacancyInfoDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(z,{emit:B}){const O=Le(),I=Ue(),U=z,k=B,H=ae({get:()=>U.modelValue===U.dialogName,set:n=>{n||k("update:modelValue",null)}}),h=v(null),R=()=>{A()},q=v(!1),A=async()=>{q.value=!0;try{const n=await le.get(`/recruitment/${I.data?.id}`);h.value=n.data.data}catch(n){console.error("Error fetching all data:",n),ie.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{q.value=!1}},D=ae(()=>{if(!h.value?.approvals||h.value.approvals.length===0)return!1;const d=[...h.value.approvals].sort((p,oe)=>p.order-oe.order).find(p=>p.status==="Pending");return d?d.approver_id===O.user?.id:!1}),T=async n=>{q.value=!0;const d=Number(O.user.id),ve=h.value.approvals.find(ue=>Number(ue?.approver_id)===Number(d))?.id??null;try{const ue=await le.post("socket/vacancy/approve",{id:n,approvalid:ve});ie.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${ue.data.message}<div>
            `}),k("saved"),k("update:modelValue",null)}catch{e.response&&e.response.data&&(x(e.response.data),ie.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{q.value=!1}},j=(n,d="PHP")=>{if(n==null||n==="")return"N/A";const p=Number(String(n).replace(/,/g,""));return isNaN(p)?"N/A":p.toLocaleString("en-PH",{style:"currency",currency:d,minimumFractionDigits:2})},Q=n=>n?me(n).format("MMMM Do, YYYY"):"",w=n=>n?me(n,"HH:mm").format("hh:mm A"):"",W=n=>n?me(n).format("MMMM Do, YYYY hh:mm A"):"",N=n=>{if(!Array.isArray(n)||!n.length)return"N/A";const d=["","Mon","Tue","Wed","Thu","Fri","Sat","Sun"];return n.map(p=>Number(p.day_of_week)).filter(p=>p>=1&&p<=7).sort((p,oe)=>p-oe).map(p=>d[p]).join(", ")},M=n=>`https://hris-ccmi.com${n.signature}`,x=n=>{const d=Array.isArray(n)?n:n?.errors||[];Object.keys(Errors).forEach(p=>{Errors[p].type=null,Errors[p].messages=[]}),d.forEach(p=>{Errors[p.path]!==void 0&&(Errors[p.path].type=!0,Errors[p.path].messages.push(p.msg))})},b=v(!1),E=v(null),Z=async n=>{q.value=!0;try{const d=await le.get(`/recruitment/${n}/pdf`,{responseType:"arraybuffer"}),p=new Blob([d.data],{type:"application/pdf"}),oe=window.URL.createObjectURL(p)+"#view=FitW";E.value=oe,b.value=!0}catch(d){console.error("Error generating PDF:",d)}finally{q.value=!1}},s=v([]),de=ae(()=>Array.isArray(s.value)&&s.value.some(n=>String(n).trim()!=="")),$=async n=>{q.value=!0;try{const d=await le.post("/socket/vacancy/overide",{id:n,signatories:s.value});ie.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${d.data.message}<div>
            `}),k("saved"),k("update:modelValue",null)}catch{e.response&&e.response.data&&(x(e.response.data),ie.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{q.value=!1}};return(n,d)=>(c(),f(X,null,[a(ze,{modelValue:H.value,"onUpdate:modelValue":d[5]||(d[5]=p=>H.value=p),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:d[6]||(d[6]=p=>R())},{default:o(()=>[a(F,{class:"dialog-card column full-height"},{default:o(()=>[a(C,{class:"q-pa-lg"},{default:o(()=>d[8]||(d[8]=[t("div",{class:"text-h6 text-uppercase"},"vacancy information",-1)])),_:1,__:[8]}),a(Oe,{inset:""}),a(C,{class:"col q-pa-lg scroll"},{default:o(()=>[t("div",Ua,[d[9]||(d[9]=t("div",{class:"text-caption text-uppercase text-grey"},"position",-1)),t("div",Na,u(h.value?.position?.name),1)]),t("div",Ya,[d[10]||(d[10]=t("div",{class:"text-caption text-uppercase text-grey"},"salary",-1)),t("div",Ta,u(j(h.value?.position?.salary_amount))+" "+u(h.value?.position?.salary_type),1)]),t("div",Ma,[d[11]||(d[11]=t("div",{class:"text-caption text-uppercase text-grey"},"status",-1)),t("div",Fa,u(h.value?.status),1)]),t("div",Ra,[d[12]||(d[12]=t("div",{class:"text-caption text-uppercase text-grey"},"job description",-1)),t("div",ja,u(h.value?.position?.description),1)]),t("div",Oa,[d[13]||(d[13]=t("div",{class:"text-caption text-uppercase text-grey"},"job qualifications",-1)),(c(!0),f(X,null,te(h.value?.position?.qualification,(p,oe)=>(c(),f("div",{class:"text-body1",key:oe},u(oe+1)+". "+u(p||"N/A"),1))),128))]),t("div",Ba,[t("div",null,[d[14]||(d[14]=t("div",{class:"text-caption text-uppercase text-grey"},"department",-1)),t("div",La,u(h.value?.position?.department?.name),1)]),t("div",null,[d[15]||(d[15]=t("div",{class:"text-caption text-uppercase text-grey"},"shift",-1)),t("div",Qa,u(h.value?.shift?.name)+" "+u(w(h.value?.shift?.start_time))+" to "+u(w(h.value?.shift?.end_time)),1),t("div",Ha,u(N(h.value?.shift?.days)),1)])]),t("div",Wa,[t("div",null,[d[16]||(d[16]=t("div",{class:"text-caption text-uppercase text-grey"},"date needed",-1)),t("div",Ja,u(Q(h.value?.date_needed)),1)]),t("div",null,[d[17]||(d[17]=t("div",{class:"text-caption text-uppercase text-grey"},"need background check",-1)),t("div",Ga,u(h.value?.need_background_check?"Yes":"No"),1)])]),t("div",Xa,[d[18]||(d[18]=t("div",{class:"text-caption text-uppercase text-grey"},"work location",-1)),t("div",Ka,u(h.value?.location),1)]),t("div",Za,[t("div",null,[d[19]||(d[19]=t("div",{class:"text-caption text-uppercase text-grey"},"movement",-1)),t("div",es,u(h.value?.movement),1)]),t("div",null,[d[20]||(d[20]=t("div",{class:"text-caption text-uppercase text-grey"},"justification",-1)),t("div",ts,u(h.value?.justification),1)])]),t("div",as,[(c(!0),f(X,null,te(h.value?.approvals,(p,oe)=>(c(),f("div",null,[t("div",ss,u(p?.status=="Pending"?"unsigned":p?.setting?.description),1),p?.status=="Pending"?(c(),f("div",os,[t("div",ls,u(p?.original_approver_name),1),t("div",is,u(p?.original_approver_position),1)])):S("",!0),p?.status=="Approved"?(c(),f("div",ns,[p?.is_overide?(c(),f("div",rs,[t("div",ds,[t("div",us,u(p?.original_approver_name),1),t("div",cs,u(p?.original_approver_position),1)]),d[21]||(d[21]=t("div",{class:"text-caption text-uppercase text-italic text-bold q-mb-lg"},"overiden by",-1)),t("img",{src:M(p?.override_signature),width:"150"},null,8,ps),t("div",ms,u(p?.override_name),1),t("div",vs,u(p?.override_position),1),t("div",gs,u(W(p?.signed_at)),1)])):S("",!0),p?.is_overide?S("",!0):(c(),f("div",xs,[t("img",{src:M(p?.original_signature),width:"150"},null,8,fs),t("div",ys,u(p?.original_approver_name),1),t("div",_s,u(p?.original_approver_position),1),t("div",hs,u(W(p?.signed_at)),1)]))])):S("",!0),p?.status=="Pending"&&K(O).hasRole(["SuperAdmin","Management"])?(c(),f("div",bs,[a(gt,{modelValue:s.value,"onUpdate:modelValue":d[0]||(d[0]=ve=>s.value=ve),val:p?.id,label:"Overide","checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",size:"sm",class:"tex-caption"},null,8,["modelValue","val"])])):S("",!0)]))),256))])]),_:1}),a(we,{class:"q-pa-lg bg"},{default:o(()=>[t("div",ws,[D.value&&K(O).hasRole(["SuperAdmin","Management","Admin","HR"])?(c(),G(Y,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"approve"},{default:o(()=>[a(rt,{onBeforeShow:()=>{},"transition-show":"jump-up","transition-hide":"jump-down",offset:[0,15],class:"radius-sm",style:{"box-shadow":"rgba(0, 0, 0, 0.09) 0px 3px 12px"}},{default:o(()=>[a(F,{class:"no-shadow radius-sm q-pa-lg",style:{width:"300px"}},{default:o(()=>[a(C,null,{default:o(()=>d[22]||(d[22]=[t("div",{class:"text-h6 text-center text-uppercase"}," proceed to approve ",-1)])),_:1,__:[22]}),a(we,null,{default:o(()=>[a(Y,{unelevated:"",size:"md",color:"primary",class:"full-width text-capitalize",label:"proceed",onClick:d[1]||(d[1]=p=>T(K(I).data?.id))})]),_:1})]),_:1})]),_:1})]),_:1})):S("",!0),K(I).data?.status=="Requested"&&K(O).hasRole(["SuperAdmin","Management"])?(c(),G(Y,{key:1,disable:!de.value,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"overide"},{default:o(()=>[a(rt,{onBeforeShow:()=>{},"transition-show":"jump-up","transition-hide":"jump-down",offset:[0,15],class:"radius-sm",style:{"box-shadow":"rgba(0, 0, 0, 0.09) 0px 3px 12px"}},{default:o(()=>[a(F,{class:"no-shadow radius-sm q-pa-lg",style:{width:"300px"}},{default:o(()=>[a(C,null,{default:o(()=>d[23]||(d[23]=[t("div",{class:"text-h6 text-center text-uppercase"}," proceed to overide signature ",-1)])),_:1,__:[23]}),a(we,null,{default:o(()=>[a(Y,{unelevated:"",size:"md",color:"primary",class:"full-width text-capitalize",label:"proceed",onClick:d[2]||(d[2]=p=>$(K(I).data?.id))})]),_:1})]),_:1})]),_:1})]),_:1},8,["disable"])):S("",!0),a(Y,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"print",onClick:d[3]||(d[3]=()=>{Z(K(I).data?.id)})}),a(Y,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:d[4]||(d[4]=()=>{k("update:modelValue",null)}),outline:""})])]),_:1}),a(Qe,{showing:q.value},{default:o(()=>[a(F,{class:"no-shadow radius-md q-pa-md"},{default:o(()=>[a(C,{class:"text-center"},{default:o(()=>[t("div",null,[a(he,{color:"dark"})]),d[24]||(d[24]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[24]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]),a(ze,{modelValue:b.value,"onUpdate:modelValue":d[7]||(d[7]=p=>b.value=p),"full-height":"","full-width":"",class:"pdf"},{default:o(()=>[a(F,{class:"bg-white q-pa-none",style:{height:"100vh",overflow:"hidden"}},{default:o(()=>[Ie(a(Y,{icon:"bi-x",class:"fixed bg-white text-primary shadow-2",round:"",dense:"",style:{top:"15px",right:"15px","z-index":"999"}},null,512),[[$t]]),a(C,{class:"q-pa-none",style:{height:"100%",overflow:"hidden"}},{default:o(()=>[t("div",Vs,[E.value?(c(),f("iframe",{key:0,src:E.value,frameborder:"0"},null,8,Ds)):S("",!0)])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},ks=Ve($s,[["__scopeId","data-v-9421bb4c"]]),qs={class:"card-grid"},Ss={key:0,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},Cs={key:1,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},zs={key:2,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},Is={class:"text-subtitle2 text-uppercase"},As={class:"text-caption text-uppercase"},Es={class:"text-caption text-grey"},Ps={class:"text-caption text-uppercase"},Us={id:"glass-overlay"},Ns={__name:"RequisitionComponent",setup(z){const B=Le(),O=Ue(),I=v([]),U=v({}),k=v(1),H=v(10),h=v(!1),R=v(""),q=async()=>{h.value=!0;try{const{data:M}=await le.get("/recruitment",{params:{Page:k.value,Limit:H.value,Filter:R.value||""}});I.value=M.data,U.value=M.meta}catch(M){console.error("Error fetching all data:",M),ie.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{h.value=!1}};xt(R,()=>{k.value=1,q()});const A=()=>{k.value<U.value.TotalPages&&(k.value++,q())},D=()=>{k.value>1&&(k.value--,q())},T=()=>{k.value>1&&(k.value=1,q())},j=()=>{k.value<U.value.TotalPages&&(k.value=U.value.TotalPages,q())},Q=(M,x="PHP")=>{if(M==null||M==="")return"N/A";const b=Number(String(M).replace(/,/g,""));return isNaN(b)?"N/A":b.toLocaleString("en-PH",{style:"currency",currency:x,minimumFractionDigits:2})},w=v(null),W=M=>{w.value=M};ft(()=>{q()});const N=v(!0);return yt(()=>{setTimeout(()=>{N.value=!1},1e3)}),(M,x)=>(c(),f("div",null,[t("div",qs,[K(B).hasRole(["SuperAdmin","Admin","Management"])?(c(),f("div",Ss,[Ie((c(),G(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm",onClick:x[0]||(x[0]=()=>{W("VacancyDialog")})},{default:o(()=>[a(C,null,{default:o(()=>[a(Ce,{name:"bi-plus-circle",color:"grey",size:"xl"})]),_:1})]),_:1})),[[_t]])])):S("",!0),h.value?(c(),f("div",Cs,[a(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:o(()=>[a(C,null,{default:o(()=>[a(he,{color:"dark"}),x[6]||(x[6]=t("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))]),_:1,__:[6]})]),_:1})])):!h.value&&I.value.length===0?(c(),f("div",zs,[a(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:o(()=>[a(C,null,{default:o(()=>x[7]||(x[7]=[t("div",{class:"text-caption text-uppercase text-grey"},"no data found",-1)])),_:1,__:[7]})]),_:1})])):!h.value&&I.value.length>0?(c(!0),f(X,{key:3},te(I.value,(b,E)=>(c(),f("div",{key:`data-${b.id}`,class:"card-anim-wrapper",style:ye({animationDelay:`${E*100}ms`})},[a(F,{onClick:()=>{W("VacancyInfoDialog"),K(O).data=b},class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:o(()=>[a(C,null,{default:o(()=>[t("div",Is,u(b?.position?.name),1)]),_:2},1024),a(C,null,{default:o(()=>[t("div",As,u(Q(b?.position?.salary_amount))+" "+u(b?.position?.salary_type),1),t("div",Es,u(b?.status),1)]),_:2},1024)]),_:2},1032,["onClick"])],4))),128)):S("",!0)]),a(Pa,{modelValue:w.value,"onUpdate:modelValue":x[1]||(x[1]=b=>w.value=b),"dialog-name":"VacancyDialog",onSaved:x[2]||(x[2]=()=>{q()})},null,8,["modelValue"]),a(ks,{modelValue:w.value,"onUpdate:modelValue":x[3]||(x[3]=b=>w.value=b),"dialog-name":"VacancyInfoDialog",onSaved:x[4]||(x[4]=()=>{q()})},null,8,["modelValue"]),a(Dt,{class:"bg-white no-shadow q-mx-lg q-mb-md q-py-sm radius-xs text-grey"},{default:o(()=>[a(wt,null,{default:o(()=>[a(Vt,{class:"text-caption text-uppercase"},{default:o(()=>x[8]||(x[8]=[t("div",null,"Â© 2025 WORKFORCE. All Rights Reserved.",-1)])),_:1,__:[8]}),a(L,{outlined:"",dense:"",debounce:"1000",modelValue:R.value,"onUpdate:modelValue":x[5]||(x[5]=b=>R.value=b),placeholder:"Search..."},{before:o(()=>[t("div",Ps,u(`page ${U.value.CurrentPage} of ${U.value.TotalPages}`),1)]),after:o(()=>[a(Y,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-bar-left",disable:k.value<=1,onClick:T},{default:o(()=>[a(_e,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:o(()=>x[9]||(x[9]=[se("First Page")])),_:1,__:[9]})]),_:1},8,["disable"]),a(Y,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-left-short",disable:k.value<=1,onClick:D},{default:o(()=>[a(_e,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:o(()=>x[10]||(x[10]=[se("Previous")])),_:1,__:[10]})]),_:1},8,["disable"]),a(Y,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-right-short",disable:k.value>=U.value.TotalPages,onClick:A},{default:o(()=>[a(_e,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:o(()=>x[11]||(x[11]=[se("Next")])),_:1,__:[11]})]),_:1},8,["disable"]),a(Y,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-bar-right",disable:k.value>=U.value.TotalPages,onClick:j},{default:o(()=>[a(_e,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:o(()=>x[12]||(x[12]=[se("Last Page")])),_:1,__:[12]})]),_:1},8,["disable"])]),prepend:o(()=>[a(Ce,{name:"bi-search",style:{"font-size":"1rem"}})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(Be,{name:"glass-fade"},{default:o(()=>[Ie(t("div",Us,[a(F,{class:"no-shadow radius-md q-pa-md"},{default:o(()=>[a(C,{class:"text-center"},{default:o(()=>[t("div",null,[a(he,{color:"dark"})]),x[13]||(x[13]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[13]})]),_:1})],512),[[ht,N.value]])]),_:1})]))}},Ys=Ve(Ns,[["__scopeId","data-v-dca40025"]]),kt=Wt("applicationStore",{state:()=>({component:null,data:null,isEdit:!1}),getters:{},actions:{},persist:!0}),Ts={key:0},Ms={class:"card-grid"},Fs={key:"data-none",class:"inner-card-anim-wrapper",style:{animationDelay:"120ms"}},Rs={class:"text-caption text-uppercase"},js={class:"text-caption text-grey text-uppercase"},Os={class:"text-caption text-capitalize text-grey"},Bs={class:"checkmark-overlay"},Ls={key:1},Qs={class:"row q-col-gutter-xs q-mb-md"},Hs={class:"col-2"},Ws={class:"col-2"},Js={class:"col-2"},Gs={class:"col-1"},Xs={class:"row q-col-gutter-xs q-mb-md"},Ks={class:"col-2"},Zs={class:"q-gutter-sm"},eo={class:"col-10"},to={class:"q-gutter-sm"},ao={class:"row q-col-gutter-xs q-mb-md"},so={class:"col-2"},oo={class:"col-4"},lo={class:"row q-col-gutter-xs q-mb-md"},io={class:"col-6"},no={class:"q-gutter-sm"},ro={class:"row q-col-gutter-xs q-mb-md"},uo={class:"col-2"},co={class:"col-2"},po={key:2},mo={class:"q-mb-md"},vo={class:"row q-col-gutter-xs q-mb-xs"},go={class:"col-2"},xo={class:"col-2"},fo={class:"col-2"},yo={class:"col-2"},_o={class:"col-2"},ho={class:"col-2"},bo={class:"col-2"},wo={class:"col-2"},Vo={class:"col-2"},Do={class:"col-2"},$o={class:"col-1"},ko={key:3},qo={class:"q-mb-md"},So={class:"row q-col-gutter-xs q-mb-xs"},Co={class:"col-2"},zo={class:"col-3"},Io={class:"col-2"},Ao={class:"col-2"},Eo={class:"col-1"},Po={class:"col-2"},Uo={class:"col-3"},No={class:"col-2"},Yo={class:"col-2"},To={class:"col-2"},Mo={class:"col-1"},Fo={key:4},Ro={class:"q-mb-md"},jo={class:"row q-col-gutter-xs q-mb-xs"},Oo={class:"col-3"},Bo={class:"col-4"},Lo={class:"col-2"},Qo={class:"col-2"},Ho={class:"col-3"},Wo={class:"col-4"},Jo={class:"col-2"},Go={class:"col-2"},Xo={class:"col-1"},Ko={key:5},Zo={class:"q-mb-md"},el={class:"row q-col-gutter-xs q-mb-xs"},tl={class:"col-2"},al={class:"col-3"},sl={class:"col-1"},ol={class:"row q-gutter-sm"},ll={class:"text-caption text-uppercase text-grey"},mt=6,il={__name:"ApplicationDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue","saved"],setup(z,{emit:B}){Ue();const O=z,I=B,U=ae({get:()=>O.modelValue===O.dialogName,set:i=>{i||I("update:modelValue",null)}}),k=()=>{Ye(),ee(),$e(),re(),J.value=0},H=v(!1),h=v(""),R=v(""),q=v(""),A=v(""),D=v(""),T=v(""),j=v(""),Q=v(new Date().toISOString().split("T")[0]),w=v(""),W=v(""),N=v(""),M=v(""),x=v([{schoollevel:"",schoolId:"",courseId:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}]),b=v([{title:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],hour:"",typeId:"",conductedBy:""}]),E=v([{position:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],description:""}]),Z=v([{file:""}]),s=vt({vacancyId:{type:null,msg:""},firstname:{type:null,msg:""},middlename:{type:null,msg:""},lastname:{type:null,msg:""},suffix:{type:null,msg:""},sex:{type:null,msg:""},civilstatus:{type:null,msg:""},birthdate:{type:null,msg:""},birthplace:{type:null,msg:""},address:{type:null,msg:""},email:{type:null,msg:""},contactNo:{type:null,msg:""},educations:{schoollevel:{type:[],msg:""},schoolId:{type:[],msg:""},courseId:{type:[],msg:""},startDate:{type:[],msg:""},endDate:{type:[],msg:""}},trainings:{trainingtype:{type:[],msg:""},title:{type:[],msg:""},startDate:{type:[],msg:""},endDate:{type:[],msg:""},hour:{type:[],msg:""}},experiences:{position:{type:[],msg:""},startDate:{type:[],msg:""},endDate:{type:[],msg:""},description:{type:[],msg:""}},documents:{file:{type:[],msg:""}},applicationstatus:{type:[],msg:""}}),de=()=>{s.educations.schoollevel.type=x.value.map(()=>null),s.educations.schoolId.type=x.value.map(()=>null),s.educations.courseId.type=x.value.map(()=>null),s.educations.startDate.type=x.value.map(()=>null),s.educations.endDate.type=x.value.map(()=>null),s.trainings.trainingtype.type=b.value.map(()=>null),s.trainings.title.type=b.value.map(()=>null),s.trainings.startDate.type=b.value.map(()=>null),s.trainings.endDate.type=b.value.map(()=>null),s.trainings.hour.type=b.value.map(()=>null),s.experiences.position.type=E.value.map(()=>null),s.experiences.startDate.type=E.value.map(()=>null),s.experiences.endDate.type=E.value.map(()=>null),s.experiences.description.type=E.value.map(()=>null),s.documents.file.type=Z.value.map(()=>null)},$=()=>ie.fire({icon:"error",html:`
        <div class="text-h6 text-bold text-uppercase">Request Failed</div>
        <div class="text-caption">Something went wrong.</div>
        `}),n=(i,r="required")=>(s[i].type=!0,s[i].msg=r,!0),d=i=>(s[i].type=null,s[i].msg="",!1),p=(i,r)=>r?d(i):n(i,"required"),oe=i=>{if(!i)return!1;const r=new Date,l=new Date(i);let y=r.getFullYear()-l.getFullYear();const g=r.getMonth()-l.getMonth();return(g<0||g===0&&r.getDate()<l.getDate())&&y--,y>=15},ve=()=>{let i=!1;return i||=p("vacancyId",h.value),i&&$(),!i},ue=()=>{const i=["SR","JR","II","III","IV","V","VI","VII","VIII","IX","X"],r=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,l=/^09\d{9}$/;let y=!1;return y||=p("firstname",R.value),y||=p("middlename",q.value),y||=p("lastname",A.value),y||=D.value&&!i.includes(D.value.trim().toUpperCase())?n("suffix","invalid"):d("suffix"),y||=p("sex",T.value),y||=p("civilstatus",j.value),Q.value?oe(Q.value)?d("birthdate"):y||=n("birthdate","invalid"):y||=n("birthdate","required"),y||=p("birthplace",w.value),N.value?r.test(N.value)?N.value.length>100?y||=n("email","invalid"):d("email"):y||=n("email","invalid"):y||=n("email","required"),M.value?l.test(M.value)?d("contactNo"):y||=n("contactNo","invalid"):y||=n("contactNo","required"),y||=p("address",W.value),y&&$(),!y},dt=()=>{let i=!1;return s.educations.schoollevel={type:null,msg:""},s.educations.schoolId={type:null,msg:""},s.educations.courseId={type:null,msg:""},s.educations.startDate={type:null,msg:""},s.educations.endDate={type:null,msg:""},de(),x.value.forEach((r,l)=>{r.schoollevel||(s.educations.schoollevel.type[l]=!0,s.educations.schoollevel.msg="school level is required",i=!0),r.schoolId||(s.educations.schoolId.type[l]=!0,s.educations.schoolId.msg="school is required",i=!0),r.courseId||(s.educations.courseId.type[l]=!0,s.educations.courseId.msg="degree is required",i=!0),r.startDate?isNaN(new Date(r.startDate).getTime())&&(s.educations.startDate.type[l]=!0,s.educations.startDate.msg="start date must be a valid date",i=!0):(s.educations.startDate.type[l]=!0,s.educations.startDate.msg="start date is required",i=!0),r.endDate?isNaN(new Date(r.endDate).getTime())&&(s.educations.endDate.type[l]=!0,s.educations.endDate.msg="end date must be a valid date",i=!0):(s.educations.endDate.type[l]=!0,s.educations.endDate.msg="end date is required",i=!0)}),i&&$(),!i},He=()=>{let i=!1;return s.trainings.trainingtype={type:null,msg:""},s.trainings.title={type:null,msg:""},s.trainings.startDate={type:null,msg:""},s.trainings.endDate={type:null,msg:""},s.trainings.hour={type:null,msg:""},de(),b.value.forEach((r,l)=>{r.trainingtype||(s.trainings.trainingtype.type[l]=!0,s.trainings.trainingtype.msg="training type is required",i=!0),r.title||(s.trainings.title.type[l]=!0,s.trainings.title.msg="title is required",i=!0),r.startDate?isNaN(new Date(r.startDate).getTime())&&(s.trainings.startDate.type[l]=!0,s.trainings.startDate.msg="start date must be a valid date",i=!0):(s.trainings.startDate.type[l]=!0,s.trainings.startDate.msg="start date is required",i=!0),r.endDate?isNaN(new Date(r.endDate).getTime())&&(s.trainings.endDate.type[l]=!0,s.trainings.endDate.msg="end date must be a valid date",i=!0):(s.trainings.endDate.type[l]=!0,s.trainings.endDate.msg="end date is required",i=!0),r.hour?(isNaN(r.hour)||r.hour<1||r.hour>23)&&(s.trainings.hour.type[l]=!0,s.trainings.hour.msg="hour/s must be a valid number between 1 to 23",i=!0):(s.trainings.hour.type[l]=!0,s.trainings.hour.msg="hour/s is required",i=!0)}),i&&$(),!i},We=()=>{let i=!1;return s.experiences.position={type:null,msg:""},s.experiences.startDate={type:null,msg:""},s.experiences.endDate={type:null,msg:""},s.experiences.description={type:null,msg:""},de(),E.value.forEach((r,l)=>{r.position||(s.experiences.position.type[l]=!0,s.experiences.position.msg="position is required",i=!0),r.startDate?isNaN(new Date(r.startDate).getTime())&&(s.experiences.startDate.type[l]=!0,s.experiences.startDate.msg="start date must be a valid date",i=!0):(s.experiences.startDate.type[l]=!0,s.experiences.startDate.msg="start date is required",i=!0),r.endDate?isNaN(new Date(r.endDate).getTime())&&(s.experiences.endDate.type[l]=!0,s.experiences.endDate.msg="end date must a valid date",i=!0):(s.experiences.endDate.type[l]=!0,s.experiences.endDate.msg="end date is required",i=!0),r.description||(s.experiences.description.type[l]=!0,s.experiences.description.msg="job description is required",i=!0)}),i&&$(),!i},Ne=()=>{let i=!1;return s.documents.file={type:null,msg:""},de(),Z.value.forEach((r,l)=>{r.file?r.file.type!=="application/pdf"?(s.documents.file.type[l]=!0,s.documents.file.msg="file must be a PDF document",i=!0):r.file.size>5242880&&(s.documents.file.type[l]=!0,s.documents.file.msg="file size must not exceed to 5MB",i=!0):(s.documents.file.type[l]=!0,s.documents.file.msg="file is required",i=!0)}),i&&$(),!i},Ae=()=>{Object.keys(s).forEach(i=>{const r=s[i];r.type!==void 0&&!Array.isArray(r.type)?(r.type=null,r.msg=""):r.type!==void 0&&Array.isArray(r.type)?(r.type=[],r.msg=""):Object.keys(r).forEach(l=>{Array.isArray(r[l].type)?r[l].type=[]:r[l].type=null,r[l].msg=""})})},Ye=()=>{h.value="",R.value="",q.value="",A.value="",D.value="",T.value="",j.value="",Q.value=new Date().toISOString().split("T")[0],w.value="",W.value="",N.value="",M.value="",x.value=[{schoollevel:"",schoolId:"",courseId:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}],b.value=[{title:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],hour:"",typeId:"",conductedBy:""}],E.value=[{position:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],description:""}],Z.value=[{file:""}],Ae()},De=async()=>{if(!(Ne&&!Ne())){H.value=!0;try{const i=new FormData;i.append("vacancyId",h.value),i.append("firstname",R.value),i.append("middlename",q.value),i.append("lastname",A.value),i.append("suffix",D.value),i.append("sex",T.value),i.append("civilstatus",j.value),i.append("birthdate",Q.value),i.append("birthplace",w.value),i.append("email",N.value),i.append("contactNo",M.value),i.append("address",W.value),i.append("educations",JSON.stringify(x.value)),i.append("trainings",JSON.stringify(b.value)),i.append("experiences",JSON.stringify(E.value)),Z.value.forEach((l,y)=>{i.append(`documents[${y}][documentId]`,l.documentId),l.file&&i.append(`documents[${y}][file]`,l.file)});const r=await le.post("/socket/application/create",i,{headers:{"Content-Type":"multipart/form-data"}});I("saved"),I("update:modelValue",null),ie.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${r.data.message}<div>
            `})}catch(i){i.response&&i.response.data&&(Je(i.response.data),ie.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{H.value=!1}}},Je=i=>{const r=Array.isArray(i)?i:i?.errors||[];Object.keys(s).forEach(l=>{s[l].type=null,s[l].messages=[]}),r.forEach(l=>{s[l.path]!==void 0&&(s[l.path].type=!0,s[l.path].messages.push(l.msg))})},Ee=v([]),ne=v(["Male","Female"]),Ge=v(["High School","Vocational","College","Graduate Studies"]),Xe=v(["Single","Married","Widowed","Divorced","Separated"]),Te=v([]),Me=v([]),Ke=v(["Managerial","Supervisory","Technical","Orientation","Compliance","Seminar","Workshop","Conference","Other"]),Fe=v([]),Pe=v([]);v([]);const _=(i,r)=>(l,y)=>{if(l===""){y(()=>{r.value=i.value});return}y(()=>{const g=l.toLowerCase();r.value=i.value.filter(Lt=>Lt.label.toLowerCase().includes(g))})},m=_(Te,Fe),V=_(Me,Pe),ee=async()=>{try{const i=await le.get("/application/option/vacancy");Ee.value=i.data}catch(i){console.error("Error fetching options:",i)}},re=async()=>{try{const i=await le.get("/application/option/school");Te.value=i.data}catch(i){console.error("Error fetching options:",i)}},$e=async()=>{try{const i=await le.get("/application/option/course");Me.value=i.data}catch(i){console.error("Error fetching options:",i)}};function ge(i,r="PHP"){if(i==null||i==="")return"";const l=Number(String(i).replace(/,/g,""));return isNaN(l)?"":l.toLocaleString("en-PH",{style:"currency",currency:r,minimumFractionDigits:2,maximumFractionDigits:2})}const Re=()=>{x.value.unshift({schoollevel:"",schoolId:"",courseId:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]})},qt=i=>{x.value.splice(i,1)},St=()=>{b.value.unshift({trainingtype:"",title:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],hour:""})},Ct=i=>{b.value.splice(i,1)},zt=()=>{E.value.unshift({position:"",description:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]})},It=i=>{E.value.splice(i,1)},At=()=>{Z.value.unshift({file:""})},Et=i=>{Z.value.splice(i,1)},ut=v(null),Ze=v([]),et=v([]),tt=v([]),at=v([]),st=v([]),ot=v([]);function Pt(i){ke(()=>{Ze.value[i]&&Ze.value[i].hide()})}function Ut(i){ke(()=>{et.value[i]&&et.value[i].hide()})}function Nt(i){ke(()=>{tt.value[i]&&tt.value[i].hide()})}function Yt(i){ke(()=>{at.value[i]&&at.value[i].hide()})}function Tt(i){ke(()=>{st.value[i]&&st.value[i].hide()})}function Mt(i){ke(()=>{ot.value[i]&&ot.value[i].hide()})}const J=v(0),Ft=[ve,ue,dt,He,We],Rt=()=>{const i=Ft[J.value];i&&!i()||J.value++},jt=()=>{J.value>0&&J.value--},lt=v(""),ct=ae(()=>{const i=lt.value.trim().toLowerCase();return i?Ee.value.filter(r=>String(r.position?.name||"").toLowerCase().includes(i)):Ee.value}),it=ae(()=>ct.value),Ot=ae(()=>it.value.length),Bt=ae(()=>ct.value.length);return(i,r)=>(c(),G(ze,{modelValue:U.value,"onUpdate:modelValue":r[19]||(r[19]=l=>U.value=l),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:r[20]||(r[20]=l=>k())},{default:o(()=>[a(F,{class:"dialog-card column full-height"},{default:o(()=>[a(C,{class:"q-pa-lg"},{default:o(()=>r[21]||(r[21]=[t("div",{class:"text-h6 text-uppercase"},"create application",-1)])),_:1,__:[21]}),a(Oe,{inset:""}),a(C,{class:"col q-pa-lg scroll"},{default:o(()=>[a(Be,{name:"fade-slide",mode:"out-in"},{default:o(()=>[(c(),f("div",{key:J.value},[J.value===0?(c(),f("div",Ts,[r[23]||(r[23]=t("div",{class:"text-overline text-uppercase text-bold q-mb-md"},"position information",-1)),t("div",{class:P(["text-caption text-uppercase q-mb-sm",s.vacancyId.type?"text-negative text-italic":"text-grey"])},u(s.vacancyId.type?s.vacancyId.msg:"position"),3),t("div",Ms,[it.value.length===0?(c(),f("div",Fs,[a(F,{class:"card card-menu card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm",tag:"label"},{default:o(()=>[a(C,null,{default:o(()=>r[22]||(r[22]=[t("div",{class:"text-caption text-uppercase text-grey"},"no data found",-1)])),_:1,__:[22]})]),_:1})])):(c(!0),f(X,{key:1},te(it.value,(l,y)=>(c(),f("div",{key:`data-${l.id}`,class:"inner-card-anim-wrapper",style:ye({animationDelay:`${y*120}ms`})},[a(F,{class:P(["card card-menu card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm",{"card--active":h.value===l.id}]),tag:"label",onClick:g=>h.value=l.id},{default:o(()=>[a(C,null,{default:o(()=>[t("div",Rs,u(l?.position?.name),1),t("div",js,u(l?.position?.salary_type=="Monthly"?ge(l?.position?.monthly_salary):l?.position?.salary_type=="Daily"?ge(l?.position?.daily_salary):l?.position?.salary_type=="Hourly"?ge(l?.position?.hourly_salary):null),1)]),_:2},1024),a(C,null,{default:o(()=>[t("div",Os,u(l?.department?.name),1)]),_:2},1024),t("div",Bs,[a(be,{modelValue:h.value,"onUpdate:modelValue":r[0]||(r[0]=g=>h.value=g),val:l.id,"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",size:"xs"},null,8,["modelValue","val"])])]),_:2},1032,["class","onClick"])],4))),128))])])):S("",!0),J.value===1?(c(),f("div",Ls,[r[24]||(r[24]=t("div",{class:"text-overline text-uppercase text-bold q-mb-md"},"personal information",-1)),t("div",Qs,[t("div",Hs,[t("div",{class:P(["text-caption text-uppercase",s.firstname.type?"text-negative text-italic":"text-grey"])},u(s.firstname.type?s.firstname.msg:"firstname"),3),a(L,{modelValue:R.value,"onUpdate:modelValue":r[1]||(r[1]=l=>R.value=l),label:"Enter Firstname",outlined:"",error:s.firstname.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])]),t("div",Ws,[t("div",{class:P(["text-caption text-uppercase",s.middlename.type?"text-negative text-italic":"text-grey"])},u(s.middlename.type?s.middlename.msg:"middlename"),3),a(L,{modelValue:q.value,"onUpdate:modelValue":r[2]||(r[2]=l=>q.value=l),label:"Enter Middlename",outlined:"",error:s.middlename.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])]),t("div",Js,[t("div",{class:P(["text-caption text-uppercase",s.lastname.type?"text-negative text-italic":"text-grey"])},u(s.lastname.type?s.lastname.msg:"lastname"),3),a(L,{modelValue:A.value,"onUpdate:modelValue":r[3]||(r[3]=l=>A.value=l),label:"Enter Lastname",outlined:"",error:s.lastname.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])]),t("div",Gs,[t("div",{class:P(["text-caption text-uppercase",s.suffix.type?"text-negative text-italic":"text-grey"])},u(s.suffix.type?s.suffix.msg:"suffix"),3),a(L,{modelValue:D.value,"onUpdate:modelValue":r[4]||(r[4]=l=>D.value=l),label:"Enter Suffix",outlined:"",error:s.suffix.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])])]),t("div",Xs,[t("div",Ks,[t("div",{class:P(["text-caption text-uppercase",s.sex.type?"text-negative text-italic":"text-grey"])},u(s.sex.type?s.sex.msg:"sex"),3),t("div",Zs,[(c(!0),f(X,null,te(ne.value,l=>(c(),G(be,{modelValue:T.value,"onUpdate:modelValue":r[5]||(r[5]=y=>T.value=y),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:l,label:l},null,8,["modelValue","val","label"]))),256))])]),t("div",eo,[t("div",{class:P(["text-caption text-uppercase",s.civilstatus.type?"text-negative text-italic":"text-grey"])},u(s.civilstatus.type?s.civilstatus.msg:"civil status"),3),t("div",to,[(c(!0),f(X,null,te(Xe.value,l=>(c(),G(be,{modelValue:j.value,"onUpdate:modelValue":r[6]||(r[6]=y=>j.value=y),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:l,label:l},null,8,["modelValue","val","label"]))),256))])])]),t("div",ao,[t("div",so,[t("div",{class:P(["text-caption text-uppercase",s.birthdate.type?"text-negative text-italic":"text-grey"])},u(s.birthdate.type?s.birthdate.msg:"birthdate (YYYY-MM-DD)"),3),a(L,{outlined:"",modelValue:Q.value,"onUpdate:modelValue":r[9]||(r[9]=l=>Q.value=l),label:"Enter Date",error:s.birthdate.type,"no-error-icon":!0},{default:o(()=>[a(fe,{cover:"","transition-show":"scale","transition-hide":"scale",ref_key:"popup",ref:ut,class:"no-shadow custom-border radius-sm"},{default:o(()=>[a(xe,{modelValue:Q.value,"onUpdate:modelValue":[r[7]||(r[7]=l=>Q.value=l),r[8]||(r[8]=()=>{ut.value.hide()})],mask:"YYYY-MM-DD"},null,8,["modelValue"])]),_:1},512)]),_:1},8,["modelValue","error"])]),t("div",oo,[t("div",{class:P(["text-caption text-uppercase",s.birthplace.type?"text-negative text-italic":"text-grey"])},u(s.birthplace.type?s.birthplace.msg:"birthplace"),3),a(L,{modelValue:w.value,"onUpdate:modelValue":r[10]||(r[10]=l=>w.value=l),label:"Enter Birthplace",outlined:"",error:s.birthplace.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])])]),t("div",lo,[t("div",io,[t("div",{class:P(["text-caption text-uppercase",s.address.type?"text-negative text-italic":"text-grey"])},u(s.address.type?s.address.msg:"address"),3),t("div",no,[a(L,{modelValue:W.value,"onUpdate:modelValue":r[11]||(r[11]=l=>W.value=l),label:"Enter Address",outlined:"",error:s.address.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])])])]),t("div",ro,[t("div",uo,[t("div",{class:P(["text-caption text-uppercase",s.email.type?"text-negative text-italic":"text-grey"])},u(s.email.type?s.email.msg:"email address"),3),a(L,{modelValue:N.value,"onUpdate:modelValue":r[12]||(r[12]=l=>N.value=l),label:"Enter Email Address",outlined:"",error:s.email.type,"no-error-icon":!0},null,8,["modelValue","error"])]),t("div",co,[t("span",{class:P(["text-caption text-uppercase",s.contactNo.type?"text-negative text-italic":"text-grey"])},u(s.contactNo.type?s.contactNo.msg:"contact number"),3),a(L,{modelValue:M.value,"onUpdate:modelValue":r[13]||(r[13]=l=>M.value=l),label:"Enter Contact No.",outlined:"",error:s.contactNo.type,"no-error-icon":!0,mask:"###########"},null,8,["modelValue","error"])])])])):S("",!0),J.value===2?(c(),f("div",po,[r[28]||(r[28]=t("div",{class:"text-overline text-uppercase text-bold q-mb-md"},"education information",-1)),t("div",mo,[t("div",vo,[t("div",go,[t("div",{class:P(["text-caption text-uppercase",s.educations.schoollevel.msg?"text-negative text-italic":"text-grey"])},u(s.educations.schoollevel.msg?s.educations.schoollevel.msg:"school level"),3)]),t("div",xo,[t("div",{class:P(["text-caption text-uppercase",s.educations.schoolId.msg?"text-negative text-italic":"text-grey"])},u(s.educations.schoolId.msg?s.educations.schoolId.msg:"school"),3)]),t("div",fo,[t("div",{class:P(["text-caption text-uppercase",s.educations.courseId.msg?"text-negative text-italic":"text-grey"])},u(s.educations.courseId.msg?s.educations.courseId.msg:"degree"),3)]),t("div",yo,[t("div",{class:P(["text-caption text-uppercase",s.educations.startDate.msg?"text-negative text-italic":"text-grey"])},u(s.educations.startDate.msg?s.educations.startDate.msg:"start date (YYYY-MM-DD)"),3)]),t("div",_o,[t("div",{class:P(["text-caption text-uppercase",s.educations.endDate.msg?"text-negative text-italic":"text-grey"])},u(s.educations.endDate.msg?s.educations.endDate.msg:"end date (YYYY-MM-DD)"),3)])]),(c(!0),f(X,null,te(x.value,(l,y)=>(c(),f("div",{class:"row q-col-gutter-xs q-mb-xs",key:y},[t("div",ho,[a(Se,{outlined:"",modelValue:l.schoollevel,"onUpdate:modelValue":g=>l.schoollevel=g,label:"Choose School Level","input-debounce":"300",options:Ge.value,error:s.educations.schoollevel.type[y],"hide-dropdown-icon":"","no-error-icon":!0},{"no-option":o(()=>[a(ce,null,{default:o(()=>[a(pe,{class:"text-italic text-grey"},{default:o(()=>r[25]||(r[25]=[se(" No options ")])),_:1,__:[25]})]),_:1})]),option:o(g=>[a(ce,je({ref_for:!0},g.itemProps),{default:o(()=>[a(pe,null,{default:o(()=>[a(qe,null,{default:o(()=>[se(u(i.$CapitalizeWords(g.opt)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:2},1032,["modelValue","onUpdate:modelValue","options","error"])]),t("div",bo,[a(Se,{outlined:"",modelValue:l.schoolId,"onUpdate:modelValue":g=>l.schoolId=g,label:"Choose School","emit-value":"","map-options":"","use-input":"","input-debounce":"300",options:Fe.value,onFilter:K(m),error:s.educations.schoolId.type[y],"hide-dropdown-icon":"","no-error-icon":!0},{"no-option":o(()=>[a(ce,null,{default:o(()=>[a(pe,{class:"text-italic text-grey"},{default:o(()=>r[26]||(r[26]=[se(" No options ")])),_:1,__:[26]})]),_:1})]),option:o(g=>[a(ce,je({ref_for:!0},g.itemProps),{default:o(()=>[a(pe,null,{default:o(()=>[a(qe,null,{default:o(()=>[se(u(i.$CapitalizeWords(g.opt.label)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:2},1032,["modelValue","onUpdate:modelValue","options","onFilter","error"])]),t("div",wo,[a(Se,{outlined:"",modelValue:l.courseId,"onUpdate:modelValue":g=>l.courseId=g,label:"Choose Degree","emit-value":"","map-options":"","use-input":"","input-debounce":"300",options:Pe.value,onFilter:K(V),error:s.educations.courseId.type[y],"hide-dropdown-icon":"","no-error-icon":!0},{"no-option":o(()=>[a(ce,null,{default:o(()=>[a(pe,{class:"text-italic text-grey"},{default:o(()=>r[27]||(r[27]=[se(" No options ")])),_:1,__:[27]})]),_:1})]),option:o(g=>[a(ce,je({ref_for:!0},g.itemProps),{default:o(()=>[a(pe,null,{default:o(()=>[a(qe,null,{default:o(()=>[se(u(i.$CapitalizeWords(g.opt.label)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:2},1032,["modelValue","onUpdate:modelValue","options","onFilter","error"])]),t("div",Vo,[a(L,{outlined:"",modelValue:l.startDate,"onUpdate:modelValue":g=>l.startDate=g,label:"Enter Date",error:s.educations.startDate.type[y],"no-error-icon":!0},{default:o(()=>[a(fe,{cover:"","transition-show":"scale","transition-hide":"scale",class:"no-shadow custom-border radius-sm",ref_for:!0,ref:g=>Ze.value[y]=g},{default:o(()=>[a(xe,{modelValue:l.startDate,"onUpdate:modelValue":[g=>l.startDate=g,()=>Pt(y)],mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1032,["modelValue","onUpdate:modelValue","error"])]),t("div",Do,[a(L,{outlined:"",modelValue:l.endDate,"onUpdate:modelValue":g=>l.endDate=g,label:"Enter Date",error:s.educations.endDate.type[y],"no-error-icon":!0},{default:o(()=>[a(fe,{cover:"","transition-show":"scale","transition-hide":"scale",class:"no-shadow custom-border radius-sm",ref_for:!0,ref:g=>et.value[y]=g},{default:o(()=>[a(xe,{modelValue:l.endDate,"onUpdate:modelValue":[g=>l.endDate=g,()=>Ut(y)],mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1032,["modelValue","onUpdate:modelValue","error"])]),t("div",$o,[x.value.length>1?(c(),G(Y,{key:0,round:"",icon:"bi-trash3",flat:"",unelevated:"",color:"grey",onClick:g=>qt(y),size:"sm",class:"q-mt-md"},null,8,["onClick"])):S("",!0)])]))),128))])])):S("",!0),J.value===3?(c(),f("div",ko,[r[30]||(r[30]=t("div",{class:"text-overline text-uppercase text-bold q-mb-md"},"training information",-1)),t("div",qo,[t("div",So,[t("div",Co,[t("div",{class:P(["text-caption text-uppercase",s.trainings.trainingtype.msg?"text-negative text-italic":"text-grey"])},u(s.trainings.trainingtype.msg?s.trainings.trainingtype.msg:"training type"),3)]),t("div",zo,[t("div",{class:P(["text-caption text-uppercase",s.trainings.title.msg?"text-negative text-italic":"text-grey"])},u(s.trainings.title.msg?s.trainings.title.msg:"title"),3)]),t("div",Io,[t("div",{class:P(["text-caption text-uppercase",s.trainings.startDate.msg?"text-negative text-italic":"text-grey"])},u(s.trainings.startDate.msg?s.trainings.startDate.msg:"start date (YYYY-MM-DD)"),3)]),t("div",Ao,[t("div",{class:P(["text-caption text-uppercase",s.trainings.endDate.msg?"text-negative text-italic":"text-grey"])},u(s.trainings.endDate.msg?s.trainings.endDate.msg:"end date (YYYY-MM-DD)"),3)]),t("div",Eo,[t("div",{class:P(["text-caption text-uppercase",s.trainings.hour.msg?"text-negative text-italic":"text-grey"])},u(s.trainings.hour.msg?s.trainings.hour.msg:"hour/s"),3)])]),(c(!0),f(X,null,te(b.value,(l,y)=>(c(),f("div",{class:"row q-col-gutter-xs q-mb-xs",key:y},[t("div",Po,[a(Se,{outlined:"",modelValue:l.trainingtype,"onUpdate:modelValue":g=>l.trainingtype=g,label:"Choose Training Type","input-debounce":"300",options:Ke.value,error:s.trainings.trainingtype.type[y],"hide-dropdown-icon":"","no-error-icon":!0},{"no-option":o(()=>[a(ce,null,{default:o(()=>[a(pe,{class:"text-italic text-grey"},{default:o(()=>r[29]||(r[29]=[se(" No options ")])),_:1,__:[29]})]),_:1})]),option:o(g=>[a(ce,je({ref_for:!0},g.itemProps),{default:o(()=>[a(pe,null,{default:o(()=>[a(qe,null,{default:o(()=>[se(u(i.$CapitalizeWords(g.opt)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:2},1032,["modelValue","onUpdate:modelValue","options","error"])]),t("div",Uo,[a(L,{modelValue:l.title,"onUpdate:modelValue":g=>l.title=g,label:"Enter Title",outlined:"",error:s.trainings.title.type[y],"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",No,[a(L,{outlined:"",modelValue:l.startDate,"onUpdate:modelValue":g=>l.startDate=g,label:"Enter Date",error:s.trainings.startDate.type[y],"no-error-icon":!0},{default:o(()=>[a(fe,{cover:"","transition-show":"scale","transition-hide":"scale",class:"no-shadow custom-border radius-sm",ref_for:!0,ref:g=>tt.value[y]=g},{default:o(()=>[a(xe,{modelValue:l.startDate,"onUpdate:modelValue":[g=>l.startDate=g,()=>Nt(y)],mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1032,["modelValue","onUpdate:modelValue","error"])]),t("div",Yo,[a(L,{outlined:"",modelValue:l.endDate,"onUpdate:modelValue":g=>l.endDate=g,label:"Enter Date",error:s.trainings.endDate.type[y],"no-error-icon":!0},{default:o(()=>[a(fe,{cover:"","transition-show":"scale","transition-hide":"scale",class:"no-shadow custom-border radius-sm",ref_for:!0,ref:g=>at.value[y]=g},{default:o(()=>[a(xe,{modelValue:l.endDate,"onUpdate:modelValue":[g=>l.endDate=g,()=>Yt(y)],mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1032,["modelValue","onUpdate:modelValue","error"])]),t("div",To,[a(L,{modelValue:l.hour,"onUpdate:modelValue":g=>l.hour=g,label:"Enter Hour/s",outlined:"",error:s.trainings.hour.type[y],"no-error-icon":!0},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",Mo,[b.value.length>1?(c(),G(Y,{key:0,round:"",icon:"bi-trash3",flat:"",unelevated:"",color:"grey",onClick:g=>Ct(y),size:"sm",class:"q-mt-md"},null,8,["onClick"])):S("",!0)])]))),128))])])):S("",!0),J.value===4?(c(),f("div",Fo,[r[31]||(r[31]=t("div",{class:"text-overline text-uppercase text-bold q-mb-md"},"experience information",-1)),t("div",Ro,[t("div",jo,[t("div",Oo,[t("div",{class:P(["text-caption text-uppercase",s.experiences.position.msg?"text-negative text-italic":"text-grey"])},u(s.experiences.position.msg?s.experiences.position.msg:"position"),3)]),t("div",Bo,[t("div",{class:P(["text-caption text-uppercase",s.experiences.description.msg?"text-negative text-italic":"text-grey"])},u(s.experiences.description.msg?s.experiences.description.msg:"job description"),3)]),t("div",Lo,[t("div",{class:P(["text-caption text-uppercase",s.experiences.startDate.msg?"text-negative text-italic":"text-grey"])},u(s.experiences.startDate.msg?s.experiences.startDate.msg:"start date (YYYY-MM-DD)"),3)]),t("div",Qo,[t("div",{class:P(["text-caption text-uppercase",s.experiences.endDate.msg?"text-negative text-italic":"text-grey"])},u(s.experiences.endDate.msg?s.experiences.endDate.msg:"end date (YYYY-MM-DD)"),3)])]),(c(!0),f(X,null,te(E.value,(l,y)=>(c(),f("div",{class:"row q-col-gutter-xs q-mb-xs",key:y},[t("div",Ho,[a(L,{modelValue:l.position,"onUpdate:modelValue":g=>l.position=g,label:"Enter Position",outlined:"",error:s.experiences.position.type[y],"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",Wo,[a(L,{modelValue:l.description,"onUpdate:modelValue":g=>l.description=g,label:"EnterJob Description",outlined:"",error:s.experiences.description.type[y],"no-error-icon":!0},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",Jo,[a(L,{outlined:"",modelValue:l.startDate,"onUpdate:modelValue":g=>l.startDate=g,label:"Enter Date",error:s.experiences.startDate.type[y],"no-error-icon":!0},{default:o(()=>[a(fe,{cover:"","transition-show":"scale","transition-hide":"scale",class:"no-shadow custom-border radius-sm",ref_for:!0,ref:g=>st.value[y]=g},{default:o(()=>[a(xe,{modelValue:l.startDate,"onUpdate:modelValue":[g=>l.startDate=g,()=>Tt(y)],mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1032,["modelValue","onUpdate:modelValue","error"])]),t("div",Go,[a(L,{outlined:"",modelValue:l.endDate,"onUpdate:modelValue":g=>l.endDate=g,label:"Enter Date",error:s.experiences.endDate.type[y],"no-error-icon":!0},{default:o(()=>[a(fe,{cover:"","transition-show":"scale","transition-hide":"scale",class:"no-shadow custom-border radius-sm",ref_for:!0,ref:g=>ot.value[y]=g},{default:o(()=>[a(xe,{modelValue:l.endDate,"onUpdate:modelValue":[g=>l.endDate=g,()=>Mt(y)],mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1032,["modelValue","onUpdate:modelValue","error"])]),t("div",Xo,[E.value.length>1?(c(),G(Y,{key:0,round:"",icon:"bi-trash3",flat:"",unelevated:"",color:"grey",onClick:g=>It(y),size:"sm",class:"q-mt-md"},null,8,["onClick"])):S("",!0)])]))),128))])])):S("",!0),J.value===5?(c(),f("div",Ko,[r[32]||(r[32]=t("div",{class:"text-overline text-uppercase text-bold q-mb-md"},"document information",-1)),t("div",Zo,[t("div",el,[t("div",tl,[t("div",{class:P(["text-caption text-uppercase",s.documents.file.msg?"text-negative":"text-grey"])},u(s.documents.file.msg?s.documents.file.msg:"documents"),3)])]),(c(!0),f(X,null,te(Z.value,(l,y)=>(c(),f("div",{class:"row q-col-gutter-xs q-mb-xs",key:y},[t("div",al,[a(ta,{modelValue:l.file,"onUpdate:modelValue":g=>l.file=g,label:"Upload File",outlined:"",error:s.documents.file.type[y],"no-error-icon":!0},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",sl,[Z.value.length>1?(c(),G(Y,{key:0,round:"",icon:"bi-trash3",flat:"",unelevated:"",color:"grey",onClick:g=>Et(y),size:"sm",class:"q-mt-md"},null,8,["onClick"])):S("",!0)])]))),128))])])):S("",!0)]))]),_:1})]),_:1}),a(we,{class:"q-pa-lg bg"},{default:o(()=>[t("div",ol,[J.value>0?(c(),G(Y,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"previous",onClick:r[14]||(r[14]=()=>{jt()})})):S("",!0),J.value<mt-1?(c(),G(Y,{key:1,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"next",onClick:r[15]||(r[15]=()=>{Rt()})})):S("",!0),J.value===mt-1?(c(),G(Y,{key:2,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:De})):S("",!0),J.value===2||J.value===3||J.value===4||J.value===5?(c(),G(Y,{key:3,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"add",onClick:r[16]||(r[16]=()=>{J.value===2?Re():J.value===3?St():J.value===4?zt():J.value===5&&At()}),outline:""})):S("",!0),a(Y,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:r[17]||(r[17]=()=>{I("update:modelValue",null)}),outline:""}),J.value===0?(c(),G(L,{key:4,outlined:"",dense:"",debounce:"1000",modelValue:lt.value,"onUpdate:modelValue":r[18]||(r[18]=l=>lt.value=l),placeholder:"Search..."},{prepend:o(()=>[a(Ce,{name:"bi-search",style:{"font-size":"1rem"}})]),after:o(()=>[t("div",ll,u(Ot.value)+" of "+u(Bt.value),1)]),_:1},8,["modelValue"])):S("",!0)])]),_:1}),a(Qe,{showing:H.value},{default:o(()=>[a(F,{class:"no-shadow radius-md q-pa-md"},{default:o(()=>[a(C,{class:"text-center"},{default:o(()=>[t("div",null,[a(he,{color:"dark"})]),r[33]||(r[33]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[33]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},nl=Ve(il,[["__scopeId","data-v-1eba5d3f"]]),rl=bt({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(z,{slots:B}){const O=ae(()=>{const I=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(U=>z[U]===!0).map(U=>`q-btn-group--${U}`).join(" ");return`q-btn-group row no-wrap${I.length!==0?" "+I:""}`+(z.spread===!0?" q-btn-group--spread":" inline")});return()=>nt("div",{class:O.value},Jt(B.default))}}),dl=bt({name:"QBtnToggle",props:{...Gt,modelValue:{required:!0},options:{type:Array,required:!0,validator:z=>z.every(B=>("label"in B||"icon"in B||"slot"in B)&&"value"in B)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(z,{slots:B,emit:O}){const I=ae(()=>z.options.find(T=>T.value===z.modelValue)!==void 0),U=ae(()=>({type:"hidden",name:z.name,value:z.modelValue})),k=Kt(U),H=ae(()=>Xt(z)),h=ae(()=>({rounded:z.rounded,dense:z.dense,...H.value})),R=ae(()=>z.options.map((T,j)=>{const{attrs:Q,value:w,slot:W,...N}=T;return{slot:W,props:{key:j,"aria-pressed":w===z.modelValue?"true":"false",...Q,...N,...h.value,disable:z.disable===!0||N.disable===!0,color:w===z.modelValue?A(N,"toggleColor"):A(N,"color"),textColor:w===z.modelValue?A(N,"toggleTextColor"):A(N,"textColor"),noCaps:A(N,"noCaps")===!0,noWrap:A(N,"noWrap")===!0,size:A(N,"size"),padding:A(N,"padding"),ripple:A(N,"ripple"),stack:A(N,"stack")===!0,stretch:A(N,"stretch")===!0,onClick(M){q(w,T,M)}}}}));function q(T,j,Q){z.readonly!==!0&&(z.modelValue===T?z.clearable===!0&&(O("update:modelValue",null,null),O("clear")):O("update:modelValue",T,j),O("click",Q))}function A(T,j){return T[j]===void 0?z[j]:T[j]}function D(){const T=R.value.map(j=>nt(Y,j.props,j.slot!==void 0?B[j.slot]:void 0));return z.name!==void 0&&z.disable!==!0&&I.value===!0&&k(T,"push"),Zt(B.default,T)}return()=>nt(rl,{class:"q-btn-toggle",...H.value,rounded:z.rounded,stretch:z.stretch,glossy:z.glossy,spread:z.spread},D)}}),ul={class:"q-mt-md"},cl={key:0},pl={class:"row q-col-gutter-xs q-mb-md"},ml={class:"col-4"},vl={class:"q-mb-md"},gl={class:"text-body1 text-uppercase"},xl={class:"q-mb-md"},fl={class:"text-body1 text-uppercase"},yl={class:"q-mb-md"},_l={class:"text-body1 text-uppercase"},hl={class:"q-mb-md"},bl={class:"text-body1 text-capitalize"},wl={class:"text-body1 text-capitalize"},Vl={class:"q-mb-md"},Dl={class:"text-body1 text-capitalize"},$l={class:"col-8"},kl={class:"q-mb-md"},ql={class:"text-body1"},Sl={class:"q-mb-md"},Cl={class:"row q-col-gutter-lg q-mb-md"},zl={class:"text-body1"},Il={class:"text-body1"},Al={class:"text-body1"},El={class:"q-mb-md"},Pl={class:"text-body1"},Ul={key:1},Nl={class:"q-mb-md"},Yl={class:"text-body1 text-uppercase"},Tl={class:"q-mb-md"},Ml={class:"text-body1 text-uppercase"},Fl={class:"row q-col-gutter-lg q-mb-mb"},Rl={class:"q-mb-md"},jl={class:"text-body1 text-uppercase"},Ol={class:"q-mb-md"},Bl={class:"text-body1 text-uppercase"},Ll={class:"q-mb-md"},Ql={class:"text-body1 text-uppercase"},Hl={class:"q-mb-md"},Wl={class:"text-body1 text-uppercase"},Jl={class:"q-mb-md"},Gl={class:"text-body1 text-uppercase"},Xl={class:"row q-col-gutter-lg q-mb-mb"},Kl={class:"q-mb-md"},Zl={class:"text-body1 text-uppercase"},ei={class:"q-mb-md"},ti={class:"text-body1 text-uppercase"},ai={key:2},si={class:"card-grid"},oi={class:"text-caption text-uppercase"},li={class:"text-caption"},ii={class:"text-caption text-grey"},ni={key:3},ri={class:"card-grid"},di={class:"text-subtitle1 text-uppercase"},ui={class:"text-caption text-grey"},ci={key:4},pi={class:"card-grid"},mi={class:"text-subtitle1 text-uppercase"},vi={class:"text-caption text-uppercase"},gi={class:"text-caption text-grey"},xi={class:"text-caption text-grey"},fi={key:5},yi={class:"card-grid"},_i={class:"text-caption"},hi={class:"row q-col-gutter-sm"},bi={key:0},wi={key:1},Vi={class:"q-gutter-sm"},Di={class:"iframe-container"},$i=["src"],ki={__name:"ApplicationInfoDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue","saved"],setup(z,{emit:B}){const O=Le(),I=kt(),U=z,k=B,H=ae({get:()=>U.modelValue===U.dialogName,set:$=>{$||k("update:modelValue",null)}}),h=v("vacancy"),R=v(""),q=["Pooling","Shortlisted","Interview","Hired","Rejected","Withdrawn"],A=v(!1),D=v([]),T=async()=>{A.value=!0;try{const $=await le.get(`/application/${I.data?.id}/details`);D.value=$.data.data,R.value=D.value.status}catch($){console.error("Error fetching options:",$)}finally{A.value=!1}},j=()=>{T()},Q=async()=>{A.value=!0;try{const $=await le.post("/socket/application/update",{id:I.data?.id,status:R.value});k("saved"),k("update:modelValue",null),ie.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${$.data.message}<div>
            `})}catch{e.response&&e.response.data&&(w(e.response.data),ie.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{A.value=!1}},w=$=>{const n=Array.isArray($)?$:$?.errors||[];Object.keys(Errors).forEach(d=>{Errors[d].type=null,Errors[d].messages=[]}),n.forEach(d=>{Errors[d.path]!==void 0&&(Errors[d.path].type=!0,Errors[d.path].messages.push(d.msg))})},W=$=>{const n=`https://hris-ccmi.com${$.document}`;window.open(n,"_blank")},N=v(!1),M=v(null),x=async()=>{A.value=!0;try{const $=await le.get(`/application/${I.data?.id}/pdf`,{responseType:"arraybuffer"}),n=new Blob([$.data],{type:"application/pdf"}),d=window.URL.createObjectURL(n)+"#view=FitW";M.value=d,N.value=!0}catch($){console.error("Error generating PDF:",$)}finally{A.value=!1}};function b($,n="PHP"){if($==null||$==="")return"";const d=Number(String($).replace(/,/g,""));return isNaN(d)?"":d.toLocaleString("en-PH",{style:"currency",currency:n,minimumFractionDigits:2,maximumFractionDigits:2})}const E=$=>$?me($).format("MMMM Do, YYYY"):"",Z=$=>$?me($,"HH:mm").format("hh:mm A"):"",s=$=>{if(!Array.isArray($)||!$.length)return"N/A";const n=["","Mon","Tue","Wed","Thu","Fri","Sat","Sun"];return $.map(d=>Number(d.day_of_week)).filter(d=>d>=1&&d<=7).sort((d,p)=>d-p).map(d=>n[d]).join(", ")},de=$=>{if(!$)return"";const n=$.first_name||"",d=$.middle_name?$.middle_name.charAt(0).toUpperCase()+".":"",p=$.last_name||"",oe=$.suffix?` ${$.suffix}`:"";return`${n} ${d} ${p}${oe}`.trim()};return($,n)=>(c(),f(X,null,[a(ze,{modelValue:H.value,"onUpdate:modelValue":n[5]||(n[5]=d=>H.value=d),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:n[6]||(n[6]=d=>j())},{default:o(()=>[a(F,{class:"dialog-card column full-height"},{default:o(()=>[a(C,{class:"q-pa-lg"},{default:o(()=>n[8]||(n[8]=[t("div",{class:"text-h6 text-uppercase"},"application information",-1)])),_:1,__:[8]}),a(Oe,{inset:""}),a(C,{class:"col q-pa-lg scroll"},{default:o(()=>[a(dl,{unelevated:"",size:"xs",modelValue:h.value,"onUpdate:modelValue":n[0]||(n[0]=d=>h.value=d),"toggle-color":"primary",options:[{label:"vacancy information",value:"vacancy"},{label:"applicant information",value:"applicant"},{label:"education",value:"education"},{label:"experience",value:"experience"},{label:"training",value:"training"},{label:"document",value:"document"}]},null,8,["modelValue"]),t("div",ul,[h.value==="vacancy"?(c(),f("div",cl,[n[20]||(n[20]=t("div",{class:"text-subtitle2 text-uppercase text-bold q-mb-md"},"vacancy information",-1)),t("div",pl,[t("div",ml,[t("div",vl,[n[9]||(n[9]=t("div",{class:"text-caption text-uppercase text-grey"},"position",-1)),t("div",gl,u(D.value?.vacancy?.position?.name),1)]),t("div",xl,[n[10]||(n[10]=t("div",{class:"text-caption text-uppercase text-grey"},"salary",-1)),t("div",fl,u(b(D.value?.vacancy?.position?.salary_amount)),1)]),t("div",yl,[n[11]||(n[11]=t("div",{class:"text-caption text-uppercase text-grey"},"department",-1)),t("div",_l,u(D.value?.vacancy?.department?.name),1)]),t("div",hl,[n[12]||(n[12]=t("div",{class:"text-caption text-uppercase text-grey"},"shift",-1)),t("div",bl,u(D.value?.vacancy?.shift?.name)+" "+u(Z(D.value?.vacancy?.shift?.start_time))+" to "+u(Z(D.value?.vacancy?.shift?.end_time)),1),t("div",wl,u(s(D.value?.vacancy?.shift?.days)),1)]),t("div",Vl,[n[13]||(n[13]=t("div",{class:"text-caption text-uppercase text-grey"},"work location",-1)),t("div",Dl,u(D.value?.vacancy?.location),1)])]),t("div",$l,[t("div",kl,[n[14]||(n[14]=t("div",{class:"text-caption text-uppercase text-grey"},"job description",-1)),t("div",ql,u(D.value?.vacancy?.position?.description),1)]),t("div",Sl,[n[15]||(n[15]=t("div",{class:"text-caption text-uppercase text-grey"},"job qualifications",-1)),(c(!0),f(X,null,te(D.value?.vacancy?.position?.qualification,(d,p)=>(c(),f("div",{class:"text-body1",key:p},u(p+1)+". "+u(d||"N/A"),1))),128))])])]),t("div",Cl,[t("div",null,[n[16]||(n[16]=t("div",{class:"text-caption text-uppercase text-grey"},"date needed",-1)),t("div",zl,u(E(D.value?.vacancy?.date_needed)),1)]),t("div",null,[n[17]||(n[17]=t("div",{class:"text-caption text-uppercase text-grey"},"need background check",-1)),t("div",Il,u(D.value?.vacancy?.need_background_check?"Yes":"No"),1)]),t("div",null,[n[18]||(n[18]=t("div",{class:"text-caption text-uppercase text-grey"},"movement",-1)),t("div",Al,u(D.value?.vacancy?.movement),1)])]),t("div",El,[n[19]||(n[19]=t("div",{class:"text-caption text-uppercase text-grey"},"justification",-1)),t("div",Pl,u(D.value?.vacancy?.justification),1)])])):S("",!0),h.value==="applicant"?(c(),f("div",Ul,[n[30]||(n[30]=t("div",{class:"text-subtitle2 text-uppercase text-bold q-mb-md"},"applicant information",-1)),t("div",Nl,[n[21]||(n[21]=t("div",{class:"text-caption text-uppercase text-grey"},"name",-1)),t("div",Yl,u(de(D.value)),1)]),t("div",Tl,[n[22]||(n[22]=t("div",{class:"text-caption text-uppercase text-grey"},"status",-1)),t("div",Ml,u(D.value?.status),1)]),t("div",Fl,[t("div",Rl,[n[23]||(n[23]=t("div",{class:"text-caption text-uppercase text-grey"},"sex",-1)),t("div",jl,u(D.value?.sex),1)]),t("div",Ol,[n[24]||(n[24]=t("div",{class:"text-caption text-uppercase text-grey"},"marital status",-1)),t("div",Bl,u(D.value?.civil_status),1)]),t("div",Ll,[n[25]||(n[25]=t("div",{class:"text-caption text-uppercase text-grey"},"bithdate",-1)),t("div",Ql,u(D.value?.birthdate),1)]),t("div",Hl,[n[26]||(n[26]=t("div",{class:"text-caption text-uppercase text-grey"},"birthplace",-1)),t("div",Wl,u(D.value?.birthplace),1)])]),t("div",Jl,[n[27]||(n[27]=t("div",{class:"text-caption text-uppercase text-grey"},"address",-1)),t("div",Gl,u(D.value?.address),1)]),t("div",Xl,[t("div",Kl,[n[28]||(n[28]=t("div",{class:"text-caption text-uppercase text-grey"},"email",-1)),t("div",Zl,u(D.value?.email),1)]),t("div",ei,[n[29]||(n[29]=t("div",{class:"text-caption text-uppercase text-grey"},"contact number",-1)),t("div",ti,u(D.value?.contact_number),1)])])])):S("",!0),h.value==="education"?(c(),f("div",ai,[n[31]||(n[31]=t("div",{class:"text-subtitle2 text-uppercase text-bold q-mb-sm"},"educational attainment",-1)),t("div",si,[(c(!0),f(X,null,te(D.value?.educations,(d,p)=>(c(),f("div",{key:`data-${d.id}`,class:"inner-card-anim-wrapper",style:ye({animationDelay:`${p*120}ms`})},[a(F,{class:"card card-hover-animate flex flex-center no-shadow cursor-pointer radius-sm q-mr-sm q-mb-sm"},{default:o(()=>[a(C,{class:"text-center full-width"},{default:o(()=>[t("div",oi,u(d?.course?.name),1)]),_:2},1024),a(C,{class:"text-center full-width"},{default:o(()=>[t("div",li,u(d?.school_level),1),t("div",ii,u(d?.start_date)+" to "+u(d?.end_date),1)]),_:2},1024)]),_:2},1024)],4))),128))])])):S("",!0),h.value==="experience"?(c(),f("div",ni,[n[32]||(n[32]=t("div",{class:"text-subtitle2 text-uppercase text-bold q-mb-sm"},"work experiences",-1)),t("div",ri,[(c(!0),f(X,null,te(D.value?.experiences,(d,p)=>(c(),f("div",{key:`data-${d.id}`,class:"inner-card-anim-wrapper",style:ye({animationDelay:`${p*120}ms`})},[a(F,{class:"card card-hover-animate flex flex-center no-shadow cursor-pointer radius-sm q-mr-sm q-mb-sm"},{default:o(()=>[a(C,{class:"text-center full-width"},{default:o(()=>[t("div",di,u(d?.position),1)]),_:2},1024),a(C,{class:"text-center full-width"},{default:o(()=>[t("div",ui,u(d?.start_date)+" to "+u(d?.end_date),1)]),_:2},1024)]),_:2},1024)],4))),128))])])):S("",!0),h.value==="training"?(c(),f("div",ci,[n[33]||(n[33]=t("div",{class:"text-subtitle2 text-uppercase text-bold q-mb-sm"},"trainings",-1)),t("div",pi,[(c(!0),f(X,null,te(D.value?.trainings,(d,p)=>(c(),f("div",{key:`data-${d.id}`,class:"inner-card-anim-wrapper",style:ye({animationDelay:`${p*120}ms`})},[a(F,{class:"card card-hover-animate flex flex-center no-shadow cursor-pointer radius-sm q-mr-sm q-mb-sm"},{default:o(()=>[a(C,{class:"text-center full-width"},{default:o(()=>[t("div",mi,u(d?.title),1),t("div",vi,u(d?.type),1)]),_:2},1024),a(C,{class:"text-center full-width"},{default:o(()=>[t("div",gi,u(d?.start_date)+" to "+u(d?.end_date),1),t("div",xi,u(d?.hour)+"hr/s",1)]),_:2},1024)]),_:2},1024)],4))),128))])])):S("",!0),h.value==="document"?(c(),f("div",fi,[n[34]||(n[34]=t("div",{class:"text-subtitle2 text-uppercase text-bold q-mb-sm"},"documents uploaded",-1)),t("div",yi,[(c(!0),f(X,null,te(D.value?.documents,(d,p)=>(c(),f("div",{key:`data-${d.id}`,class:"inner-card-anim-wrapper",style:ye({animationDelay:`${p*120}ms`})},[a(F,{class:"card card-hover-animate flex flex-center no-shadow cursor-pointer radius-sm q-mr-sm q-mb-sm",onClick:()=>{W(d)}},{default:o(()=>[a(C,{class:"text-center"},{default:o(()=>[t("div",_i,u(d?.filename),1)]),_:2},1024)]),_:2},1032,["onClick"])],4))),128))])])):S("",!0)])]),_:1}),a(we,{class:"q-pa-lg bg"},{default:o(()=>[t("div",hi,[D.value?.status!=="Hired"&&D.value?.status!=="Rejected"&&D.value?.status!=="Withdrawn"&&K(O).hasRole(["SuperAdmin","Admin","HR"])&&K(I).data?.vacancy?.status==="Approved"?(c(),f("div",bi,[a(Se,{outlined:"",modelValue:R.value,"onUpdate:modelValue":n[1]||(n[1]=d=>R.value=d),"input-debounce":"300","use-input":"",options:q,"hide-dropdown-icon":"","no-error-icon":!0,dense:""},null,8,["modelValue"])])):S("",!0),D.value?.status!=="Hired"&&D.value?.status!=="Rejected"&&D.value?.status!=="Withdrawn"&&K(O).hasRole(["SuperAdmin","Admin","HR"])&&K(I).data?.vacancy?.status==="Approved"?(c(),f("div",wi,[a(Y,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"update"},{default:o(()=>[a(rt,{"transition-show":"jump-up","transition-hide":"jump-down",offset:[0,15],class:"radius-sm",style:{"box-shadow":"rgba(0, 0, 0, 0.09) 0px 3px 12px"}},{default:o(()=>[a(F,{class:"no-shadow radius-sm q-pa-lg",style:{width:"300px"}},{default:o(()=>[a(C,null,{default:o(()=>n[35]||(n[35]=[t("div",{class:"text-h6 text-center text-uppercase"}," proceed to update status ",-1)])),_:1,__:[35]}),a(we,null,{default:o(()=>[a(Y,{unelevated:"",size:"md",color:"primary",class:"full-width text-capitalize",label:"proceed",onClick:n[2]||(n[2]=()=>{Q()})})]),_:1})]),_:1})]),_:1})]),_:1})])):S("",!0),t("div",Vi,[a(Y,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"print",onClick:n[3]||(n[3]=()=>{x()})}),a(Y,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:n[4]||(n[4]=()=>{k("update:modelValue",null)}),outline:""})])])]),_:1}),a(Qe,{showing:A.value},{default:o(()=>[a(F,{class:"no-shadow radius-md q-pa-md"},{default:o(()=>[a(C,{class:"text-center"},{default:o(()=>[t("div",null,[a(he,{color:"dark"})]),n[36]||(n[36]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[36]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]),a(ze,{modelValue:N.value,"onUpdate:modelValue":n[7]||(n[7]=d=>N.value=d),"full-height":"","full-width":"",class:"pdf"},{default:o(()=>[a(F,{class:"bg-white q-pa-none",style:{height:"100vh",overflow:"hidden"}},{default:o(()=>[Ie(a(Y,{icon:"close",class:"fixed bg-white text-primary shadow-2",round:"",dense:"",style:{top:"15px",right:"15px","z-index":"999"}},null,512),[[$t]]),a(C,{class:"q-pa-none",style:{height:"100%",overflow:"hidden"}},{default:o(()=>[t("div",Di,[M.value?(c(),f("iframe",{key:0,src:M.value,frameborder:"0"},null,8,$i)):S("",!0)])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},qi=Ve(ki,[["__scopeId","data-v-86c4c890"]]),Si={class:"card-grid"},Ci={key:0,class:"card-anim-wrapper"},zi={key:1,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},Ii={key:2,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},Ai={class:"text-subtitle2 text-uppercase"},Ei={class:"text-caption text-uppercase"},Pi={class:"text-caption text-grey"},Ui={class:"text-caption text-uppercase"},Ni={class:"text-caption text-grey"},Yi={class:"text-caption text-uppercase"},Ti={id:"glass-overlay"},Mi={__name:"ApplicationComponent",setup(z){const B=Le(),O=kt(),I=v([]),U=v({}),k=v(1),H=v(10),h=v(!1),R=v(""),q=async()=>{h.value=!0;try{const{data:x}=await le.get("/application",{params:{Page:k.value,Limit:H.value,Filter:R.value||""}});I.value=x.data,U.value=x.meta}catch(x){console.error("Error fetching all data:",x),ie.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{h.value=!1}};xt(R,()=>{k.value=1,q()});const A=()=>{k.value<U.value.TotalPages&&(k.value++,q())},D=()=>{k.value>1&&(k.value--,q())},T=()=>{k.value>1&&(k.value=1,q())},j=()=>{k.value<U.value.TotalPages&&(k.value=U.value.TotalPages,q())},Q=x=>x?me(x).format("MMMM Do, YYYY"):"",w=x=>{if(!x)return"";const b=x.first_name||"",E=x.middle_name?x.middle_name.charAt(0).toUpperCase()+".":"",Z=x.last_name||"",s=x.suffix?` ${x.suffix}`:"";return`${b} ${E} ${Z}${s}`.trim()};ft(()=>{q()});const W=v(null),N=x=>{W.value=x},M=v(!0);return yt(()=>{setTimeout(()=>{M.value=!1},1e3)}),(x,b)=>(c(),f("div",null,[t("div",Si,[K(B).hasRole(["SuperAdmin","Admin","HR"])?(c(),f("div",Ci,[Ie((c(),G(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm",onClick:b[0]||(b[0]=()=>{N("ApplicationDialog")})},{default:o(()=>[a(C,null,{default:o(()=>[a(Ce,{name:"bi-plus-circle",color:"grey",size:"xl"})]),_:1})]),_:1})),[[_t]])])):S("",!0),h.value?(c(),f("div",zi,[a(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:o(()=>[a(C,null,{default:o(()=>[a(he,{color:"dark"}),b[6]||(b[6]=t("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))]),_:1,__:[6]})]),_:1})])):!h.value&&I.value.length===0?(c(),f("div",Ii,[a(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:o(()=>[a(C,null,{default:o(()=>b[7]||(b[7]=[t("div",{class:"text-caption text-uppercase text-grey"},"no data found",-1)])),_:1,__:[7]})]),_:1})])):(c(!0),f(X,{key:3},te(I.value,(E,Z)=>(c(),f("div",{key:`data-${E.id}`,class:"card-anim-wrapper",style:ye({animationDelay:`${Z*120}ms`})},[a(F,{onClick:()=>{N("ApplicationInfoDialog"),K(O).data=E},class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:o(()=>[a(C,null,{default:o(()=>[t("div",Ai,u(w(E)),1),t("div",Ei,u(E?.vacancy?.position?.name),1),t("div",Pi,u(E?.vacancy?.salary_range),1)]),_:2},1024),a(C,null,{default:o(()=>[t("div",Ui,u(E?.status),1),t("div",Ni,u(Q(E?.createdAt)),1)]),_:2},1024)]),_:2},1032,["onClick"])],4))),128))]),a(nl,{modelValue:W.value,"onUpdate:modelValue":b[1]||(b[1]=E=>W.value=E),"dialog-name":"ApplicationDialog",onSaved:b[2]||(b[2]=()=>{q()})},null,8,["modelValue"]),a(qi,{modelValue:W.value,"onUpdate:modelValue":b[3]||(b[3]=E=>W.value=E),"dialog-name":"ApplicationInfoDialog",onSaved:b[4]||(b[4]=()=>{q()})},null,8,["modelValue"]),a(Dt,{class:"bg-white no-shadow q-mx-lg q-mb-md q-py-sm radius-xs text-grey"},{default:o(()=>[a(wt,null,{default:o(()=>[a(Vt,{class:"text-caption text-uppercase"},{default:o(()=>b[8]||(b[8]=[t("div",null,"Â© 2025 WORKFORCE. All Rights Reserved.",-1)])),_:1,__:[8]}),a(L,{outlined:"",dense:"",debounce:"1000",modelValue:R.value,"onUpdate:modelValue":b[5]||(b[5]=E=>R.value=E),placeholder:"Search..."},{before:o(()=>[t("div",Yi,u(`page ${U.value.CurrentPage} of ${U.value.TotalPages}`),1)]),after:o(()=>[a(Y,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-bar-left",disable:k.value<=1,onClick:T},{default:o(()=>[a(_e,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:o(()=>b[9]||(b[9]=[se("First Page")])),_:1,__:[9]})]),_:1},8,["disable"]),a(Y,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-left-short",disable:k.value<=1,onClick:D},{default:o(()=>[a(_e,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:o(()=>b[10]||(b[10]=[se("Previous")])),_:1,__:[10]})]),_:1},8,["disable"]),a(Y,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-right-short",disable:k.value>=U.value.TotalPages,onClick:A},{default:o(()=>[a(_e,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:o(()=>b[11]||(b[11]=[se("Next")])),_:1,__:[11]})]),_:1},8,["disable"]),a(Y,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-bar-right",disable:k.value>=U.value.TotalPages,onClick:j},{default:o(()=>[a(_e,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:o(()=>b[12]||(b[12]=[se("Last Page")])),_:1,__:[12]})]),_:1},8,["disable"])]),prepend:o(()=>[a(Ce,{name:"bi-search",style:{"font-size":"1rem"}})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(Be,{name:"glass-fade"},{default:o(()=>[Ie(t("div",Ti,[a(F,{class:"no-shadow radius-md q-pa-md"},{default:o(()=>[a(C,{class:"text-center"},{default:o(()=>[t("div",null,[a(he,{color:"dark"})]),b[13]||(b[13]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[13]})]),_:1})],512),[[ht,M.value]])]),_:1})]))}},Fi=Ve(Mi,[["__scopeId","data-v-1b30b561"]]),Ri={class:"q-gutter-xs"},ji={class:"q-mt-md"},Oi={__name:"RecruitmentPage",setup(z){const B=Ue(),O={RequisitionComponent:Ys,ApplicationComponent:Fi},I=[{component:"RequisitionComponent",label:"vacancy"},{component:"ApplicationComponent",label:"application"}];return(U,k)=>(c(),f("div",null,[a(F,{class:"no-shadow radius-xs"},{default:o(()=>[a(C,null,{default:o(()=>[t("div",Ri,[(c(),f(X,null,te(I,(H,h)=>a(Y,{unelevated:"",class:P(K(B).component===`${H.component}`?"bg-primary text-white":"bg-accent"),onClick:R=>K(B).component=`${H.component}`,size:"xs",label:H.label},null,8,["class","onClick","label"])),64))])]),_:1})]),_:1}),t("div",ji,[(c(),G(ea(O[K(B).component]),{key:K(B).component}))])]))}},an=Ve(Oi,[["__scopeId","data-v-74c0737e"]]);export{an as default};
