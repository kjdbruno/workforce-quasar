import{X as Ue,b as ae,r as v,O as vt,_ as X,$ as c,a0 as o,a2 as a,a9 as F,ab as S,a4 as t,ac as Be,an as Oe,aa as f,a1 as q,af as P,a7 as d,ad as K,ae as te,ao as fe,as as he,ak as L,a3 as Z,at as Qt,au as Ht,a6 as se,ap as gt,ar as be,a5 as N,a8 as Se,ah as Ce,aq as oe,T as Le,j as ze,w as xt,Y as ft,n as yt,ag as _t,am as ht,av as je,I as $e,c as bt,h as nt,d as Wt,aA as Jt,aB as Gt,aC as Xt,B as Kt,aw as Zt}from"./index-Cu1pZszk.js";import{Q as Qe,a as _e}from"./QInnerLoading-CQz1IH3N.js";import{a as wt,b as Dt}from"./QResizeObserver-DDDdqUEf.js";import{Q as ye,a as Vt}from"./QFooter-QtDD_AzG.js";import{T as le}from"./sweetalert-Cvt3LSDQ.js";import{h as me,Q as rt}from"./moment-BaBDi5-X.js";import{Q as ge}from"./QDate-Cit8v-bY.js";import{Q as xe,C as $t}from"./ClosePopup-CUx4_UpO.js";import{Q as ce,a as pe,b as ke}from"./QItem-BtizK5NA.js";import{Q as qe}from"./QSelect-BVmFv4Ec.js";import{_ as we}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{u as kt}from"./application-store-CGqZn6pH.js";import{Q as ea}from"./QFile-BigaCEAk.js";import"./format-CoaQEihs.js";const ta={key:0},aa={class:"row q-col-gutter-xs"},sa={class:"col-8"},oa={class:"card-grid"},la={class:"inner-card-anim-wrapper",style:{animationDelay:"100ms"}},ia={class:"text-caption text-dark text-uppercase"},na={class:"absolute-left"},ra={class:"col-4"},da={key:0},ua={class:"q-mb-md"},ca={class:"text-caption"},pa={class:"q-mb-md"},ma={class:"text-caption"},va={class:"q-mb-md"},ga={class:"text-caption"},xa={key:1},fa={key:1},ya={class:"q-mb-md"},_a={class:"q-gutter-sm"},ha={class:"row q-col-gutter-xs q-mb-md"},ba={class:"col-2"},wa={class:"col-2"},Da={class:"row q-col-gutter-xs q-mb-md"},Va={class:"col-4"},$a={class:"q-mb-md"},ka={class:"q-mb-md"},qa={class:"q-gutter-sm"},Sa={class:"row q-col-gutter-xs"},Ca={class:"col-4"},za={class:"row q-gutter-sm"},Ia={class:"text-caption text-uppercase text-grey"},pt=2,Aa={__name:"VacancyDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(z,{emit:O}){Ue();const B=z,A=O,U=ae({get:()=>B.modelValue===B.dialogName,set:_=>{_||A("update:modelValue",null)}}),$=()=>{re(),Ne(),We()},H=v(!1),h=v(""),R=v(""),k=v(new Date().toISOString().split("T")[0]),C=v(""),V=v(""),Y=v(""),j=v(""),Q=v(!1),w=vt({position:{type:null,msg:""},shiftId:{type:null,msg:""},employmentStatus:{type:null,msg:""},date:{type:null,msg:""},location:{type:null,msg:""},movement:{type:null,msg:""},justification:{type:null,msg:""}}),W=()=>le.fire({icon:"error",html:`
        <div class="text-h6 text-bold text-uppercase">Request Failed</div>
        <div class="text-caption">Something went wrong.</div>
        `}),E=(_,m="required")=>(w[_].type=!0,w[_].msg=m,!0),T=_=>(w[_].type=null,w[_].msg="",!1),x=(_,m)=>m?T(_):E(_,"required"),b=(_,m=3)=>{if(!_)return!0;const D=me(_).startOf("day"),ee=me().add(m,"days").startOf("day");return D.isBefore(ee)},M=()=>{let _=!1;return _||=x("position",h.value),_&&W(),!_},J=()=>{let _=!1;return _||=x("employmentStatus",V.value),_||=x("date",k.value),k.value&&b(k.value,3)?_||=E("date","invalid"):k.value&&T("date"),_||=x("shiftId",R.value),_||=x("location",C.value),_||=x("movement",Y.value),_||=x("justification",j.value),_&&W(),!_},s=v([]),re=()=>{h.value="",R.value="",k.value=new Date().toISOString().split("T")[0],C.value="",Y.value="",j.value="",Q.value=!1,V.value="",s.value=[],ie.value=0,p()},p=()=>Object.values(w).forEach(_=>{_.type=null,_.msg=null}),l=async()=>{if(!(J&&!J())){H.value=!0;try{const _=await oe.post("/socket/vacancy/create",{positionId:h.value.id,shiftId:R.value,date:k.value,location:C.value,movement:Y.value,justification:j.value,needBackgroundCheck:Q.value,employmentStatus:V.value});A("saved"),A("update:modelValue",null),le.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${_.data.message}<div>
            `})}catch(_){console.error(_.response?.data?.error),_.response&&_.response.data&&(u(_.response.data),le.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">${_.response?.data?.error}</div>
                `}))}finally{H.value=!1}}},u=_=>{const m=Array.isArray(_)?_:_?.errors||[];Object.keys(w).forEach(D=>{w[D].type=null,w[D].messages=[]}),m.forEach(D=>{w[D.path]!==void 0&&(w[D.path].type=!0,w[D.path].messages.push(D.msg))})},I=v(["Regular","Probationary","Contractual","Temporary","Intern"]),de=v([]),ue=v([]),Ie=v([]),He=((_,m)=>(D,ee)=>{if(D===""){ee(()=>{m.value=_.value});return}ee(()=>{const ne=D.toLowerCase();m.value=_.value.filter(Ve=>Ve.label.toLowerCase().includes(ne))})})(ue,Ie),We=async()=>{try{const{data:_}=await oe.get("/recruitment/option/shift");ue.value=(_||[]).map(m=>({label:m.label??m.name??String(m.text??m.value??""),value:Number(m.value??m.id)})),Ie.value=[...ue.value]}catch(_){console.error("Error fetching options:",_)}},Ne=async()=>{try{const _=await oe.get("/recruitment/option/position");de.value=_.data}catch(_){console.error("Error fetching options:",_)}},Ae=v(""),Ye=ae(()=>{const _=Ae.value.trim().toLowerCase();return _?de.value.filter(m=>String(m.label||"").toLowerCase().includes(_)):de.value}),De=ae(()=>Ye.value),Je=ae(()=>De.value.length),Ee=ae(()=>Ye.value.length),ie=v(0),Ge=[M],Xe=()=>{const _=Ge[ie.value];_&&!_()||ie.value++},Te=()=>{ie.value>0&&ie.value--},Me=_=>{if(!_)return"";const D=String(_).replace(/[^\d.,\- ]/g,"").split("-").map(ve=>ve.trim()).slice(0,2),ee=ve=>{if(!ve)return"";const Re=Number(ve.replace(/,/g,""));return isNaN(Re)?"":Ke.format(Re)},ne=ee(D[0]),Ve=D[1]?ee(D[1]):"";return Ve?`${ne} - ${Ve}`:ne},Ke=new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}),Fe=_=>{const m=_.time_start,D=_.time_end;if(!m&&!D)return"";const ee=m?me(m,"HH:mm:ss").format("h:mm A"):"",ne=D?me(D,"HH:mm:ss").format("h:mm A"):"";return ee&&ne?`${ee} to ${ne}`:ee||ne||""},Pe=v(null);return(_,m)=>(c(),X(Ce,{modelValue:U.value,"onUpdate:modelValue":m[17]||(m[17]=D=>U.value=D),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:m[18]||(m[18]=D=>$())},{default:o(()=>[a(F,{class:"dialog-card column full-height"},{default:o(()=>[a(S,{class:"q-pa-lg"},{default:o(()=>m[19]||(m[19]=[t("div",{class:"text-h6 text-uppercase"},"create recruitment",-1)])),_:1,__:[19]}),a(Be,{inset:""}),a(S,{class:"col q-pa-lg scroll"},{default:o(()=>[a(Oe,{name:"fade-slide",mode:"out-in"},{default:o(()=>[(c(),f("div",{key:ie.value},[ie.value===0?(c(),f("div",ta,[t("div",aa,[t("div",sa,[t("div",{class:P(["text-caption text-uppercase q-mb-sm",w.position.type?"text-negative text-italic":"text-grey"])},d(w.position.type?w.position.msg:"position"),3),t("div",oa,[t("div",la,[De.value.length?q("",!0):(c(),X(F,{key:0,class:"card card-menu custom-border card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:o(()=>[a(S,{class:"text-center"},{default:o(()=>m[20]||(m[20]=[t("div",{class:"text-caption text-dark text-uppercase"},"no record found",-1)])),_:1,__:[20]})]),_:1}))]),De.value.length?(c(!0),f(K,{key:0},te(De.value,(D,ee)=>(c(),f("div",{key:`data-${D.id}`,class:"inner-card-anim-wrapper",style:fe({animationDelay:`${ee*100}ms`})},[a(F,{onClick:()=>{h.value=D},class:P(["card card-menu card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm",{"card--active":h.value===D}])},{default:o(()=>[a(S,{class:"text-center"},{default:o(()=>[t("div",ia,d(D.label),1)]),_:2},1024),t("div",na,[a(he,{modelValue:h.value,"onUpdate:modelValue":m[0]||(m[0]=ne=>h.value=ne),val:D,"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",size:"xs"},null,8,["modelValue","val"])])]),_:2},1032,["onClick","class"])],4))),128)):q("",!0)])]),t("div",ra,[h.value?(c(),f("div",da,[t("div",ua,[m[21]||(m[21]=t("div",{class:"text-caption text-uppercase text-grey"},"salary range",-1)),t("div",ca,d(Me(h.value?.amount)||"N/A"),1)]),t("div",pa,[m[22]||(m[22]=t("div",{class:"text-caption text-uppercase text-grey"},"job description",-1)),t("div",ma,d(h.value?.description||"N/A"),1)]),t("div",va,[m[23]||(m[23]=t("div",{class:"text-caption text-uppercase text-grey"},"job qualification",-1)),t("div",ga,[Array.isArray(h.value?.qualification)&&h.value?.qualification.length?(c(!0),f(K,{key:0},te(h.value?.qualification,(D,ee)=>(c(),f("div",{key:ee},d(ee+1)+". "+d(D),1))),128)):(c(),f("div",xa," N/A "))])])])):q("",!0)])])])):q("",!0),ie.value===1?(c(),f("div",fa,[t("div",ya,[t("div",{class:P(["text-caption text-uppercase",w.employmentStatus.type?"text-negative text-italic":"text-grey"])},d(w.employmentStatus.type?w.employmentStatus.msg:"employment status"),3),t("div",_a,[(c(!0),f(K,null,te(I.value,D=>(c(),X(he,{modelValue:V.value,"onUpdate:modelValue":m[1]||(m[1]=ee=>V.value=ee),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:D,label:D},null,8,["modelValue","val","label"]))),256))])]),t("div",ha,[t("div",ba,[t("div",{class:P(["text-caption text-uppercase",w.date.type?"text-negative text-italic":"text-grey"])},d(w.date.type?w.date.msg:"date needed (YYYY-MM-DD)"),3),a(L,{outlined:"",modelValue:k.value,"onUpdate:modelValue":m[4]||(m[4]=D=>k.value=D),label:"Enter Date",error:w.date.type,"no-error-icon":!0},{default:o(()=>[a(xe,{cover:"","transition-show":"scale","transition-hide":"scale",ref_key:"popup",ref:Pe,class:"no-shadow custom-border radius-sm"},{default:o(()=>[a(ge,{modelValue:k.value,"onUpdate:modelValue":[m[2]||(m[2]=D=>k.value=D),m[3]||(m[3]=()=>{Pe.value.hide()})],mask:"YYYY-MM-DD"},null,8,["modelValue"])]),_:1},512)]),_:1},8,["modelValue","error"])]),t("div",wa,[t("div",{class:P(["text-caption text-uppercase",w.shiftId.type?"text-negative text-italic":"text-grey"])},d(w.shiftId.type?w.shiftId.msg:"Shift"),3),a(qe,{outlined:"",modelValue:R.value,"onUpdate:modelValue":m[5]||(m[5]=D=>R.value=D),label:"Choose Shift","emit-value":"","map-options":"","use-input":"","input-debounce":"300",options:Ie.value,onFilter:Z(He),error:w.shiftId.type,"hide-dropdown-icon":"","no-error-icon":!0,class:"text-capitalize"},{"no-option":o(()=>[a(ce,null,{default:o(()=>[a(pe,{class:"text-italic text-grey"},{default:o(()=>m[24]||(m[24]=[se(" No options ")])),_:1,__:[24]})]),_:1})]),option:o(D=>[a(ce,Qt(Ht(D.itemProps)),{default:o(()=>[a(pe,null,{default:o(()=>[a(ke,null,{default:o(()=>[se(d(_.$CapitalizeWords(D.opt.label)),1)]),_:2},1024),a(ke,{caption:""},{default:o(()=>[se(d(Fe(D.opt)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","onFilter","error"])])]),t("div",Da,[t("div",Va,[t("div",{class:P(["text-caption text-uppercase",w.location.type?"text-negative text-italic":"text-grey"])},d(w.location.type?w.location.msg:"location"),3),a(L,{modelValue:C.value,"onUpdate:modelValue":m[6]||(m[6]=D=>C.value=D),label:"Enter Location",outlined:"",error:w.location.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])])]),t("div",$a,[m[25]||(m[25]=t("div",{class:"text-caption text-uppercase text-grey"},"background check",-1)),a(gt,{"right-label":"",modelValue:Q.value,"onUpdate:modelValue":m[7]||(m[7]=D=>Q.value=D),label:"need background check?","checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",class:"text-uppercase"},null,8,["modelValue"])]),t("div",ka,[t("div",{class:P(["text-caption text-uppercase",w.movement.type?"text-negative text-italic":"text-grey"])},d(w.movement.type?w.movement.msg:"movement"),3),t("div",qa,[a(he,{modelValue:Y.value,"onUpdate:modelValue":m[8]||(m[8]=D=>Y.value=D),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:"Addition",label:"addition to department",class:"text-uppercase"},null,8,["modelValue"]),a(he,{modelValue:Y.value,"onUpdate:modelValue":m[9]||(m[9]=D=>Y.value=D),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:"Replacement",label:"replacement",class:"text-uppercase"},null,8,["modelValue"])])]),t("div",Sa,[t("div",Ca,[t("div",{class:P(["text-caption text-uppercase",w.justification.type?"text-negative text-italic":"text-grey"])},d(w.justification.type?w.justification.msg:"justification"),3),a(L,{modelValue:j.value,"onUpdate:modelValue":m[10]||(m[10]=D=>j.value=D),label:"Enter Justification",outlined:"",error:w.justification.type,"no-error-icon":!0,type:"textarea"},null,8,["modelValue","error"])])])])):q("",!0)]))]),_:1})]),_:1}),a(be,{class:"q-pa-lg bg"},{default:o(()=>[t("div",za,[ie.value>0?(c(),X(N,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"previous",onClick:m[11]||(m[11]=()=>{Te()})})):q("",!0),ie.value<pt-1?(c(),X(N,{key:1,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"next",onClick:m[12]||(m[12]=()=>{Xe()})})):q("",!0),ie.value===pt-1?(c(),X(N,{key:2,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:m[13]||(m[13]=()=>{l()})})):q("",!0),a(N,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"clear",onClick:m[14]||(m[14]=()=>{re(),p()})}),a(N,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:m[15]||(m[15]=()=>{A("update:modelValue",null)}),outline:""}),ie.value===0?(c(),X(L,{key:3,outlined:"",dense:"",debounce:"1000",modelValue:Ae.value,"onUpdate:modelValue":m[16]||(m[16]=D=>Ae.value=D),placeholder:"Search..."},{prepend:o(()=>[a(Se,{name:"bi-search",style:{"font-size":"1rem"}})]),after:o(()=>[t("div",Ia,d(Je.value)+" of "+d(Ee.value),1)]),_:1},8,["modelValue"])):q("",!0)])]),_:1}),a(Qe,{showing:H.value},{default:o(()=>[a(F,{class:"no-shadow radius-md q-pa-md"},{default:o(()=>[a(S,{class:"text-center"},{default:o(()=>[t("div",null,[a(_e,{color:"dark"})]),m[26]||(m[26]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[26]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},Ea=we(Aa,[["__scopeId","data-v-d82e3de3"]]),Pa={class:"q-mb-md"},Ua={class:"text-body1 text-uppercase"},Na={class:"q-mb-md"},Ya={class:"text-body1 text-uppercase"},Ta={class:"q-mb-md"},Ma={class:"text-body1 text-uppercase"},Fa={class:"q-mb-md"},Ra={class:"text-body1"},ja={class:"q-mb-md"},Ba={class:"row q-col-gutter-lg q-mb-md"},Oa={class:"text-body1 text-capitalize"},La={class:"text-body1 text-capitalize"},Qa={class:"text-body1 text-capitalize"},Ha={class:"row q-col-gutter-lg q-mb-md"},Wa={class:"text-body1 text-capitalize"},Ja={class:"text-body1 text-capitalize"},Ga={class:"q-mb-md"},Xa={class:"text-body1 text-capitalize"},Ka={class:"row q-col-gutter-lg q-mb-md"},Za={class:"text-body1 text-capitalize"},es={class:"text-body1"},ts={class:"row q-col-gutter-xl q-mb-md q-mt-xl"},as={class:"text-caption text-uppercase text-grey"},ss={key:0},os={class:"text-h6 text-uppercase"},ls={class:"text-body1 text-uppercase text-italic"},is={key:1},ns={key:0},rs={class:"text-grey q-mb-lg"},ds={class:"text-h6 text-uppercase"},us={class:"text-body1 text-uppercase text-italic"},cs=["src"],ps={class:"text-h6 text-uppercase"},ms={class:"text-body1 text-uppercase text-italic"},vs={class:"text-caption text-uppercase text-italic"},gs={key:1},xs=["src"],fs={class:"text-h6 text-uppercase"},ys={class:"text-body1 text-uppercase text-italic"},_s={class:"text-caption text-uppercase text-italic"},hs={key:2,class:"q-mt-md"},bs={class:"q-gutter-sm"},ws={class:"iframe-container"},Ds=["src"],Vs={__name:"VacancyInfoDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(z,{emit:O}){const B=Le(),A=Ue(),U=z,$=O,H=ae({get:()=>U.modelValue===U.dialogName,set:p=>{p||$("update:modelValue",null)}}),h=v(null),R=()=>{C()},k=v(!1),C=async()=>{k.value=!0;try{const p=await oe.get(`/recruitment/${A.data?.id}`);h.value=p.data.data}catch(p){console.error("Error fetching all data:",p),le.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{k.value=!1}},V=ae(()=>{if(!h.value?.approvals||h.value.approvals.length===0)return!1;const l=[...h.value.approvals].sort((u,I)=>u.order-I.order).find(u=>u.status==="Pending");return l?l.approver_id===B.user?.id:!1}),Y=async p=>{k.value=!0;const l=Number(B.user.id),de=h.value.approvals.find(ue=>Number(ue?.approver_id)===Number(l))?.id??null;try{const ue=await oe.post("socket/vacancy/approve",{id:p,approvalid:de});le.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${ue.data.message}<div>
            `}),$("saved"),$("update:modelValue",null)}catch{e.response&&e.response.data&&(T(e.response.data),le.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{k.value=!1}},j=(p,l="PHP")=>{if(p==null||p==="")return"N/A";const u=Number(String(p).replace(/,/g,""));return isNaN(u)?"N/A":u.toLocaleString("en-PH",{style:"currency",currency:l,minimumFractionDigits:2})},Q=p=>p?me(p).format("MMMM Do, YYYY"):"",w=p=>p?me(p,"HH:mm").format("hh:mm A"):"",W=p=>p?me(p).format("MMMM Do, YYYY hh:mm A"):"",E=p=>{if(!Array.isArray(p)||!p.length)return"N/A";const l=["","Mon","Tue","Wed","Thu","Fri","Sat","Sun"];return p.map(u=>Number(u.day_of_week)).filter(u=>u>=1&&u<=7).sort((u,I)=>u-I).map(u=>l[u]).join(", ")},T=p=>{const l=Array.isArray(p)?p:p?.errors||[];Object.keys(Errors).forEach(u=>{Errors[u].type=null,Errors[u].messages=[]}),l.forEach(u=>{Errors[u.path]!==void 0&&(Errors[u.path].type=!0,Errors[u.path].messages.push(u.msg))})},x=v(!1),b=v(null),M=async p=>{k.value=!0;try{const l=await oe.get(`/recruitment/${p}/pdf`,{responseType:"arraybuffer"}),u=new Blob([l.data],{type:"application/pdf"}),I=window.URL.createObjectURL(u)+"#view=FitW";b.value=I,x.value=!0}catch(l){console.error("Error generating PDF:",l)}finally{k.value=!1}},J=v([]),s=ae(()=>Array.isArray(J.value)&&J.value.some(p=>String(p).trim()!=="")),re=async p=>{k.value=!0;try{const l=await oe.post("/socket/vacancy/overide",{id:p,signatories:J.value});le.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${l.data.message}<div>
            `}),$("saved"),$("update:modelValue",null)}catch{e.response&&e.response.data&&(T(e.response.data),le.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{k.value=!1}};return(p,l)=>(c(),f(K,null,[a(Ce,{modelValue:H.value,"onUpdate:modelValue":l[5]||(l[5]=u=>H.value=u),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:l[6]||(l[6]=u=>R())},{default:o(()=>[a(F,{class:"dialog-card column full-height"},{default:o(()=>[a(S,{class:"q-pa-lg"},{default:o(()=>l[8]||(l[8]=[t("div",{class:"text-h6 text-uppercase"},"vacancy information",-1)])),_:1,__:[8]}),a(Be,{inset:""}),a(S,{class:"col q-pa-lg scroll"},{default:o(()=>[t("div",Pa,[l[9]||(l[9]=t("div",{class:"text-caption text-uppercase text-grey"},"position",-1)),t("div",Ua,d(h.value?.position?.name),1)]),t("div",Na,[l[10]||(l[10]=t("div",{class:"text-caption text-uppercase text-grey"},"salary",-1)),t("div",Ya,d(j(h.value?.position?.salary_amount))+" "+d(h.value?.position?.salary_type),1)]),t("div",Ta,[l[11]||(l[11]=t("div",{class:"text-caption text-uppercase text-grey"},"status",-1)),t("div",Ma,d(h.value?.status),1)]),t("div",Fa,[l[12]||(l[12]=t("div",{class:"text-caption text-uppercase text-grey"},"job description",-1)),t("div",Ra,d(h.value?.position?.description),1)]),t("div",ja,[l[13]||(l[13]=t("div",{class:"text-caption text-uppercase text-grey"},"job qualifications",-1)),(c(!0),f(K,null,te(h.value?.position?.qualification,(u,I)=>(c(),f("div",{class:"text-body1",key:I},d(I+1)+". "+d(u||"N/A"),1))),128))]),t("div",Ba,[t("div",null,[l[14]||(l[14]=t("div",{class:"text-caption text-uppercase text-grey"},"department",-1)),t("div",Oa,d(h.value?.position?.department?.name),1)]),t("div",null,[l[15]||(l[15]=t("div",{class:"text-caption text-uppercase text-grey"},"shift",-1)),t("div",La,d(h.value?.shift?.name)+" "+d(w(h.value?.shift?.start_time))+" to "+d(w(h.value?.shift?.end_time)),1),t("div",Qa,d(E(h.value?.shift?.days)),1)])]),t("div",Ha,[t("div",null,[l[16]||(l[16]=t("div",{class:"text-caption text-uppercase text-grey"},"date needed",-1)),t("div",Wa,d(Q(h.value?.date_needed)),1)]),t("div",null,[l[17]||(l[17]=t("div",{class:"text-caption text-uppercase text-grey"},"need background check",-1)),t("div",Ja,d(h.value?.need_background_check?"Yes":"No"),1)])]),t("div",Ga,[l[18]||(l[18]=t("div",{class:"text-caption text-uppercase text-grey"},"work location",-1)),t("div",Xa,d(h.value?.location),1)]),t("div",Ka,[t("div",null,[l[19]||(l[19]=t("div",{class:"text-caption text-uppercase text-grey"},"movement",-1)),t("div",Za,d(h.value?.movement),1)]),t("div",null,[l[20]||(l[20]=t("div",{class:"text-caption text-uppercase text-grey"},"justification",-1)),t("div",es,d(h.value?.justification),1)])]),t("div",ts,[(c(!0),f(K,null,te(h.value?.approvals,(u,I)=>(c(),f("div",null,[t("div",as,d(u?.status=="Pending"?"unsigned":u?.setting?.description),1),u?.status=="Pending"?(c(),f("div",ss,[t("div",os,d(u?.original_approver_name),1),t("div",ls,d(u?.original_approver_position),1)])):q("",!0),u?.status=="Approved"?(c(),f("div",is,[u?.is_overide?(c(),f("div",ns,[t("div",rs,[t("div",ds,d(u?.original_approver_name),1),t("div",us,d(u?.original_approver_position),1)]),l[21]||(l[21]=t("div",{class:"text-caption text-uppercase text-italic text-bold q-mb-lg"},"overiden by",-1)),t("img",{src:u?.override_signature,width:"150"},null,8,cs),t("div",ps,d(u?.override_name),1),t("div",ms,d(u?.override_position),1),t("div",vs,d(W(u?.signed_at)),1)])):q("",!0),u?.is_overide?q("",!0):(c(),f("div",gs,[t("img",{src:u?.original_signature,width:"150"},null,8,xs),t("div",fs,d(u?.original_approver_name),1),t("div",ys,d(u?.original_approver_position),1),t("div",_s,d(W(u?.signed_at)),1)]))])):q("",!0),u?.status=="Pending"&&Z(B).hasRole(["SuperAdmin","Management"])?(c(),f("div",hs,[a(gt,{modelValue:J.value,"onUpdate:modelValue":l[0]||(l[0]=de=>J.value=de),val:u?.id,label:"Overide","checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",size:"sm",class:"tex-caption"},null,8,["modelValue","val"])])):q("",!0)]))),256))])]),_:1}),a(be,{class:"q-pa-lg bg"},{default:o(()=>[t("div",bs,[V.value&&Z(B).hasRole(["SuperAdmin","Management","Admin","HR"])?(c(),X(N,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"approve"},{default:o(()=>[a(rt,{onBeforeShow:()=>{},"transition-show":"jump-up","transition-hide":"jump-down",offset:[0,15],class:"radius-sm",style:{"box-shadow":"rgba(0, 0, 0, 0.09) 0px 3px 12px"}},{default:o(()=>[a(F,{class:"no-shadow radius-sm q-pa-lg",style:{width:"300px"}},{default:o(()=>[a(S,null,{default:o(()=>l[22]||(l[22]=[t("div",{class:"text-h6 text-center text-uppercase"}," proceed to approve ",-1)])),_:1,__:[22]}),a(be,null,{default:o(()=>[a(N,{unelevated:"",size:"md",color:"primary",class:"full-width text-capitalize",label:"proceed",onClick:l[1]||(l[1]=u=>Y(Z(A).data?.id))})]),_:1})]),_:1})]),_:1})]),_:1})):q("",!0),Z(A).data?.status=="Requested"&&Z(B).hasRole(["SuperAdmin","Management"])?(c(),X(N,{key:1,disable:!s.value,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"overide"},{default:o(()=>[a(rt,{onBeforeShow:()=>{},"transition-show":"jump-up","transition-hide":"jump-down",offset:[0,15],class:"radius-sm",style:{"box-shadow":"rgba(0, 0, 0, 0.09) 0px 3px 12px"}},{default:o(()=>[a(F,{class:"no-shadow radius-sm q-pa-lg",style:{width:"300px"}},{default:o(()=>[a(S,null,{default:o(()=>l[23]||(l[23]=[t("div",{class:"text-h6 text-center text-uppercase"}," proceed to overide signature ",-1)])),_:1,__:[23]}),a(be,null,{default:o(()=>[a(N,{unelevated:"",size:"md",color:"primary",class:"full-width text-capitalize",label:"proceed",onClick:l[2]||(l[2]=u=>re(Z(A).data?.id))})]),_:1})]),_:1})]),_:1})]),_:1},8,["disable"])):q("",!0),a(N,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"print",onClick:l[3]||(l[3]=()=>{M(Z(A).data?.id)})}),a(N,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:l[4]||(l[4]=()=>{$("update:modelValue",null)}),outline:""})])]),_:1}),a(Qe,{showing:k.value},{default:o(()=>[a(F,{class:"no-shadow radius-md q-pa-md"},{default:o(()=>[a(S,{class:"text-center"},{default:o(()=>[t("div",null,[a(_e,{color:"dark"})]),l[24]||(l[24]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[24]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]),a(Ce,{modelValue:x.value,"onUpdate:modelValue":l[7]||(l[7]=u=>x.value=u),"full-height":"","full-width":"",class:"pdf"},{default:o(()=>[a(F,{class:"bg-white q-pa-none",style:{height:"100vh",overflow:"hidden"}},{default:o(()=>[ze(a(N,{icon:"bi-x",class:"fixed bg-white text-primary shadow-2",round:"",dense:"",style:{top:"15px",right:"15px","z-index":"999"}},null,512),[[$t]]),a(S,{class:"q-pa-none",style:{height:"100%",overflow:"hidden"}},{default:o(()=>[t("div",ws,[b.value?(c(),f("iframe",{key:0,src:b.value,frameborder:"0"},null,8,Ds)):q("",!0)])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},$s=we(Vs,[["__scopeId","data-v-fd47e4fa"]]),ks={class:"card-grid"},qs={key:0,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},Ss={key:1,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},Cs={key:2,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},zs={class:"text-subtitle2 text-uppercase"},Is={class:"text-caption text-uppercase"},As={class:"text-caption text-grey"},Es={class:"text-caption text-uppercase"},Ps={id:"glass-overlay"},Us={__name:"RequisitionComponent",setup(z){const O=Le(),B=Ue(),A=v([]),U=v({}),$=v(1),H=v(10),h=v(!1),R=v(""),k=async()=>{h.value=!0;try{const{data:T}=await oe.get("/recruitment",{params:{Page:$.value,Limit:H.value,Filter:R.value||""}});A.value=T.data,U.value=T.meta}catch(T){console.error("Error fetching all data:",T),le.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{h.value=!1}};xt(R,()=>{$.value=1,k()});const C=()=>{$.value<U.value.TotalPages&&($.value++,k())},V=()=>{$.value>1&&($.value--,k())},Y=()=>{$.value>1&&($.value=1,k())},j=()=>{$.value<U.value.TotalPages&&($.value=U.value.TotalPages,k())},Q=(T,x="PHP")=>{if(T==null||T==="")return"N/A";const b=Number(String(T).replace(/,/g,""));return isNaN(b)?"N/A":b.toLocaleString("en-PH",{style:"currency",currency:x,minimumFractionDigits:2})},w=v(null),W=T=>{w.value=T};ft(()=>{k()});const E=v(!0);return yt(()=>{setTimeout(()=>{E.value=!1},1e3)}),(T,x)=>(c(),f("div",null,[t("div",ks,[Z(O).hasRole(["SuperAdmin","Management"])?(c(),f("div",qs,[ze((c(),X(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm",onClick:x[0]||(x[0]=()=>{W("VacancyDialog")})},{default:o(()=>[a(S,null,{default:o(()=>[a(Se,{name:"bi-plus-circle",color:"grey",size:"xl"})]),_:1})]),_:1})),[[_t]])])):q("",!0),h.value?(c(),f("div",Ss,[a(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:o(()=>[a(S,null,{default:o(()=>[a(_e,{color:"dark"}),x[6]||(x[6]=t("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))]),_:1,__:[6]})]),_:1})])):!h.value&&A.value.length===0?(c(),f("div",Cs,[a(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:o(()=>[a(S,null,{default:o(()=>x[7]||(x[7]=[t("div",{class:"text-caption text-uppercase text-grey"},"no data found",-1)])),_:1,__:[7]})]),_:1})])):!h.value&&A.value.length>0?(c(!0),f(K,{key:3},te(A.value,(b,M)=>(c(),f("div",{key:`data-${b.id}`,class:"card-anim-wrapper",style:fe({animationDelay:`${M*100}ms`})},[a(F,{onClick:()=>{W("VacancyInfoDialog"),Z(B).data=b},class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:o(()=>[a(S,null,{default:o(()=>[t("div",zs,d(b?.position?.name),1)]),_:2},1024),a(S,null,{default:o(()=>[t("div",Is,d(Q(b?.position?.salary_amount))+" "+d(b?.position?.salary_type),1),t("div",As,d(b?.status),1)]),_:2},1024)]),_:2},1032,["onClick"])],4))),128)):q("",!0)]),a(Ea,{modelValue:w.value,"onUpdate:modelValue":x[1]||(x[1]=b=>w.value=b),"dialog-name":"VacancyDialog",onSaved:x[2]||(x[2]=()=>{k()})},null,8,["modelValue"]),a($s,{modelValue:w.value,"onUpdate:modelValue":x[3]||(x[3]=b=>w.value=b),"dialog-name":"VacancyInfoDialog",onSaved:x[4]||(x[4]=()=>{k()})},null,8,["modelValue"]),a(Vt,{class:"bg-white no-shadow q-mx-lg q-mb-md q-py-sm radius-xs text-grey"},{default:o(()=>[a(wt,null,{default:o(()=>[a(Dt,{class:"text-caption text-uppercase"},{default:o(()=>x[8]||(x[8]=[t("div",null,"Â© 2025 WORKFORCE. All Rights Reserved.",-1)])),_:1,__:[8]}),a(L,{outlined:"",dense:"",debounce:"1000",modelValue:R.value,"onUpdate:modelValue":x[5]||(x[5]=b=>R.value=b),placeholder:"Search..."},{before:o(()=>[t("div",Es,d(`page ${U.value.CurrentPage} of ${U.value.TotalPages}`),1)]),after:o(()=>[a(N,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-bar-left",disable:$.value<=1,onClick:Y},{default:o(()=>[a(ye,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:o(()=>x[9]||(x[9]=[se("First Page")])),_:1,__:[9]})]),_:1},8,["disable"]),a(N,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-left-short",disable:$.value<=1,onClick:V},{default:o(()=>[a(ye,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:o(()=>x[10]||(x[10]=[se("Previous")])),_:1,__:[10]})]),_:1},8,["disable"]),a(N,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-right-short",disable:$.value>=U.value.TotalPages,onClick:C},{default:o(()=>[a(ye,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:o(()=>x[11]||(x[11]=[se("Next")])),_:1,__:[11]})]),_:1},8,["disable"]),a(N,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-bar-right",disable:$.value>=U.value.TotalPages,onClick:j},{default:o(()=>[a(ye,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:o(()=>x[12]||(x[12]=[se("Last Page")])),_:1,__:[12]})]),_:1},8,["disable"])]),prepend:o(()=>[a(Se,{name:"bi-search",style:{"font-size":"1rem"}})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(Oe,{name:"glass-fade"},{default:o(()=>[ze(t("div",Ps,[a(F,{class:"no-shadow radius-md q-pa-md"},{default:o(()=>[a(S,{class:"text-center"},{default:o(()=>[t("div",null,[a(_e,{color:"dark"})]),x[13]||(x[13]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[13]})]),_:1})],512),[[ht,E.value]])]),_:1})]))}},Ns=we(Us,[["__scopeId","data-v-2cc03705"]]),Ys={key:0},Ts={class:"card-grid"},Ms={key:"data-none",class:"inner-card-anim-wrapper",style:{animationDelay:"120ms"}},Fs={class:"text-caption text-uppercase"},Rs={class:"text-caption text-grey text-uppercase"},js={class:"text-caption text-capitalize text-grey"},Bs={class:"checkmark-overlay"},Os={key:1},Ls={class:"row q-col-gutter-xs q-mb-md"},Qs={class:"col-2"},Hs={class:"col-2"},Ws={class:"col-2"},Js={class:"col-1"},Gs={class:"row q-col-gutter-xs q-mb-md"},Xs={class:"col-2"},Ks={class:"q-gutter-sm"},Zs={class:"col-10"},eo={class:"q-gutter-sm"},to={class:"row q-col-gutter-xs q-mb-md"},ao={class:"col-2"},so={class:"col-4"},oo={class:"row q-col-gutter-xs q-mb-md"},lo={class:"col-6"},io={class:"q-gutter-sm"},no={class:"row q-col-gutter-xs q-mb-md"},ro={class:"col-2"},uo={class:"col-2"},co={key:2},po={class:"q-mb-md"},mo={class:"row q-col-gutter-xs q-mb-xs"},vo={class:"col-2"},go={class:"col-2"},xo={class:"col-2"},fo={class:"col-2"},yo={class:"col-2"},_o={class:"col-2"},ho={class:"col-2"},bo={class:"col-2"},wo={class:"col-2"},Do={class:"col-2"},Vo={class:"col-1"},$o={key:3},ko={class:"q-mb-md"},qo={class:"row q-col-gutter-xs q-mb-xs"},So={class:"col-2"},Co={class:"col-3"},zo={class:"col-2"},Io={class:"col-2"},Ao={class:"col-1"},Eo={class:"col-2"},Po={class:"col-3"},Uo={class:"col-2"},No={class:"col-2"},Yo={class:"col-2"},To={class:"col-1"},Mo={key:4},Fo={class:"q-mb-md"},Ro={class:"row q-col-gutter-xs q-mb-xs"},jo={class:"col-3"},Bo={class:"col-4"},Oo={class:"col-2"},Lo={class:"col-2"},Qo={class:"col-3"},Ho={class:"col-4"},Wo={class:"col-2"},Jo={class:"col-2"},Go={class:"col-1"},Xo={key:5},Ko={class:"q-mb-md"},Zo={class:"row q-col-gutter-xs q-mb-xs"},el={class:"col-2"},tl={class:"col-3"},al={class:"col-1"},sl={class:"row q-gutter-sm"},ol={class:"text-caption text-uppercase text-grey"},mt=6,ll={__name:"ApplicationDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue","saved"],setup(z,{emit:O}){Ue();const B=z,A=O,U=ae({get:()=>B.modelValue===B.dialogName,set:n=>{n||A("update:modelValue",null)}}),$=()=>{Ye(),ee(),Ve(),ne(),G.value=0},H=v(!1),h=v(""),R=v(""),k=v(""),C=v(""),V=v(""),Y=v(""),j=v(""),Q=v(new Date().toISOString().split("T")[0]),w=v(""),W=v(""),E=v(""),T=v(""),x=v([{schoollevel:"",schoolId:"",courseId:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}]),b=v([{title:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],hour:"",typeId:"",conductedBy:""}]),M=v([{position:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],description:""}]),J=v([{file:""}]),s=vt({vacancyId:{type:null,msg:""},firstname:{type:null,msg:""},middlename:{type:null,msg:""},lastname:{type:null,msg:""},suffix:{type:null,msg:""},sex:{type:null,msg:""},civilstatus:{type:null,msg:""},birthdate:{type:null,msg:""},birthplace:{type:null,msg:""},address:{type:null,msg:""},email:{type:null,msg:""},contactNo:{type:null,msg:""},educations:{schoollevel:{type:[],msg:""},schoolId:{type:[],msg:""},courseId:{type:[],msg:""},startDate:{type:[],msg:""},endDate:{type:[],msg:""}},trainings:{trainingtype:{type:[],msg:""},title:{type:[],msg:""},startDate:{type:[],msg:""},endDate:{type:[],msg:""},hour:{type:[],msg:""}},experiences:{position:{type:[],msg:""},startDate:{type:[],msg:""},endDate:{type:[],msg:""},description:{type:[],msg:""}},documents:{file:{type:[],msg:""}},applicationstatus:{type:[],msg:""}}),re=()=>{s.educations.schoollevel.type=x.value.map(()=>null),s.educations.schoolId.type=x.value.map(()=>null),s.educations.courseId.type=x.value.map(()=>null),s.educations.startDate.type=x.value.map(()=>null),s.educations.endDate.type=x.value.map(()=>null),s.trainings.trainingtype.type=b.value.map(()=>null),s.trainings.title.type=b.value.map(()=>null),s.trainings.startDate.type=b.value.map(()=>null),s.trainings.endDate.type=b.value.map(()=>null),s.trainings.hour.type=b.value.map(()=>null),s.experiences.position.type=M.value.map(()=>null),s.experiences.startDate.type=M.value.map(()=>null),s.experiences.endDate.type=M.value.map(()=>null),s.experiences.description.type=M.value.map(()=>null),s.documents.file.type=J.value.map(()=>null)},p=()=>le.fire({icon:"error",html:`
        <div class="text-h6 text-bold text-uppercase">Request Failed</div>
        <div class="text-caption">Something went wrong.</div>
        `}),l=(n,r="required")=>(s[n].type=!0,s[n].msg=r,!0),u=n=>(s[n].type=null,s[n].msg="",!1),I=(n,r)=>r?u(n):l(n,"required"),de=n=>{if(!n)return!1;const r=new Date,i=new Date(n);let y=r.getFullYear()-i.getFullYear();const g=r.getMonth()-i.getMonth();return(g<0||g===0&&r.getDate()<i.getDate())&&y--,y>=15},ue=()=>{let n=!1;return n||=I("vacancyId",h.value),n&&p(),!n},Ie=()=>{const n=["SR","JR","II","III","IV","V","VI","VII","VIII","IX","X"],r=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,i=/^09\d{9}$/;let y=!1;return y||=I("firstname",R.value),y||=I("middlename",k.value),y||=I("lastname",C.value),y||=V.value&&!n.includes(V.value.trim().toUpperCase())?l("suffix","invalid"):u("suffix"),y||=I("sex",Y.value),y||=I("civilstatus",j.value),Q.value?de(Q.value)?u("birthdate"):y||=l("birthdate","invalid"):y||=l("birthdate","required"),y||=I("birthplace",w.value),E.value?r.test(E.value)?E.value.length>100?y||=l("email","invalid"):u("email"):y||=l("email","invalid"):y||=l("email","required"),T.value?i.test(T.value)?u("contactNo"):y||=l("contactNo","invalid"):y||=l("contactNo","required"),y||=I("address",W.value),y&&p(),!y},dt=()=>{let n=!1;return s.educations.schoollevel={type:null,msg:""},s.educations.schoolId={type:null,msg:""},s.educations.courseId={type:null,msg:""},s.educations.startDate={type:null,msg:""},s.educations.endDate={type:null,msg:""},re(),x.value.forEach((r,i)=>{r.schoollevel||(s.educations.schoollevel.type[i]=!0,s.educations.schoollevel.msg="school level is required",n=!0),r.schoolId||(s.educations.schoolId.type[i]=!0,s.educations.schoolId.msg="school is required",n=!0),r.courseId||(s.educations.courseId.type[i]=!0,s.educations.courseId.msg="degree is required",n=!0),r.startDate?isNaN(new Date(r.startDate).getTime())&&(s.educations.startDate.type[i]=!0,s.educations.startDate.msg="start date must be a valid date",n=!0):(s.educations.startDate.type[i]=!0,s.educations.startDate.msg="start date is required",n=!0),r.endDate?isNaN(new Date(r.endDate).getTime())&&(s.educations.endDate.type[i]=!0,s.educations.endDate.msg="end date must be a valid date",n=!0):(s.educations.endDate.type[i]=!0,s.educations.endDate.msg="end date is required",n=!0)}),n&&p(),!n},He=()=>{let n=!1;return s.trainings.trainingtype={type:null,msg:""},s.trainings.title={type:null,msg:""},s.trainings.startDate={type:null,msg:""},s.trainings.endDate={type:null,msg:""},s.trainings.hour={type:null,msg:""},re(),b.value.forEach((r,i)=>{r.trainingtype||(s.trainings.trainingtype.type[i]=!0,s.trainings.trainingtype.msg="training type is required",n=!0),r.title||(s.trainings.title.type[i]=!0,s.trainings.title.msg="title is required",n=!0),r.startDate?isNaN(new Date(r.startDate).getTime())&&(s.trainings.startDate.type[i]=!0,s.trainings.startDate.msg="start date must be a valid date",n=!0):(s.trainings.startDate.type[i]=!0,s.trainings.startDate.msg="start date is required",n=!0),r.endDate?isNaN(new Date(r.endDate).getTime())&&(s.trainings.endDate.type[i]=!0,s.trainings.endDate.msg="end date must be a valid date",n=!0):(s.trainings.endDate.type[i]=!0,s.trainings.endDate.msg="end date is required",n=!0),r.hour?(isNaN(r.hour)||r.hour<1||r.hour>23)&&(s.trainings.hour.type[i]=!0,s.trainings.hour.msg="hour/s must be a valid number between 1 to 23",n=!0):(s.trainings.hour.type[i]=!0,s.trainings.hour.msg="hour/s is required",n=!0)}),n&&p(),!n},We=()=>{let n=!1;return s.experiences.position={type:null,msg:""},s.experiences.startDate={type:null,msg:""},s.experiences.endDate={type:null,msg:""},s.experiences.description={type:null,msg:""},re(),M.value.forEach((r,i)=>{r.position||(s.experiences.position.type[i]=!0,s.experiences.position.msg="position is required",n=!0),r.startDate?isNaN(new Date(r.startDate).getTime())&&(s.experiences.startDate.type[i]=!0,s.experiences.startDate.msg="start date must be a valid date",n=!0):(s.experiences.startDate.type[i]=!0,s.experiences.startDate.msg="start date is required",n=!0),r.endDate?isNaN(new Date(r.endDate).getTime())&&(s.experiences.endDate.type[i]=!0,s.experiences.endDate.msg="end date must a valid date",n=!0):(s.experiences.endDate.type[i]=!0,s.experiences.endDate.msg="end date is required",n=!0),r.description||(s.experiences.description.type[i]=!0,s.experiences.description.msg="job description is required",n=!0)}),n&&p(),!n},Ne=()=>{let n=!1;return s.documents.file={type:null,msg:""},re(),J.value.forEach((r,i)=>{r.file?r.file.type!=="application/pdf"?(s.documents.file.type[i]=!0,s.documents.file.msg="file must be a PDF document",n=!0):r.file.size>5242880&&(s.documents.file.type[i]=!0,s.documents.file.msg="file size must not exceed to 5MB",n=!0):(s.documents.file.type[i]=!0,s.documents.file.msg="file is required",n=!0)}),n&&p(),!n},Ae=()=>{Object.keys(s).forEach(n=>{const r=s[n];r.type!==void 0&&!Array.isArray(r.type)?(r.type=null,r.msg=""):r.type!==void 0&&Array.isArray(r.type)?(r.type=[],r.msg=""):Object.keys(r).forEach(i=>{Array.isArray(r[i].type)?r[i].type=[]:r[i].type=null,r[i].msg=""})})},Ye=()=>{h.value="",R.value="",k.value="",C.value="",V.value="",Y.value="",j.value="",Q.value=new Date().toISOString().split("T")[0],w.value="",W.value="",E.value="",T.value="",x.value=[{schoollevel:"",schoolId:"",courseId:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}],b.value=[{title:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],hour:"",typeId:"",conductedBy:""}],M.value=[{position:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],description:""}],J.value=[{file:""}],Ae()},De=async()=>{if(!(Ne&&!Ne())){H.value=!0;try{const n=new FormData;n.append("vacancyId",h.value),n.append("firstname",R.value),n.append("middlename",k.value),n.append("lastname",C.value),n.append("suffix",V.value),n.append("sex",Y.value),n.append("civilstatus",j.value),n.append("birthdate",Q.value),n.append("birthplace",w.value),n.append("email",E.value),n.append("contactNo",T.value),n.append("address",W.value),n.append("educations",JSON.stringify(x.value)),n.append("trainings",JSON.stringify(b.value)),n.append("experiences",JSON.stringify(M.value)),J.value.forEach((i,y)=>{n.append(`documents[${y}][documentId]`,i.documentId),i.file&&n.append(`documents[${y}][file]`,i.file)});const r=await oe.post("/socket/application/create",n,{headers:{"Content-Type":"multipart/form-data"}});A("saved"),A("update:modelValue",null),le.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${r.data.message}<div>
            `})}catch(n){n.response&&n.response.data&&(Je(n.response.data),le.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{H.value=!1}}},Je=n=>{const r=Array.isArray(n)?n:n?.errors||[];Object.keys(s).forEach(i=>{s[i].type=null,s[i].messages=[]}),r.forEach(i=>{s[i.path]!==void 0&&(s[i.path].type=!0,s[i.path].messages.push(i.msg))})},Ee=v([]),ie=v(["Male","Female"]),Ge=v(["High School","Vocational","College","Graduate Studies"]),Xe=v(["Single","Married","Widowed","Divorced","Separated"]),Te=v([]),Me=v([]),Ke=v(["Managerial","Supervisory","Technical","Orientation","Compliance","Seminar","Workshop","Conference","Other"]),Fe=v([]),Pe=v([]);v([]);const _=(n,r)=>(i,y)=>{if(i===""){y(()=>{r.value=n.value});return}y(()=>{const g=i.toLowerCase();r.value=n.value.filter(Lt=>Lt.label.toLowerCase().includes(g))})},m=_(Te,Fe),D=_(Me,Pe),ee=async()=>{try{const n=await oe.get("/application/option/vacancy");Ee.value=n.data}catch(n){console.error("Error fetching options:",n)}},ne=async()=>{try{const n=await oe.get("/application/option/school");Te.value=n.data}catch(n){console.error("Error fetching options:",n)}},Ve=async()=>{try{const n=await oe.get("/application/option/course");Me.value=n.data}catch(n){console.error("Error fetching options:",n)}};function ve(n,r="PHP"){if(n==null||n==="")return"";const i=Number(String(n).replace(/,/g,""));return isNaN(i)?"":i.toLocaleString("en-PH",{style:"currency",currency:r,minimumFractionDigits:2,maximumFractionDigits:2})}const Re=()=>{x.value.unshift({schoollevel:"",schoolId:"",courseId:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]})},qt=n=>{x.value.splice(n,1)},St=()=>{b.value.unshift({trainingtype:"",title:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],hour:""})},Ct=n=>{b.value.splice(n,1)},zt=()=>{M.value.unshift({position:"",description:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]})},It=n=>{M.value.splice(n,1)},At=()=>{J.value.unshift({file:""})},Et=n=>{J.value.splice(n,1)},ut=v(null),Ze=v([]),et=v([]),tt=v([]),at=v([]),st=v([]),ot=v([]);function Pt(n){$e(()=>{Ze.value[n]&&Ze.value[n].hide()})}function Ut(n){$e(()=>{et.value[n]&&et.value[n].hide()})}function Nt(n){$e(()=>{tt.value[n]&&tt.value[n].hide()})}function Yt(n){$e(()=>{at.value[n]&&at.value[n].hide()})}function Tt(n){$e(()=>{st.value[n]&&st.value[n].hide()})}function Mt(n){$e(()=>{ot.value[n]&&ot.value[n].hide()})}const G=v(0),Ft=[ue,Ie,dt,He,We],Rt=()=>{const n=Ft[G.value];n&&!n()||G.value++},jt=()=>{G.value>0&&G.value--},lt=v(""),ct=ae(()=>{const n=lt.value.trim().toLowerCase();return n?Ee.value.filter(r=>String(r.position?.name||"").toLowerCase().includes(n)):Ee.value}),it=ae(()=>ct.value),Bt=ae(()=>it.value.length),Ot=ae(()=>ct.value.length);return(n,r)=>(c(),X(Ce,{modelValue:U.value,"onUpdate:modelValue":r[19]||(r[19]=i=>U.value=i),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:r[20]||(r[20]=i=>$())},{default:o(()=>[a(F,{class:"dialog-card column full-height"},{default:o(()=>[a(S,{class:"q-pa-lg"},{default:o(()=>r[21]||(r[21]=[t("div",{class:"text-h6 text-uppercase"},"create application",-1)])),_:1,__:[21]}),a(Be,{inset:""}),a(S,{class:"col q-pa-lg scroll"},{default:o(()=>[a(Oe,{name:"fade-slide",mode:"out-in"},{default:o(()=>[(c(),f("div",{key:G.value},[G.value===0?(c(),f("div",Ys,[r[23]||(r[23]=t("div",{class:"text-overline text-uppercase text-bold q-mb-md"},"position information",-1)),t("div",{class:P(["text-caption text-uppercase q-mb-sm",s.vacancyId.type?"text-negative text-italic":"text-grey"])},d(s.vacancyId.type?s.vacancyId.msg:"position"),3),t("div",Ts,[it.value.length===0?(c(),f("div",Ms,[a(F,{class:"card card-menu card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm",tag:"label"},{default:o(()=>[a(S,null,{default:o(()=>r[22]||(r[22]=[t("div",{class:"text-caption text-uppercase text-grey"},"no data found",-1)])),_:1,__:[22]})]),_:1})])):(c(!0),f(K,{key:1},te(it.value,(i,y)=>(c(),f("div",{key:`data-${i.id}`,class:"inner-card-anim-wrapper",style:fe({animationDelay:`${y*120}ms`})},[a(F,{class:P(["card card-menu card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm",{"card--active":h.value===i.id}]),tag:"label",onClick:g=>h.value=i.id},{default:o(()=>[a(S,null,{default:o(()=>[t("div",Fs,d(i?.position?.name),1),t("div",Rs,d(i?.position?.salary_type=="Monthly"?ve(i?.position?.monthly_salary):i?.position?.salary_type=="Daily"?ve(i?.position?.daily_salary):i?.position?.salary_type=="Hourly"?ve(i?.position?.hourly_salary):null),1)]),_:2},1024),a(S,null,{default:o(()=>[t("div",js,d(i?.department?.name),1)]),_:2},1024),t("div",Bs,[a(he,{modelValue:h.value,"onUpdate:modelValue":r[0]||(r[0]=g=>h.value=g),val:i.id,"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",size:"xs"},null,8,["modelValue","val"])])]),_:2},1032,["class","onClick"])],4))),128))])])):q("",!0),G.value===1?(c(),f("div",Os,[r[24]||(r[24]=t("div",{class:"text-overline text-uppercase text-bold q-mb-md"},"personal information",-1)),t("div",Ls,[t("div",Qs,[t("div",{class:P(["text-caption text-uppercase",s.firstname.type?"text-negative text-italic":"text-grey"])},d(s.firstname.type?s.firstname.msg:"firstname"),3),a(L,{modelValue:R.value,"onUpdate:modelValue":r[1]||(r[1]=i=>R.value=i),label:"Enter Firstname",outlined:"",error:s.firstname.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])]),t("div",Hs,[t("div",{class:P(["text-caption text-uppercase",s.middlename.type?"text-negative text-italic":"text-grey"])},d(s.middlename.type?s.middlename.msg:"middlename"),3),a(L,{modelValue:k.value,"onUpdate:modelValue":r[2]||(r[2]=i=>k.value=i),label:"Enter Middlename",outlined:"",error:s.middlename.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])]),t("div",Ws,[t("div",{class:P(["text-caption text-uppercase",s.lastname.type?"text-negative text-italic":"text-grey"])},d(s.lastname.type?s.lastname.msg:"lastname"),3),a(L,{modelValue:C.value,"onUpdate:modelValue":r[3]||(r[3]=i=>C.value=i),label:"Enter Lastname",outlined:"",error:s.lastname.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])]),t("div",Js,[t("div",{class:P(["text-caption text-uppercase",s.suffix.type?"text-negative text-italic":"text-grey"])},d(s.suffix.type?s.suffix.msg:"suffix"),3),a(L,{modelValue:V.value,"onUpdate:modelValue":r[4]||(r[4]=i=>V.value=i),label:"Enter Suffix",outlined:"",error:s.suffix.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])])]),t("div",Gs,[t("div",Xs,[t("div",{class:P(["text-caption text-uppercase",s.sex.type?"text-negative text-italic":"text-grey"])},d(s.sex.type?s.sex.msg:"sex"),3),t("div",Ks,[(c(!0),f(K,null,te(ie.value,i=>(c(),X(he,{modelValue:Y.value,"onUpdate:modelValue":r[5]||(r[5]=y=>Y.value=y),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:i,label:i},null,8,["modelValue","val","label"]))),256))])]),t("div",Zs,[t("div",{class:P(["text-caption text-uppercase",s.civilstatus.type?"text-negative text-italic":"text-grey"])},d(s.civilstatus.type?s.civilstatus.msg:"civil status"),3),t("div",eo,[(c(!0),f(K,null,te(Xe.value,i=>(c(),X(he,{modelValue:j.value,"onUpdate:modelValue":r[6]||(r[6]=y=>j.value=y),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:i,label:i},null,8,["modelValue","val","label"]))),256))])])]),t("div",to,[t("div",ao,[t("div",{class:P(["text-caption text-uppercase",s.birthdate.type?"text-negative text-italic":"text-grey"])},d(s.birthdate.type?s.birthdate.msg:"birthdate (YYYY-MM-DD)"),3),a(L,{outlined:"",modelValue:Q.value,"onUpdate:modelValue":r[9]||(r[9]=i=>Q.value=i),label:"Enter Date",error:s.birthdate.type,"no-error-icon":!0},{default:o(()=>[a(xe,{cover:"","transition-show":"scale","transition-hide":"scale",ref_key:"popup",ref:ut,class:"no-shadow custom-border radius-sm"},{default:o(()=>[a(ge,{modelValue:Q.value,"onUpdate:modelValue":[r[7]||(r[7]=i=>Q.value=i),r[8]||(r[8]=()=>{ut.value.hide()})],mask:"YYYY-MM-DD"},null,8,["modelValue"])]),_:1},512)]),_:1},8,["modelValue","error"])]),t("div",so,[t("div",{class:P(["text-caption text-uppercase",s.birthplace.type?"text-negative text-italic":"text-grey"])},d(s.birthplace.type?s.birthplace.msg:"birthplace"),3),a(L,{modelValue:w.value,"onUpdate:modelValue":r[10]||(r[10]=i=>w.value=i),label:"Enter Birthplace",outlined:"",error:s.birthplace.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])])]),t("div",oo,[t("div",lo,[t("div",{class:P(["text-caption text-uppercase",s.address.type?"text-negative text-italic":"text-grey"])},d(s.address.type?s.address.msg:"address"),3),t("div",io,[a(L,{modelValue:W.value,"onUpdate:modelValue":r[11]||(r[11]=i=>W.value=i),label:"Enter Address",outlined:"",error:s.address.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])])])]),t("div",no,[t("div",ro,[t("div",{class:P(["text-caption text-uppercase",s.email.type?"text-negative text-italic":"text-grey"])},d(s.email.type?s.email.msg:"email address"),3),a(L,{modelValue:E.value,"onUpdate:modelValue":r[12]||(r[12]=i=>E.value=i),label:"Enter Email Address",outlined:"",error:s.email.type,"no-error-icon":!0},null,8,["modelValue","error"])]),t("div",uo,[t("span",{class:P(["text-caption text-uppercase",s.contactNo.type?"text-negative text-italic":"text-grey"])},d(s.contactNo.type?s.contactNo.msg:"contact number"),3),a(L,{modelValue:T.value,"onUpdate:modelValue":r[13]||(r[13]=i=>T.value=i),label:"Enter Contact No.",outlined:"",error:s.contactNo.type,"no-error-icon":!0,mask:"###########"},null,8,["modelValue","error"])])])])):q("",!0),G.value===2?(c(),f("div",co,[r[28]||(r[28]=t("div",{class:"text-overline text-uppercase text-bold q-mb-md"},"education information",-1)),t("div",po,[t("div",mo,[t("div",vo,[t("div",{class:P(["text-caption text-uppercase",s.educations.schoollevel.msg?"text-negative text-italic":"text-grey"])},d(s.educations.schoollevel.msg?s.educations.schoollevel.msg:"school level"),3)]),t("div",go,[t("div",{class:P(["text-caption text-uppercase",s.educations.schoolId.msg?"text-negative text-italic":"text-grey"])},d(s.educations.schoolId.msg?s.educations.schoolId.msg:"school"),3)]),t("div",xo,[t("div",{class:P(["text-caption text-uppercase",s.educations.courseId.msg?"text-negative text-italic":"text-grey"])},d(s.educations.courseId.msg?s.educations.courseId.msg:"degree"),3)]),t("div",fo,[t("div",{class:P(["text-caption text-uppercase",s.educations.startDate.msg?"text-negative text-italic":"text-grey"])},d(s.educations.startDate.msg?s.educations.startDate.msg:"start date (YYYY-MM-DD)"),3)]),t("div",yo,[t("div",{class:P(["text-caption text-uppercase",s.educations.endDate.msg?"text-negative text-italic":"text-grey"])},d(s.educations.endDate.msg?s.educations.endDate.msg:"end date (YYYY-MM-DD)"),3)])]),(c(!0),f(K,null,te(x.value,(i,y)=>(c(),f("div",{class:"row q-col-gutter-xs q-mb-xs",key:y},[t("div",_o,[a(qe,{outlined:"",modelValue:i.schoollevel,"onUpdate:modelValue":g=>i.schoollevel=g,label:"Choose School Level","input-debounce":"300",options:Ge.value,error:s.educations.schoollevel.type[y],"hide-dropdown-icon":"","no-error-icon":!0},{"no-option":o(()=>[a(ce,null,{default:o(()=>[a(pe,{class:"text-italic text-grey"},{default:o(()=>r[25]||(r[25]=[se(" No options ")])),_:1,__:[25]})]),_:1})]),option:o(g=>[a(ce,je({ref_for:!0},g.itemProps),{default:o(()=>[a(pe,null,{default:o(()=>[a(ke,null,{default:o(()=>[se(d(n.$CapitalizeWords(g.opt)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:2},1032,["modelValue","onUpdate:modelValue","options","error"])]),t("div",ho,[a(qe,{outlined:"",modelValue:i.schoolId,"onUpdate:modelValue":g=>i.schoolId=g,label:"Choose School","emit-value":"","map-options":"","use-input":"","input-debounce":"300",options:Fe.value,onFilter:Z(m),error:s.educations.schoolId.type[y],"hide-dropdown-icon":"","no-error-icon":!0},{"no-option":o(()=>[a(ce,null,{default:o(()=>[a(pe,{class:"text-italic text-grey"},{default:o(()=>r[26]||(r[26]=[se(" No options ")])),_:1,__:[26]})]),_:1})]),option:o(g=>[a(ce,je({ref_for:!0},g.itemProps),{default:o(()=>[a(pe,null,{default:o(()=>[a(ke,null,{default:o(()=>[se(d(n.$CapitalizeWords(g.opt.label)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:2},1032,["modelValue","onUpdate:modelValue","options","onFilter","error"])]),t("div",bo,[a(qe,{outlined:"",modelValue:i.courseId,"onUpdate:modelValue":g=>i.courseId=g,label:"Choose Degree","emit-value":"","map-options":"","use-input":"","input-debounce":"300",options:Pe.value,onFilter:Z(D),error:s.educations.courseId.type[y],"hide-dropdown-icon":"","no-error-icon":!0},{"no-option":o(()=>[a(ce,null,{default:o(()=>[a(pe,{class:"text-italic text-grey"},{default:o(()=>r[27]||(r[27]=[se(" No options ")])),_:1,__:[27]})]),_:1})]),option:o(g=>[a(ce,je({ref_for:!0},g.itemProps),{default:o(()=>[a(pe,null,{default:o(()=>[a(ke,null,{default:o(()=>[se(d(n.$CapitalizeWords(g.opt.label)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:2},1032,["modelValue","onUpdate:modelValue","options","onFilter","error"])]),t("div",wo,[a(L,{outlined:"",modelValue:i.startDate,"onUpdate:modelValue":g=>i.startDate=g,label:"Enter Date",error:s.educations.startDate.type[y],"no-error-icon":!0},{default:o(()=>[a(xe,{cover:"","transition-show":"scale","transition-hide":"scale",class:"no-shadow custom-border radius-sm",ref_for:!0,ref:g=>Ze.value[y]=g},{default:o(()=>[a(ge,{modelValue:i.startDate,"onUpdate:modelValue":[g=>i.startDate=g,()=>Pt(y)],mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1032,["modelValue","onUpdate:modelValue","error"])]),t("div",Do,[a(L,{outlined:"",modelValue:i.endDate,"onUpdate:modelValue":g=>i.endDate=g,label:"Enter Date",error:s.educations.endDate.type[y],"no-error-icon":!0},{default:o(()=>[a(xe,{cover:"","transition-show":"scale","transition-hide":"scale",class:"no-shadow custom-border radius-sm",ref_for:!0,ref:g=>et.value[y]=g},{default:o(()=>[a(ge,{modelValue:i.endDate,"onUpdate:modelValue":[g=>i.endDate=g,()=>Ut(y)],mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1032,["modelValue","onUpdate:modelValue","error"])]),t("div",Vo,[x.value.length>1?(c(),X(N,{key:0,round:"",icon:"bi-trash3",flat:"",unelevated:"",color:"grey",onClick:g=>qt(y),size:"sm",class:"q-mt-md"},null,8,["onClick"])):q("",!0)])]))),128))])])):q("",!0),G.value===3?(c(),f("div",$o,[r[30]||(r[30]=t("div",{class:"text-overline text-uppercase text-bold q-mb-md"},"training information",-1)),t("div",ko,[t("div",qo,[t("div",So,[t("div",{class:P(["text-caption text-uppercase",s.trainings.trainingtype.msg?"text-negative text-italic":"text-grey"])},d(s.trainings.trainingtype.msg?s.trainings.trainingtype.msg:"training type"),3)]),t("div",Co,[t("div",{class:P(["text-caption text-uppercase",s.trainings.title.msg?"text-negative text-italic":"text-grey"])},d(s.trainings.title.msg?s.trainings.title.msg:"title"),3)]),t("div",zo,[t("div",{class:P(["text-caption text-uppercase",s.trainings.startDate.msg?"text-negative text-italic":"text-grey"])},d(s.trainings.startDate.msg?s.trainings.startDate.msg:"start date (YYYY-MM-DD)"),3)]),t("div",Io,[t("div",{class:P(["text-caption text-uppercase",s.trainings.endDate.msg?"text-negative text-italic":"text-grey"])},d(s.trainings.endDate.msg?s.trainings.endDate.msg:"end date (YYYY-MM-DD)"),3)]),t("div",Ao,[t("div",{class:P(["text-caption text-uppercase",s.trainings.hour.msg?"text-negative text-italic":"text-grey"])},d(s.trainings.hour.msg?s.trainings.hour.msg:"hour/s"),3)])]),(c(!0),f(K,null,te(b.value,(i,y)=>(c(),f("div",{class:"row q-col-gutter-xs q-mb-xs",key:y},[t("div",Eo,[a(qe,{outlined:"",modelValue:i.trainingtype,"onUpdate:modelValue":g=>i.trainingtype=g,label:"Choose Training Type","input-debounce":"300",options:Ke.value,error:s.trainings.trainingtype.type[y],"hide-dropdown-icon":"","no-error-icon":!0},{"no-option":o(()=>[a(ce,null,{default:o(()=>[a(pe,{class:"text-italic text-grey"},{default:o(()=>r[29]||(r[29]=[se(" No options ")])),_:1,__:[29]})]),_:1})]),option:o(g=>[a(ce,je({ref_for:!0},g.itemProps),{default:o(()=>[a(pe,null,{default:o(()=>[a(ke,null,{default:o(()=>[se(d(n.$CapitalizeWords(g.opt)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:2},1032,["modelValue","onUpdate:modelValue","options","error"])]),t("div",Po,[a(L,{modelValue:i.title,"onUpdate:modelValue":g=>i.title=g,label:"Enter Title",outlined:"",error:s.trainings.title.type[y],"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",Uo,[a(L,{outlined:"",modelValue:i.startDate,"onUpdate:modelValue":g=>i.startDate=g,label:"Enter Date",error:s.trainings.startDate.type[y],"no-error-icon":!0},{default:o(()=>[a(xe,{cover:"","transition-show":"scale","transition-hide":"scale",class:"no-shadow custom-border radius-sm",ref_for:!0,ref:g=>tt.value[y]=g},{default:o(()=>[a(ge,{modelValue:i.startDate,"onUpdate:modelValue":[g=>i.startDate=g,()=>Nt(y)],mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1032,["modelValue","onUpdate:modelValue","error"])]),t("div",No,[a(L,{outlined:"",modelValue:i.endDate,"onUpdate:modelValue":g=>i.endDate=g,label:"Enter Date",error:s.trainings.endDate.type[y],"no-error-icon":!0},{default:o(()=>[a(xe,{cover:"","transition-show":"scale","transition-hide":"scale",class:"no-shadow custom-border radius-sm",ref_for:!0,ref:g=>at.value[y]=g},{default:o(()=>[a(ge,{modelValue:i.endDate,"onUpdate:modelValue":[g=>i.endDate=g,()=>Yt(y)],mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1032,["modelValue","onUpdate:modelValue","error"])]),t("div",Yo,[a(L,{modelValue:i.hour,"onUpdate:modelValue":g=>i.hour=g,label:"Enter Hour/s",outlined:"",error:s.trainings.hour.type[y],"no-error-icon":!0},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",To,[b.value.length>1?(c(),X(N,{key:0,round:"",icon:"bi-trash3",flat:"",unelevated:"",color:"grey",onClick:g=>Ct(y),size:"sm",class:"q-mt-md"},null,8,["onClick"])):q("",!0)])]))),128))])])):q("",!0),G.value===4?(c(),f("div",Mo,[r[31]||(r[31]=t("div",{class:"text-overline text-uppercase text-bold q-mb-md"},"experience information",-1)),t("div",Fo,[t("div",Ro,[t("div",jo,[t("div",{class:P(["text-caption text-uppercase",s.experiences.position.msg?"text-negative text-italic":"text-grey"])},d(s.experiences.position.msg?s.experiences.position.msg:"position"),3)]),t("div",Bo,[t("div",{class:P(["text-caption text-uppercase",s.experiences.description.msg?"text-negative text-italic":"text-grey"])},d(s.experiences.description.msg?s.experiences.description.msg:"job description"),3)]),t("div",Oo,[t("div",{class:P(["text-caption text-uppercase",s.experiences.startDate.msg?"text-negative text-italic":"text-grey"])},d(s.experiences.startDate.msg?s.experiences.startDate.msg:"start date (YYYY-MM-DD)"),3)]),t("div",Lo,[t("div",{class:P(["text-caption text-uppercase",s.experiences.endDate.msg?"text-negative text-italic":"text-grey"])},d(s.experiences.endDate.msg?s.experiences.endDate.msg:"end date (YYYY-MM-DD)"),3)])]),(c(!0),f(K,null,te(M.value,(i,y)=>(c(),f("div",{class:"row q-col-gutter-xs q-mb-xs",key:y},[t("div",Qo,[a(L,{modelValue:i.position,"onUpdate:modelValue":g=>i.position=g,label:"Enter Position",outlined:"",error:s.experiences.position.type[y],"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",Ho,[a(L,{modelValue:i.description,"onUpdate:modelValue":g=>i.description=g,label:"EnterJob Description",outlined:"",error:s.experiences.description.type[y],"no-error-icon":!0},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",Wo,[a(L,{outlined:"",modelValue:i.startDate,"onUpdate:modelValue":g=>i.startDate=g,label:"Enter Date",error:s.experiences.startDate.type[y],"no-error-icon":!0},{default:o(()=>[a(xe,{cover:"","transition-show":"scale","transition-hide":"scale",class:"no-shadow custom-border radius-sm",ref_for:!0,ref:g=>st.value[y]=g},{default:o(()=>[a(ge,{modelValue:i.startDate,"onUpdate:modelValue":[g=>i.startDate=g,()=>Tt(y)],mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1032,["modelValue","onUpdate:modelValue","error"])]),t("div",Jo,[a(L,{outlined:"",modelValue:i.endDate,"onUpdate:modelValue":g=>i.endDate=g,label:"Enter Date",error:s.experiences.endDate.type[y],"no-error-icon":!0},{default:o(()=>[a(xe,{cover:"","transition-show":"scale","transition-hide":"scale",class:"no-shadow custom-border radius-sm",ref_for:!0,ref:g=>ot.value[y]=g},{default:o(()=>[a(ge,{modelValue:i.endDate,"onUpdate:modelValue":[g=>i.endDate=g,()=>Mt(y)],mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1032,["modelValue","onUpdate:modelValue","error"])]),t("div",Go,[M.value.length>1?(c(),X(N,{key:0,round:"",icon:"bi-trash3",flat:"",unelevated:"",color:"grey",onClick:g=>It(y),size:"sm",class:"q-mt-md"},null,8,["onClick"])):q("",!0)])]))),128))])])):q("",!0),G.value===5?(c(),f("div",Xo,[r[32]||(r[32]=t("div",{class:"text-overline text-uppercase text-bold q-mb-md"},"document information",-1)),t("div",Ko,[t("div",Zo,[t("div",el,[t("div",{class:P(["text-caption text-uppercase",s.documents.file.msg?"text-negative":"text-grey"])},d(s.documents.file.msg?s.documents.file.msg:"documents"),3)])]),(c(!0),f(K,null,te(J.value,(i,y)=>(c(),f("div",{class:"row q-col-gutter-xs q-mb-xs",key:y},[t("div",tl,[a(ea,{modelValue:i.file,"onUpdate:modelValue":g=>i.file=g,label:"Upload File",outlined:"",error:s.documents.file.type[y],"no-error-icon":!0},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",al,[J.value.length>1?(c(),X(N,{key:0,round:"",icon:"bi-trash3",flat:"",unelevated:"",color:"grey",onClick:g=>Et(y),size:"sm",class:"q-mt-md"},null,8,["onClick"])):q("",!0)])]))),128))])])):q("",!0)]))]),_:1})]),_:1}),a(be,{class:"q-pa-lg bg"},{default:o(()=>[t("div",sl,[G.value>0?(c(),X(N,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"previous",onClick:r[14]||(r[14]=()=>{jt()})})):q("",!0),G.value<mt-1?(c(),X(N,{key:1,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"next",onClick:r[15]||(r[15]=()=>{Rt()})})):q("",!0),G.value===mt-1?(c(),X(N,{key:2,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:De})):q("",!0),G.value===2||G.value===3||G.value===4||G.value===5?(c(),X(N,{key:3,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"add",onClick:r[16]||(r[16]=()=>{G.value===2?Re():G.value===3?St():G.value===4?zt():G.value===5&&At()}),outline:""})):q("",!0),a(N,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:r[17]||(r[17]=()=>{A("update:modelValue",null)}),outline:""}),G.value===0?(c(),X(L,{key:4,outlined:"",dense:"",debounce:"1000",modelValue:lt.value,"onUpdate:modelValue":r[18]||(r[18]=i=>lt.value=i),placeholder:"Search..."},{prepend:o(()=>[a(Se,{name:"bi-search",style:{"font-size":"1rem"}})]),after:o(()=>[t("div",ol,d(Bt.value)+" of "+d(Ot.value),1)]),_:1},8,["modelValue"])):q("",!0)])]),_:1}),a(Qe,{showing:H.value},{default:o(()=>[a(F,{class:"no-shadow radius-md q-pa-md"},{default:o(()=>[a(S,{class:"text-center"},{default:o(()=>[t("div",null,[a(_e,{color:"dark"})]),r[33]||(r[33]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[33]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},il=we(ll,[["__scopeId","data-v-1eba5d3f"]]),nl=bt({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(z,{slots:O}){const B=ae(()=>{const A=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(U=>z[U]===!0).map(U=>`q-btn-group--${U}`).join(" ");return`q-btn-group row no-wrap${A.length!==0?" "+A:""}`+(z.spread===!0?" q-btn-group--spread":" inline")});return()=>nt("div",{class:B.value},Wt(O.default))}}),rl=bt({name:"QBtnToggle",props:{...Jt,modelValue:{required:!0},options:{type:Array,required:!0,validator:z=>z.every(O=>("label"in O||"icon"in O||"slot"in O)&&"value"in O)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(z,{slots:O,emit:B}){const A=ae(()=>z.options.find(Y=>Y.value===z.modelValue)!==void 0),U=ae(()=>({type:"hidden",name:z.name,value:z.modelValue})),$=Xt(U),H=ae(()=>Gt(z)),h=ae(()=>({rounded:z.rounded,dense:z.dense,...H.value})),R=ae(()=>z.options.map((Y,j)=>{const{attrs:Q,value:w,slot:W,...E}=Y;return{slot:W,props:{key:j,"aria-pressed":w===z.modelValue?"true":"false",...Q,...E,...h.value,disable:z.disable===!0||E.disable===!0,color:w===z.modelValue?C(E,"toggleColor"):C(E,"color"),textColor:w===z.modelValue?C(E,"toggleTextColor"):C(E,"textColor"),noCaps:C(E,"noCaps")===!0,noWrap:C(E,"noWrap")===!0,size:C(E,"size"),padding:C(E,"padding"),ripple:C(E,"ripple"),stack:C(E,"stack")===!0,stretch:C(E,"stretch")===!0,onClick(T){k(w,Y,T)}}}}));function k(Y,j,Q){z.readonly!==!0&&(z.modelValue===Y?z.clearable===!0&&(B("update:modelValue",null,null),B("clear")):B("update:modelValue",Y,j),B("click",Q))}function C(Y,j){return Y[j]===void 0?z[j]:Y[j]}function V(){const Y=R.value.map(j=>nt(N,j.props,j.slot!==void 0?O[j.slot]:void 0));return z.name!==void 0&&z.disable!==!0&&A.value===!0&&$(Y,"push"),Kt(O.default,Y)}return()=>nt(nl,{class:"q-btn-toggle",...H.value,rounded:z.rounded,stretch:z.stretch,glossy:z.glossy,spread:z.spread},V)}}),dl={class:"q-mt-md"},ul={key:0},cl={class:"row q-col-gutter-xs q-mb-md"},pl={class:"col-4"},ml={class:"q-mb-md"},vl={class:"text-body1 text-uppercase"},gl={class:"q-mb-md"},xl={class:"text-body1 text-uppercase"},fl={class:"q-mb-md"},yl={class:"text-body1 text-uppercase"},_l={class:"q-mb-md"},hl={class:"text-body1 text-capitalize"},bl={class:"text-body1 text-capitalize"},wl={class:"q-mb-md"},Dl={class:"text-body1 text-capitalize"},Vl={class:"col-8"},$l={class:"q-mb-md"},kl={class:"text-body1"},ql={class:"q-mb-md"},Sl={class:"row q-col-gutter-lg q-mb-md"},Cl={class:"text-body1"},zl={class:"text-body1"},Il={class:"text-body1"},Al={class:"q-mb-md"},El={class:"text-body1"},Pl={key:1},Ul={class:"q-mb-md"},Nl={class:"text-body1 text-uppercase"},Yl={class:"q-mb-md"},Tl={class:"text-body1 text-uppercase"},Ml={class:"row q-col-gutter-lg q-mb-mb"},Fl={class:"q-mb-md"},Rl={class:"text-body1 text-uppercase"},jl={class:"q-mb-md"},Bl={class:"text-body1 text-uppercase"},Ol={class:"q-mb-md"},Ll={class:"text-body1 text-uppercase"},Ql={class:"q-mb-md"},Hl={class:"text-body1 text-uppercase"},Wl={class:"q-mb-md"},Jl={class:"text-body1 text-uppercase"},Gl={class:"row q-col-gutter-lg q-mb-mb"},Xl={class:"q-mb-md"},Kl={class:"text-body1 text-uppercase"},Zl={class:"q-mb-md"},ei={class:"text-body1 text-uppercase"},ti={key:2},ai={class:"card-grid"},si={class:"text-caption text-uppercase"},oi={class:"text-caption"},li={class:"text-caption text-grey"},ii={key:3},ni={class:"card-grid"},ri={class:"text-subtitle1 text-uppercase"},di={class:"text-caption text-grey"},ui={key:4},ci={class:"card-grid"},pi={class:"text-subtitle1 text-uppercase"},mi={class:"text-caption text-uppercase"},vi={class:"text-caption text-grey"},gi={class:"text-caption text-grey"},xi={key:5},fi={class:"card-grid"},yi={class:"text-caption"},_i={class:"row q-col-gutter-sm"},hi={key:0},bi={key:1},wi={class:"q-gutter-sm"},Di={class:"iframe-container"},Vi=["src"],$i={__name:"ApplicationInfoDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue","saved"],setup(z,{emit:O}){const B=Le(),A=kt(),U=z,$=O,H=ae({get:()=>U.modelValue===U.dialogName,set:p=>{p||$("update:modelValue",null)}}),h=v("vacancy"),R=v(""),k=["Pooling","Shortlisted","Interview","Hired","Rejected","Withdrawn"],C=v(!1),V=v([]),Y=async()=>{C.value=!0;try{const p=await oe.get(`/application/${A.data?.id}/details`);V.value=p.data.data,R.value=V.value.status}catch(p){console.error("Error fetching options:",p)}finally{C.value=!1}},j=()=>{Y()},Q=async()=>{C.value=!0;try{const p=await oe.post("/socket/application/update",{id:A.data?.id,status:R.value});$("saved"),$("update:modelValue",null),le.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${p.data.message}<div>
            `})}catch{e.response&&e.response.data&&(w(e.response.data),le.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{C.value=!1}},w=p=>{const l=Array.isArray(p)?p:p?.errors||[];Object.keys(Errors).forEach(u=>{Errors[u].type=null,Errors[u].messages=[]}),l.forEach(u=>{Errors[u.path]!==void 0&&(Errors[u.path].type=!0,Errors[u.path].messages.push(u.msg))})},W=async p=>{C.value=!0;try{const l=await oe.get(`/application/document/${p}/pdf`,{responseType:"arraybuffer"}),u=new Blob([l.data],{type:"application/pdf"}),I=window.URL.createObjectURL(u)+"#view=FitW";T.value=I,E.value=!0,C.value=!1}catch(l){C.value=!1,console.error("Error generating PDF:",l)}},E=v(!1),T=v(null),x=async()=>{C.value=!0;try{const p=await oe.get(`/application/${A.data?.id}/pdf`,{responseType:"arraybuffer"}),l=new Blob([p.data],{type:"application/pdf"}),u=window.URL.createObjectURL(l)+"#view=FitW";T.value=u,E.value=!0}catch(p){console.error("Error generating PDF:",p)}finally{C.value=!1}};function b(p,l="PHP"){if(p==null||p==="")return"";const u=Number(String(p).replace(/,/g,""));return isNaN(u)?"":u.toLocaleString("en-PH",{style:"currency",currency:l,minimumFractionDigits:2,maximumFractionDigits:2})}const M=p=>p?me(p).format("MMMM Do, YYYY"):"",J=p=>p?me(p,"HH:mm").format("hh:mm A"):"",s=p=>{if(!Array.isArray(p)||!p.length)return"N/A";const l=["","Mon","Tue","Wed","Thu","Fri","Sat","Sun"];return p.map(u=>Number(u.day_of_week)).filter(u=>u>=1&&u<=7).sort((u,I)=>u-I).map(u=>l[u]).join(", ")},re=p=>{if(!p)return"";const l=p.first_name||"",u=p.middle_name?p.middle_name.charAt(0).toUpperCase()+".":"",I=p.last_name||"",de=p.suffix?` ${p.suffix}`:"";return`${l} ${u} ${I}${de}`.trim()};return(p,l)=>(c(),f(K,null,[a(Ce,{modelValue:H.value,"onUpdate:modelValue":l[5]||(l[5]=u=>H.value=u),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:l[6]||(l[6]=u=>j())},{default:o(()=>[a(F,{class:"dialog-card column full-height"},{default:o(()=>[a(S,{class:"q-pa-lg"},{default:o(()=>l[8]||(l[8]=[t("div",{class:"text-h6 text-uppercase"},"application information",-1)])),_:1,__:[8]}),a(Be,{inset:""}),a(S,{class:"col q-pa-lg scroll"},{default:o(()=>[a(rl,{unelevated:"",size:"xs",modelValue:h.value,"onUpdate:modelValue":l[0]||(l[0]=u=>h.value=u),"toggle-color":"primary",options:[{label:"vacancy information",value:"vacancy"},{label:"applicant information",value:"applicant"},{label:"education",value:"education"},{label:"experience",value:"experience"},{label:"training",value:"training"},{label:"document",value:"document"}]},null,8,["modelValue"]),t("div",dl,[h.value==="vacancy"?(c(),f("div",ul,[l[20]||(l[20]=t("div",{class:"text-subtitle2 text-uppercase text-bold q-mb-md"},"vacancy information",-1)),t("div",cl,[t("div",pl,[t("div",ml,[l[9]||(l[9]=t("div",{class:"text-caption text-uppercase text-grey"},"position",-1)),t("div",vl,d(V.value?.vacancy?.position?.name),1)]),t("div",gl,[l[10]||(l[10]=t("div",{class:"text-caption text-uppercase text-grey"},"salary",-1)),t("div",xl,d(b(V.value?.vacancy?.position?.salary_amount)),1)]),t("div",fl,[l[11]||(l[11]=t("div",{class:"text-caption text-uppercase text-grey"},"department",-1)),t("div",yl,d(V.value?.vacancy?.department?.name),1)]),t("div",_l,[l[12]||(l[12]=t("div",{class:"text-caption text-uppercase text-grey"},"shift",-1)),t("div",hl,d(V.value?.vacancy?.shift?.name)+" "+d(J(V.value?.vacancy?.shift?.start_time))+" to "+d(J(V.value?.vacancy?.shift?.end_time)),1),t("div",bl,d(s(V.value?.vacancy?.shift?.days)),1)]),t("div",wl,[l[13]||(l[13]=t("div",{class:"text-caption text-uppercase text-grey"},"work location",-1)),t("div",Dl,d(V.value?.vacancy?.location),1)])]),t("div",Vl,[t("div",$l,[l[14]||(l[14]=t("div",{class:"text-caption text-uppercase text-grey"},"job description",-1)),t("div",kl,d(V.value?.vacancy?.position?.description),1)]),t("div",ql,[l[15]||(l[15]=t("div",{class:"text-caption text-uppercase text-grey"},"job qualifications",-1)),(c(!0),f(K,null,te(V.value?.vacancy?.position?.qualification,(u,I)=>(c(),f("div",{class:"text-body1",key:I},d(I+1)+". "+d(u||"N/A"),1))),128))])])]),t("div",Sl,[t("div",null,[l[16]||(l[16]=t("div",{class:"text-caption text-uppercase text-grey"},"date needed",-1)),t("div",Cl,d(M(V.value?.vacancy?.date_needed)),1)]),t("div",null,[l[17]||(l[17]=t("div",{class:"text-caption text-uppercase text-grey"},"need background check",-1)),t("div",zl,d(V.value?.vacancy?.need_background_check?"Yes":"No"),1)]),t("div",null,[l[18]||(l[18]=t("div",{class:"text-caption text-uppercase text-grey"},"movement",-1)),t("div",Il,d(V.value?.vacancy?.movement),1)])]),t("div",Al,[l[19]||(l[19]=t("div",{class:"text-caption text-uppercase text-grey"},"justification",-1)),t("div",El,d(V.value?.vacancy?.justification),1)])])):q("",!0),h.value==="applicant"?(c(),f("div",Pl,[l[30]||(l[30]=t("div",{class:"text-subtitle2 text-uppercase text-bold q-mb-md"},"applicant information",-1)),t("div",Ul,[l[21]||(l[21]=t("div",{class:"text-caption text-uppercase text-grey"},"name",-1)),t("div",Nl,d(re(V.value)),1)]),t("div",Yl,[l[22]||(l[22]=t("div",{class:"text-caption text-uppercase text-grey"},"status",-1)),t("div",Tl,d(V.value?.status),1)]),t("div",Ml,[t("div",Fl,[l[23]||(l[23]=t("div",{class:"text-caption text-uppercase text-grey"},"sex",-1)),t("div",Rl,d(V.value?.sex),1)]),t("div",jl,[l[24]||(l[24]=t("div",{class:"text-caption text-uppercase text-grey"},"marital status",-1)),t("div",Bl,d(V.value?.civil_status),1)]),t("div",Ol,[l[25]||(l[25]=t("div",{class:"text-caption text-uppercase text-grey"},"bithdate",-1)),t("div",Ll,d(V.value?.birthdate),1)]),t("div",Ql,[l[26]||(l[26]=t("div",{class:"text-caption text-uppercase text-grey"},"birthplace",-1)),t("div",Hl,d(V.value?.birthplace),1)])]),t("div",Wl,[l[27]||(l[27]=t("div",{class:"text-caption text-uppercase text-grey"},"address",-1)),t("div",Jl,d(V.value?.address),1)]),t("div",Gl,[t("div",Xl,[l[28]||(l[28]=t("div",{class:"text-caption text-uppercase text-grey"},"email",-1)),t("div",Kl,d(V.value?.email),1)]),t("div",Zl,[l[29]||(l[29]=t("div",{class:"text-caption text-uppercase text-grey"},"contact number",-1)),t("div",ei,d(V.value?.contact_number),1)])])])):q("",!0),h.value==="education"?(c(),f("div",ti,[l[31]||(l[31]=t("div",{class:"text-subtitle2 text-uppercase text-bold q-mb-sm"},"educational attainment",-1)),t("div",ai,[(c(!0),f(K,null,te(V.value?.educations,(u,I)=>(c(),f("div",{key:`data-${u.id}`,class:"inner-card-anim-wrapper",style:fe({animationDelay:`${I*120}ms`})},[a(F,{class:"card card-hover-animate flex flex-center no-shadow cursor-pointer radius-sm q-mr-sm q-mb-sm"},{default:o(()=>[a(S,{class:"text-center full-width"},{default:o(()=>[t("div",si,d(u?.course?.name),1)]),_:2},1024),a(S,{class:"text-center full-width"},{default:o(()=>[t("div",oi,d(u?.school_level),1),t("div",li,d(u?.start_date)+" to "+d(u?.end_date),1)]),_:2},1024)]),_:2},1024)],4))),128))])])):q("",!0),h.value==="experience"?(c(),f("div",ii,[l[32]||(l[32]=t("div",{class:"text-subtitle2 text-uppercase text-bold q-mb-sm"},"work experiences",-1)),t("div",ni,[(c(!0),f(K,null,te(V.value?.experiences,(u,I)=>(c(),f("div",{key:`data-${u.id}`,class:"inner-card-anim-wrapper",style:fe({animationDelay:`${I*120}ms`})},[a(F,{class:"card card-hover-animate flex flex-center no-shadow cursor-pointer radius-sm q-mr-sm q-mb-sm"},{default:o(()=>[a(S,{class:"text-center full-width"},{default:o(()=>[t("div",ri,d(u?.position),1)]),_:2},1024),a(S,{class:"text-center full-width"},{default:o(()=>[t("div",di,d(u?.start_date)+" to "+d(u?.end_date),1)]),_:2},1024)]),_:2},1024)],4))),128))])])):q("",!0),h.value==="training"?(c(),f("div",ui,[l[33]||(l[33]=t("div",{class:"text-subtitle2 text-uppercase text-bold q-mb-sm"},"trainings",-1)),t("div",ci,[(c(!0),f(K,null,te(V.value?.trainings,(u,I)=>(c(),f("div",{key:`data-${u.id}`,class:"inner-card-anim-wrapper",style:fe({animationDelay:`${I*120}ms`})},[a(F,{class:"card card-hover-animate flex flex-center no-shadow cursor-pointer radius-sm q-mr-sm q-mb-sm"},{default:o(()=>[a(S,{class:"text-center full-width"},{default:o(()=>[t("div",pi,d(u?.title),1),t("div",mi,d(u?.type),1)]),_:2},1024),a(S,{class:"text-center full-width"},{default:o(()=>[t("div",vi,d(u?.start_date)+" to "+d(u?.end_date),1),t("div",gi,d(u?.hour)+"hr/s",1)]),_:2},1024)]),_:2},1024)],4))),128))])])):q("",!0),h.value==="document"?(c(),f("div",xi,[l[34]||(l[34]=t("div",{class:"text-subtitle2 text-uppercase text-bold q-mb-sm"},"documents uploaded",-1)),t("div",fi,[(c(!0),f(K,null,te(V.value?.documents,(u,I)=>(c(),f("div",{key:`data-${u.id}`,class:"inner-card-anim-wrapper",style:fe({animationDelay:`${I*120}ms`})},[a(F,{class:"card card-hover-animate flex flex-center no-shadow cursor-pointer radius-sm q-mr-sm q-mb-sm",onClick:()=>{W(u.id)}},{default:o(()=>[a(S,{class:"text-center"},{default:o(()=>[t("div",yi,d(u?.filename),1)]),_:2},1024)]),_:2},1032,["onClick"])],4))),128))])])):q("",!0)])]),_:1}),a(be,{class:"q-pa-lg bg"},{default:o(()=>[t("div",_i,[V.value?.status!=="Hired"&&V.value?.status!=="Rejected"&&V.value?.status!=="Withdrawn"&&Z(B).hasRole(["SuperAdmin","Admin","HR"])&&Z(A).data?.vacancy?.status==="Approved"?(c(),f("div",hi,[a(qe,{outlined:"",modelValue:R.value,"onUpdate:modelValue":l[1]||(l[1]=u=>R.value=u),"input-debounce":"300","use-input":"",options:k,"hide-dropdown-icon":"","no-error-icon":!0,dense:""},null,8,["modelValue"])])):q("",!0),V.value?.status!=="Hired"&&V.value?.status!=="Rejected"&&V.value?.status!=="Withdrawn"&&Z(B).hasRole(["SuperAdmin","Admin","HR"])&&Z(A).data?.vacancy?.status==="Approved"?(c(),f("div",bi,[a(N,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"update"},{default:o(()=>[a(rt,{"transition-show":"jump-up","transition-hide":"jump-down",offset:[0,15],class:"radius-sm",style:{"box-shadow":"rgba(0, 0, 0, 0.09) 0px 3px 12px"}},{default:o(()=>[a(F,{class:"no-shadow radius-sm q-pa-lg",style:{width:"300px"}},{default:o(()=>[a(S,null,{default:o(()=>l[35]||(l[35]=[t("div",{class:"text-h6 text-center text-uppercase"}," proceed to update status ",-1)])),_:1,__:[35]}),a(be,null,{default:o(()=>[a(N,{unelevated:"",size:"md",color:"primary",class:"full-width text-capitalize",label:"proceed",onClick:l[2]||(l[2]=()=>{Q()})})]),_:1})]),_:1})]),_:1})]),_:1})])):q("",!0),t("div",wi,[a(N,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"print",onClick:l[3]||(l[3]=()=>{x()})}),a(N,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:l[4]||(l[4]=()=>{$("update:modelValue",null)}),outline:""})])])]),_:1}),a(Qe,{showing:C.value},{default:o(()=>[a(F,{class:"no-shadow radius-md q-pa-md"},{default:o(()=>[a(S,{class:"text-center"},{default:o(()=>[t("div",null,[a(_e,{color:"dark"})]),l[36]||(l[36]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[36]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]),a(Ce,{modelValue:E.value,"onUpdate:modelValue":l[7]||(l[7]=u=>E.value=u),"full-height":"","full-width":"",class:"pdf"},{default:o(()=>[a(F,{class:"bg-white q-pa-none",style:{height:"100vh",overflow:"hidden"}},{default:o(()=>[ze(a(N,{icon:"close",class:"fixed bg-white text-primary shadow-2",round:"",dense:"",style:{top:"15px",right:"15px","z-index":"999"}},null,512),[[$t]]),a(S,{class:"q-pa-none",style:{height:"100%",overflow:"hidden"}},{default:o(()=>[t("div",Di,[T.value?(c(),f("iframe",{key:0,src:T.value,frameborder:"0"},null,8,Vi)):q("",!0)])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},ki=we($i,[["__scopeId","data-v-1a94f558"]]),qi={class:"card-grid"},Si={key:0,class:"card-anim-wrapper"},Ci={key:1,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},zi={key:2,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},Ii={class:"text-subtitle2 text-uppercase"},Ai={class:"text-caption text-uppercase"},Ei={class:"text-caption text-grey"},Pi={class:"text-caption text-uppercase"},Ui={class:"text-caption text-grey"},Ni={class:"text-caption text-uppercase"},Yi={id:"glass-overlay"},Ti={__name:"ApplicationComponent",setup(z){const O=Le(),B=kt(),A=v([]),U=v({}),$=v(1),H=v(10),h=v(!1),R=v(""),k=async()=>{h.value=!0;try{const{data:x}=await oe.get("/application",{params:{Page:$.value,Limit:H.value,Filter:R.value||""}});A.value=x.data,U.value=x.meta}catch(x){console.error("Error fetching all data:",x),le.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{h.value=!1}};xt(R,()=>{$.value=1,k()});const C=()=>{$.value<U.value.TotalPages&&($.value++,k())},V=()=>{$.value>1&&($.value--,k())},Y=()=>{$.value>1&&($.value=1,k())},j=()=>{$.value<U.value.TotalPages&&($.value=U.value.TotalPages,k())},Q=x=>x?me(x).format("MMMM Do, YYYY"):"",w=x=>{if(!x)return"";const b=x.first_name||"",M=x.middle_name?x.middle_name.charAt(0).toUpperCase()+".":"",J=x.last_name||"",s=x.suffix?` ${x.suffix}`:"";return`${b} ${M} ${J}${s}`.trim()};ft(()=>{k()});const W=v(null),E=x=>{W.value=x},T=v(!0);return yt(()=>{setTimeout(()=>{T.value=!1},1e3)}),(x,b)=>(c(),f("div",null,[t("div",qi,[Z(O).hasRole(["SuperAdmin","Admin","HR"])?(c(),f("div",Si,[ze((c(),X(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm",onClick:b[0]||(b[0]=()=>{E("ApplicationDialog")})},{default:o(()=>[a(S,null,{default:o(()=>[a(Se,{name:"bi-plus-circle",color:"grey",size:"xl"})]),_:1})]),_:1})),[[_t]])])):q("",!0),h.value?(c(),f("div",Ci,[a(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:o(()=>[a(S,null,{default:o(()=>[a(_e,{color:"dark"}),b[6]||(b[6]=t("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))]),_:1,__:[6]})]),_:1})])):!h.value&&A.value.length===0?(c(),f("div",zi,[a(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:o(()=>[a(S,null,{default:o(()=>b[7]||(b[7]=[t("div",{class:"text-caption text-uppercase text-grey"},"no data found",-1)])),_:1,__:[7]})]),_:1})])):(c(!0),f(K,{key:3},te(A.value,(M,J)=>(c(),f("div",{key:`data-${M.id}`,class:"card-anim-wrapper",style:fe({animationDelay:`${J*120}ms`})},[a(F,{onClick:()=>{E("ApplicationInfoDialog"),Z(B).data=M},class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:o(()=>[a(S,null,{default:o(()=>[t("div",Ii,d(w(M)),1),t("div",Ai,d(M?.vacancy?.position?.name),1),t("div",Ei,d(M?.vacancy?.salary_range),1)]),_:2},1024),a(S,null,{default:o(()=>[t("div",Pi,d(M?.status),1),t("div",Ui,d(Q(M?.createdAt)),1)]),_:2},1024)]),_:2},1032,["onClick"])],4))),128))]),a(il,{modelValue:W.value,"onUpdate:modelValue":b[1]||(b[1]=M=>W.value=M),"dialog-name":"ApplicationDialog",onSaved:b[2]||(b[2]=()=>{k()})},null,8,["modelValue"]),a(ki,{modelValue:W.value,"onUpdate:modelValue":b[3]||(b[3]=M=>W.value=M),"dialog-name":"ApplicationInfoDialog",onSaved:b[4]||(b[4]=()=>{k()})},null,8,["modelValue"]),a(Vt,{class:"bg-white no-shadow q-mx-lg q-mb-md q-py-sm radius-xs text-grey"},{default:o(()=>[a(wt,null,{default:o(()=>[a(Dt,{class:"text-caption text-uppercase"},{default:o(()=>b[8]||(b[8]=[t("div",null,"Â© 2025 WORKFORCE. All Rights Reserved.",-1)])),_:1,__:[8]}),a(L,{outlined:"",dense:"",debounce:"1000",modelValue:R.value,"onUpdate:modelValue":b[5]||(b[5]=M=>R.value=M),placeholder:"Search..."},{before:o(()=>[t("div",Ni,d(`page ${U.value.CurrentPage} of ${U.value.TotalPages}`),1)]),after:o(()=>[a(N,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-bar-left",disable:$.value<=1,onClick:Y},{default:o(()=>[a(ye,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:o(()=>b[9]||(b[9]=[se("First Page")])),_:1,__:[9]})]),_:1},8,["disable"]),a(N,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-left-short",disable:$.value<=1,onClick:V},{default:o(()=>[a(ye,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:o(()=>b[10]||(b[10]=[se("Previous")])),_:1,__:[10]})]),_:1},8,["disable"]),a(N,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-right-short",disable:$.value>=U.value.TotalPages,onClick:C},{default:o(()=>[a(ye,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:o(()=>b[11]||(b[11]=[se("Next")])),_:1,__:[11]})]),_:1},8,["disable"]),a(N,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-bar-right",disable:$.value>=U.value.TotalPages,onClick:j},{default:o(()=>[a(ye,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:o(()=>b[12]||(b[12]=[se("Last Page")])),_:1,__:[12]})]),_:1},8,["disable"])]),prepend:o(()=>[a(Se,{name:"bi-search",style:{"font-size":"1rem"}})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(Oe,{name:"glass-fade"},{default:o(()=>[ze(t("div",Yi,[a(F,{class:"no-shadow radius-md q-pa-md"},{default:o(()=>[a(S,{class:"text-center"},{default:o(()=>[t("div",null,[a(_e,{color:"dark"})]),b[13]||(b[13]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[13]})]),_:1})],512),[[ht,T.value]])]),_:1})]))}},Mi=we(Ti,[["__scopeId","data-v-1b30b561"]]),Fi={class:"q-gutter-xs"},Ri={class:"q-mt-md"},ji={__name:"RecruitmentPage",setup(z){const O=Ue(),B={RequisitionComponent:Ns,ApplicationComponent:Mi},A=[{component:"RequisitionComponent",label:"vacancy"},{component:"ApplicationComponent",label:"application"}];return(U,$)=>(c(),f("div",null,[a(F,{class:"no-shadow radius-xs"},{default:o(()=>[a(S,null,{default:o(()=>[t("div",Fi,[(c(),f(K,null,te(A,(H,h)=>a(N,{unelevated:"",class:P(Z(O).component===`${H.component}`?"bg-primary text-white":"bg-accent"),onClick:R=>Z(O).component=`${H.component}`,size:"xs",label:H.label},null,8,["class","onClick","label"])),64))])]),_:1})]),_:1}),t("div",Ri,[(c(),X(Zt(B[Z(O).component]),{key:Z(O).component}))])]))}},sn=we(ji,[["__scopeId","data-v-74c0737e"]]);export{sn as default};
