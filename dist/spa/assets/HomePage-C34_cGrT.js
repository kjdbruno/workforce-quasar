import{Q as P}from"./QAvatar-Bz4958o0.js";import{T as R,r as c,n as T,Y as V,aa as _,$ as v,a4 as t,a2 as o,a0 as n,a1 as Q,ab as p,a7 as a,a3 as u,a9 as m,j as W,am as j,an as B}from"./index-Cu1pZszk.js";import{Q as H}from"./QSpinnerPuff-CPwyczyv.js";import{Q as U,a as Y}from"./QInnerLoading-CQz1IH3N.js";import{Q as E}from"./QDate-Cit8v-bY.js";import"./format-CoaQEihs.js";const N="/assets/sunny-LkXzEDhD.png",z="/assets/partly-cloudy-C93QyIia.png",C="/assets/cloudy-C-4AR3hE.png",q="/assets/foggy-CU0zRKDU.png",L="/assets/light_rain-BdHQH8Gq.png",A="/assets/heavy-rain-7jkGD7A4.png",$="/assets/thunder-DzsxjisN.png",F={class:"home-page"},O={class:"row q-col-gutter-md"},K={class:"col-9"},X={class:"row q-col-gutter-sm"},J={class:"col-9"},Z={class:"row q-gutter-sm q-mb-lg"},tt={class:"col-8"},et={class:"text-body1 text-white text-capitalize"},st={class:"text-h5 text-white text-capitalize text-bold"},ot={class:"col"},at={class:"row q-col-gutter-xs items-center justify-start"},nt=["src"],it={class:"text-caption text-white text-capitalize"},ct={class:"text-body1 text-white text-capitalize text-bold"},rt={class:"row q-gutter-sm"},lt={class:"col"},dt={class:"text-h6 text-white"},ut={class:"col"},ht={class:"text-h6 text-white"},_t={class:"col"},vt={class:"text-h6 text-white"},pt={key:0,class:"col-3"},mt=["src"],wt={class:"col-3"},gt={id:"glass-overlay"},zt={__name:"HomePage",setup(ft){const l=R(),h=c(!1),w=c(new Date().toISOString().split("T")[0]),d=c(""),g=c(""),r=c(null),f=c(""),x=c(""),y=()=>{const s=new Date().getHours();s<12?d.value="Good Morning":s<18?d.value="Good Afternoon":d.value="Good Evening"},I=()=>{const s=new Date;g.value=s.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})},b=async(s,e)=>{h.value=!0;const i=`https://api.open-meteo.com/v1/forecast?latitude=${s}&longitude=${e}&current_weather=true`;try{const k=await(await fetch(i)).json();r.value=k,M(k.current_weather.weathercode)}catch(S){console.error("Weather fetch failed:",S)}finally{h.value=!1}},G=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(s=>{const{latitude:e,longitude:i}=s.coords;b(e,i)},s=>{console.warn("Location access denied:",s)})};function M(s){const i={0:{desc:"Clear sky",icon:N},1:{desc:"Mainly clear",icon:z},2:{desc:"Partly cloudy",icon:z},3:{desc:"Overcast",icon:C},45:{desc:"Fog",icon:q},48:{desc:"Rime fog",icon:q},51:{desc:"Light drizzle",icon:L},61:{desc:"Light rain",icon:L},71:{desc:"Snow fall",icon:A},80:{desc:"Rain showers",icon:A},95:{desc:"Thunderstorm",icon:$}}[s]||{desc:"Unknown",icon:C};f.value=i.desc,x.value=i.icon}const D=c(!0);return T(()=>{setTimeout(()=>{D.value=!1},2e3)}),V(()=>{y(),I(),G(),setInterval(y,6e4)}),(s,e)=>(v(),_("div",F,[t("div",O,[t("div",K,[o(m,{class:"card welcome-card no-shadow radius-sm"},{default:n(()=>[t("div",X,[t("div",J,[o(p,{class:"q-pa-xl"},{default:n(()=>[t("div",Z,[t("div",tt,[t("div",et,a(d.value)+"!",1),t("div",st,a(u(l).user?.name),1)]),t("div",ot,[t("div",at,[t("div",null,[o(P,null,{default:n(()=>[t("img",{src:x.value},null,8,nt)]),_:1})]),t("div",null,[t("div",it,a(g.value),1),t("div",ct,a(f.value),1)])])])]),e[4]||(e[4]=t("div",{class:"text-caption text-white text-uppercase"},"general information",-1)),t("div",rt,[t("div",lt,[t("div",dt,a(r.value?.current_weather?.temperature)+a(r.value?.current_weather_units?.temperature),1),e[1]||(e[1]=t("div",{class:"text-caption text-white text-capitalize"},"temperature",-1))]),t("div",ut,[t("div",ht,a(r.value?.current_weather?.winddirection)+a(r.value?.current_weather_units?.winddirection),1),e[2]||(e[2]=t("div",{class:"text-caption text-white text-capitalize"},"wind direction",-1))]),t("div",_t,[t("div",vt,a(r.value?.current_weather?.windspeed)+a(r.value?.current_weather_units?.windspeed),1),e[3]||(e[3]=t("div",{class:"text-caption text-white text-capitalize"},"wind speed",-1))])])]),_:1,__:[4]})]),u(l).user.role!=="SuperAdmin"?(v(),_("div",pt,[u(l).user.role!=="SuperAdmin"?(v(),_("img",{key:0,src:u(l).employees.photo,alt:"Welcome"},null,8,mt)):Q("",!0)])):Q("",!0)]),o(U,{showing:h.value,dark:""},{default:n(()=>[o(H)]),_:1},8,["showing"])]),_:1})]),t("div",wt,[o(m,{class:"no-shadow radius-sm"},{default:n(()=>[o(p,{class:"q-pa-none"},{default:n(()=>[o(E,{modelValue:w.value,"onUpdate:modelValue":e[0]||(e[0]=i=>w.value=i),mask:"YYYY-MM-DD",class:"full-width no-shadow radius-sm"},null,8,["modelValue"])]),_:1})]),_:1})])]),o(B,{name:"glass-fade"},{default:n(()=>[W(t("div",gt,[o(m,{class:"no-shadow radius-md q-pa-md"},{default:n(()=>[o(p,{class:"text-center"},{default:n(()=>[t("div",null,[o(Y,{color:"dark"})]),e[5]||(e[5]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[5]})]),_:1})],512),[[j,D.value]])]),_:1})]))}};export{zt as default};
