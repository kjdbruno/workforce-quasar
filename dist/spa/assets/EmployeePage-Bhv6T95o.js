import{aB as ge,a as ue,r,O as we,V as X,W as f,X as l,Z as e,a4 as ee,a6 as Y,$ as t,a7 as xe,ak as at,a5 as O,Y as ae,a8 as re,a9 as ce,am as Ce,aa as T,a2 as V,ap as Se,ag as B,an as Le,ao as Oe,a1 as me,_ as se,ai as ye,d as Me,a0 as H,a3 as Be,ac as ve,aq as oe,S as De,w as Ct,T as et,k as nt,ab as At,aj as rt,as as Te,H as ze,ar as dt,o as It,at as Mt}from"./index-DwkUvebD.js";import{a as be,Q as _e,b as qe}from"./QSpinnerIos-D0LspzUJ.js";import{a as Tt,b as Rt}from"./QResizeObserver-C7FSSitd.js";import{Q as Ye,a as Ft}from"./QFooter-DdFc9JIy.js";import{_ as Ne,h as Ze}from"./_plugin-vue_export-helper-n2pIy_th.js";import{T as K}from"./sweetalert-CAHudMyk.js";import{Q as Ve,C as je}from"./ClosePopup-DSk8RB6H.js";import{Q as fe,a as he}from"./QItem-DMrJlO52.js";import{Q as Ee}from"./QItemLabel-CdPKGmYj.js";import{Q as Ue}from"./QSelect-D1mieiHe.js";import{_ as Yt,a as Lt,b as Ot,c as Bt,d as jt,e as Ht,f as Wt,g as Gt,h as Qt,i as Xt,j as Jt,k as Zt,l as Kt,m as ea,n as ta,o as aa,p as la,q as sa,r as oa,s as ia,t as na,u as ra,v as da,w as ua,x as ca}from"./9-Dj9y5jTE.js";import{Q as ke}from"./QSpinnerPuff-DZ9h5COs.js";import{S as pa,d as ma,n as Ke}from"./simple-vue-camera.umd-B8scjrTR.js";import{Q as ut}from"./QFile-BbeZHzmZ.js";import{Q as va}from"./QBadge-Blb0bdCM.js";import"./format-CoaQEihs.js";const ga={key:0},fa={key:0,class:"q-mb-xl"},ha={class:"card-grid"},xa={class:"text-caption text-uppercase"},ya={class:"checkmark-overlay"},_a={class:"row q-col-gutter-xs q-mb-md"},ba={class:"col-2"},Va={class:"col-2"},wa={class:"col-2"},Sa={class:"col-1"},Da={class:"row q-col-gutter-xs q-mb-md"},$a={class:"col-2"},qa={class:"q-gutter-sm"},ka={class:"col"},Ea={class:"q-gutter-sm"},Ua={class:"row q-col-gutter-xs q-mb-md"},Pa={class:"col-2"},za={class:"col-4"},Na={class:"row q-col-gutter-xs q-mb-md"},Ca={class:"col-6"},Aa={class:"q-gutter-sm"},Ia={class:"row q-col-gutter-xs q-mb-md"},Ma={class:"col-2"},Ta={class:"col-2"},Ra={key:1},Fa={key:0,class:"q-mb-md"},Ya={class:"card-grid"},La={class:"inner-card-anim-wrapper",style:{animationDelay:"100ms"}},Oa={class:"text-caption text-dark text-uppercase"},Ba={class:"text-caption text-grey text-uppercase"},ja={class:"absolute-left"},Ha={key:1,class:"q-mb-md"},Wa={class:"q-mb-md"},Ga={class:"text-body1 text-uppercase"},Qa={class:"text-body1 text-uppercase"},Xa={class:"q-mb-md"},Ja={class:"q-gutter-sm"},Za={class:"row q-col-gutter-xs q-mb-md"},Ka={class:"col-2"},el={class:"col-2"},tl={class:"row q-col-gutter-xs q-mb-md"},al={class:"col-2"},ll={class:"col-2"},sl={class:"col-2"},ol={class:"col-2"},il={key:2},nl={class:"q-mb-md"},rl={class:"q-gutter-sm"},dl={class:"row q-col-gutter-xs q-mb-md"},ul={class:"col-2"},cl={class:"col-2"},pl={key:3},ml={class:"row q-col-gutter-xs q-mb-md"},vl={class:"col-2"},gl={class:"col-2"},fl={class:"col-2"},hl={class:"col-2"},xl={class:"row q-gutter-sm"},yl={class:"text-caption text-uppercase text-grey"},it=4,_l={__name:"EmployeeDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue","saved"],setup(G,{emit:s}){ge();const c=G,y=s,m=ue({get:()=>c.modelValue===c.dialogName,set:M=>{M||y("update:modelValue",null)}}),b=r(!1),k=r(null),g=r(""),d=r(""),q=r(""),A=r(""),N=r(""),w=r(""),a=r(new Date().toISOString().split("T")[0]),P=r(""),E=r(""),L=r(""),U=r(""),R=r(""),v=r(new Date().toISOString().split("T")[0]),j=r(""),I=r(""),F=r(""),$=r(""),o=r(""),n=r(""),i=r(""),p=r(""),h=r(""),S=r(""),D=r(new Date().toISOString().split("T")[0]),_=r(""),C=r(""),u=we({firstname:{type:null,msg:""},middlename:{type:null,msg:""},lastname:{type:null,msg:""},suffix:{type:null,msg:""},sex:{type:null,msg:""},civilstatus:{type:null,msg:""},birthdate:{type:null,msg:""},birthplace:{type:null,msg:""},address:{type:null,msg:""},email:{type:null,msg:""},contactNo:{type:null,msg:""},employeeNo:{type:null,msg:""},dateHired:{type:null,msg:""},employmentstatus:{type:null,msg:""},positionId:{type:null,msg:""},tin:{type:null,msg:""},sssNo:{type:null,msg:""},philhealthNo:{type:null,msg:""},pagibigNo:{type:null,msg:""},salarygroup:{type:null,msg:""},payrollgroup:{type:null,msg:""},taxstatus:{type:null,msg:""},shiftId:{type:null,msg:""},effectiveFrom:{type:null,msg:""}}),ne=()=>K.fire({icon:"error",html:`
      <div class="text-h6 text-bold text-uppercase">Request Failed</div>
      <div class="text-caption">Something went wrong.</div>
    `}),W=(M,x="required")=>(u[M].type=!0,u[M].msg=x,!0),J=M=>(u[M].type=null,u[M].msg="",!1),Z=(M,x)=>x?J(M):W(M,"required"),pe=(M,x,z,ie="invalid")=>x&&String(x).length>z?W(M,ie):J(M),de=M=>{if(!M)return!1;const x=new Date,z=new Date(M);let ie=x.getFullYear()-z.getFullYear();const Pe=x.getMonth()-z.getMonth();return(Pe<0||Pe===0&&x.getDate()<z.getDate())&&ie--,ie>=15},Re=()=>{const M=["SR","JR","II","III","IV","V","VI","VII","VIII","IX","X"],x=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,z=/^09\d{9}$/;let ie=!1;return ie||=Z("firstname",g.value),ie||=Z("middlename",d.value),ie||=Z("lastname",q.value),ie||=A.value&&!M.includes(A.value.trim().toUpperCase())?W("suffix","invalid"):J("suffix"),ie||=Z("sex",N.value),ie||=Z("civilstatus",w.value),a.value?de(a.value)?J("birthdate"):ie||=W("birthdate","invalid"):ie||=W("birthdate","required"),ie||=Z("birthplace",P.value),L.value?x.test(L.value)?L.value.length>100?ie||=W("email","invalid"):J("email"):ie||=W("email","invalid"):ie||=W("email","required"),U.value?z.test(U.value)?J("contactNo"):ie||=W("contactNo","invalid"):ie||=W("contactNo","required"),ie||=Z("address",E.value),ie&&ne(),!ie},Ge=()=>{let M=!1;return M||=Z("positionId",I.value),M||=Z("employmentstatus",j.value),M||=Z("dateHired",v.value),M||=pe("tin",F.value,15,"invalid"),M||=pe("sssNo",$.value,15,"invalid"),M||=pe("philhealthNo",o.value,15,"invalid"),M||=pe("pagibigNo",n.value,15,"invalid"),M&&ne(),!M},le=()=>{let M=!1;return M||=Z("payrollgroup",p.value),M||=Z("salarygroup",i.value),M||=Z("taxstatus",h.value),M&&ne(),!M},Q=()=>{let M=!1;return M||=Z("shiftId",S.value),M||=Z("effectiveFrom",D.value),M&&ne(),!M},te=()=>{k.value=null,g.value="",d.value="",q.value="",A.value="",N.value="",w.value="",a.value=new Date().toISOString().split("T")[0],P.value="",E.value="",L.value="",U.value="",R.value="",v.value=new Date().toISOString().split("T")[0],j.value="",I.value="",F.value="",$.value="",o.value="",n.value="",i.value="",p.value="",h.value="",S.value="",D.value=new Date().toISOString().split("T")[0],_.value="",C.value=""},Ae=()=>{Object.keys(u).forEach(M=>{u[M].type=null,u[M].msg=""})},Fe=r([]),pt=r(["Male","Female"]),mt=r(["Single","Married","Widowed","Divorced","Separated"]),vt=r(["Regular","Probationary","Contractual","Temporary","Intern"]),lt=r([]),Qe=r([]),gt=r([{value:"HIRE",label:"Hiring Rate"},{value:"PROMO",label:"Promotion Increase"},{value:"MERIT",label:"Merit Increase"},{value:"ANNUAL",label:"Annual Increase"},{value:"COLA",label:"Cost of Living Allowance"},{value:"PROB",label:"Probationary Increase"},{value:"ADJUST",label:"Salary Adjustment"},{value:"GOVT",label:"Government Mandated Increase"}]),ft=r(["Monthly","Semi-Monthly","Weekly"]),ht=r(["S","ME","S1","S2","S3","S4","ME1","ME2","ME3","ME4","Z"]),Xe=r([]),xt=(M,x)=>(z,ie)=>{if(z===""){ie(()=>{x.value=M.value});return}ie(()=>{const Pe=z.toLowerCase();x.value=M.value.filter(Nt=>Nt.label.toLowerCase().includes(Pe))})};function st(M,x="PHP"){if(!M)return"";const z=M.split("|")[0].trim(),ie=parseFloat(z.replace(/,/g,""));return isNaN(ie)?M:ie.toLocaleString("en-PH",{style:"currency",currency:x,minimumFractionDigits:2})}const yt=xt(Qe,Xe),_t=async()=>{try{const M=await oe.get("/employee/option/applicant");Fe.value=M.data}catch(M){console.error("Error fetching options:",M)}},bt=async()=>{try{const{data:M}=await oe.get("/employee/option/shift");Qe.value=(M||[]).map(x=>({label:x.label??x.name??String(x.text??x.value??""),value:Number(x.value??x.id)})),Xe.value=[...Qe.value]}catch(M){console.error("Error fetching options:",M)}},Vt=async()=>{try{const M=await oe.get("/employee/option/position");lt.value=M.data}catch(M){console.error("Error fetching options:",M)}},wt=()=>{bt(),Vt(),_t(),te(),Ae(),$e.value=0},St=M=>{g.value=M.first_name,d.value=M.middle_name,q.value=M.last_name,A.value=M.suffix,N.value=M.sex,w.value=M.civil_status,a.value=M.birthdate,P.value=M.birthplace,E.value=M.address,L.value=M.email,U.value=M.contact_number,j.value=M.vacancy.employment_status,I.value=M.vacancy.position_id,S.value=M.vacancy.shift_id},Dt=async()=>{b.value=!0;const M=k.value?.id??null;try{const x=await oe.post("/employee",{applicantId:M,firstname:g.value,middlename:d.value,lastname:q.value,suffix:A.value,sex:N.value,civilstatus:w.value,birthdate:a.value,birthplace:P.value,address:E.value,email:L.value,contactNo:U.value,employeeNo:R.value,dateHired:v.value,tin:F.value,sssNo:$.value,philhealthNo:o.value,pagibigNo:n.value,positionId:I.value,employmentstatus:j.value,salarygroup:i.value,payrollgroup:p.value,taxstatus:h.value,shiftId:S.value,effectiveFrom:D.value,effectiveTo:_.value,notes:C.value});y("saved"),y("update:modelValue",null),K.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${x.data.message}<div>
            `})}catch(x){x.response&&x.response.data&&($t(x.response.data),K.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{b.value=!1}},$t=M=>{const x=Array.isArray(M)?M:M?.errors||[];Object.keys(u).forEach(z=>{u[z].type=null,u[z].messages=[]}),x.forEach(z=>{u[z.path]!==void 0&&(u[z.path].type=!0,u[z.path].messages.push(z.msg))})},Ie=r(null),Je=r(""),ot=ue(()=>{const M=Je.value.trim().toLowerCase();return lt.value.filter(x=>x.status==="Vacant").filter(x=>!M||String(x.label||"").toLowerCase().includes(M))}),He=ue(()=>ot.value.slice(0,5)),qt=ue(()=>He.value.length),kt=ue(()=>ot.value.length),$e=r(0),Et=[Re,Ge,le,Q],Ut=()=>{const M=Et[$e.value];M&&!M()||$e.value++},Pt=()=>{$e.value>0&&$e.value--},zt=M=>{if(!M)return"";const x=M.first_name||"",z=M.middle_name?M.middle_name.charAt(0).toUpperCase()+".":"",ie=M.last_name||"",Pe=M.suffix?` ${M.suffix}`:"";return`${x} ${z} ${ie}${Pe}`.trim()};return(M,x)=>(f(),X(ve,{modelValue:m.value,"onUpdate:modelValue":x[39]||(x[39]=z=>m.value=z),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:x[40]||(x[40]=z=>wt())},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(Y,{class:"q-pa-lg"},{default:l(()=>x[41]||(x[41]=[t("div",{class:"text-h6 text-uppercase"},"new employee",-1)])),_:1,__:[41]}),e(xe,{inset:""}),e(Y,{class:"col q-pa-lg scroll"},{default:l(()=>[e(at,{name:"fade-slide",mode:"out-in"},{default:l(()=>[(f(),O("div",{key:$e.value},[$e.value===0?(f(),O("div",ga,[Fe.value.length?(f(),O("div",fa,[x[42]||(x[42]=t("div",{class:"q-mb-sm"},[t("span",{class:"text-caption text-uppercase text-grey q-mr-sm"},"choose hired applicant")],-1)),t("div",ha,[(f(!0),O(re,null,ce(Fe.value,(z,ie)=>(f(),O("div",{key:`data-${z.id}`,class:"inner-card-anim-wrapper",style:Ce({animationDelay:`${ie*120}ms`})},[e(ee,{class:T(["card card-menu card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm",{"card--active":k.value===z}]),tag:"label",onClick:()=>{k.value=z,St(z)}},{default:l(()=>[e(Y,null,{default:l(()=>[t("div",xa,V(zt(z)),1)]),_:2},1024),t("div",ya,[e(Se,{modelValue:k.value,"onUpdate:modelValue":x[0]||(x[0]=Pe=>k.value=Pe),val:z,"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",size:"xs"},null,8,["modelValue","val"])])]),_:2},1032,["class","onClick"])],4))),128))])])):ae("",!0),x[43]||(x[43]=t("div",{class:"text-overline text-uppercase text-bold q-mb-md"},"personal information",-1)),t("div",_a,[t("div",ba,[t("div",{class:T(["text-caption text-uppercase",u.firstname.type?"text-negative text-italic":"text-grey"])},V(u.firstname.type?u.firstname.msg:"firstname"),3),e(B,{modelValue:g.value,"onUpdate:modelValue":x[1]||(x[1]=z=>g.value=z),label:"Enter Firstname",outlined:"",error:u.firstname.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])]),t("div",Va,[t("div",{class:T(["text-caption text-uppercase",u.middlename.type?"text-negative text-italic":"text-grey"])},V(u.middlename.type?u.middlename.msg:"middlename"),3),e(B,{modelValue:d.value,"onUpdate:modelValue":x[2]||(x[2]=z=>d.value=z),label:"Enter Middlename",outlined:"",error:u.middlename.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])]),t("div",wa,[t("div",{class:T(["text-caption text-uppercase",u.lastname.type?"text-negative text-italic":"text-grey"])},V(u.lastname.type?u.lastname.msg:"lastname"),3),e(B,{modelValue:q.value,"onUpdate:modelValue":x[3]||(x[3]=z=>q.value=z),label:"Enter Lastname",outlined:"",error:u.lastname.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])]),t("div",Sa,[t("div",{class:T(["text-caption text-uppercase",u.suffix.type?"text-negative text-italic":"text-grey"])},V(u.suffix.type?u.suffix.msg:"suffix"),3),e(B,{modelValue:A.value,"onUpdate:modelValue":x[4]||(x[4]=z=>A.value=z),label:"Enter Suffix",outlined:"",error:u.suffix.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])])]),t("div",Da,[t("div",$a,[t("div",{class:T(["text-caption text-uppercase",u.sex.type?"text-negative text-italic":"text-grey"])},V(u.sex.type?u.sex.msg:"sex"),3),t("div",qa,[(f(!0),O(re,null,ce(pt.value,z=>(f(),X(Se,{modelValue:N.value,"onUpdate:modelValue":x[5]||(x[5]=ie=>N.value=ie),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:z,label:z},null,8,["modelValue","val","label"]))),256))])]),t("div",ka,[t("div",{class:T(["text-caption text-uppercase",u.civilstatus.type?"text-negative text-italic":"text-grey"])},V(u.civilstatus.type?u.civilstatus.msg:"civil status"),3),t("div",Ea,[(f(!0),O(re,null,ce(mt.value,z=>(f(),X(Se,{modelValue:w.value,"onUpdate:modelValue":x[6]||(x[6]=ie=>w.value=ie),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:z,label:z},null,8,["modelValue","val","label"]))),256))])])]),t("div",Ua,[t("div",Pa,[t("div",{class:T(["text-caption text-uppercase",u.birthdate.type?"text-negative text-italic":"text-grey"])},V(u.birthdate.type?u.birthdate.msg:"birthdate (YYYY-MM-DD)"),3),e(B,{outlined:"",modelValue:a.value,"onUpdate:modelValue":x[9]||(x[9]=z=>a.value=z),label:"Enter Date",error:u.birthdate.type,"no-error-icon":!0},{default:l(()=>[e(Ve,{cover:"","transition-show":"scale","transition-hide":"scale",ref_key:"popup",ref:Ie,class:"no-shadow custom-border radius-sm"},{default:l(()=>[e(be,{modelValue:a.value,"onUpdate:modelValue":[x[7]||(x[7]=z=>a.value=z),x[8]||(x[8]=()=>{Ie.value.hide()})],mask:"YYYY-MM-DD"},null,8,["modelValue"])]),_:1},512)]),_:1},8,["modelValue","error"])]),t("div",za,[t("div",{class:T(["text-caption text-uppercase",u.birthplace.type?"text-negative text-italic":"text-grey"])},V(u.birthplace.type?u.birthplace.msg:"birthplace"),3),e(B,{modelValue:P.value,"onUpdate:modelValue":x[10]||(x[10]=z=>P.value=z),label:"Enter Birthplace",outlined:"",error:u.birthplace.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])])]),t("div",Na,[t("div",Ca,[t("div",{class:T(["text-caption text-uppercase",u.address.type?"text-negative text-italic":"text-grey"])},V(u.address.type?u.address.msg:"address"),3),t("div",Aa,[e(B,{modelValue:E.value,"onUpdate:modelValue":x[11]||(x[11]=z=>E.value=z),label:"Enter Address",outlined:"",error:u.address.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])])])]),t("div",Ia,[t("div",Ma,[t("div",{class:T(["text-caption text-uppercase",u.email.type?"text-negative text-italic":"text-grey"])},V(u.email.type?u.email.msg:"email address"),3),e(B,{modelValue:L.value,"onUpdate:modelValue":x[12]||(x[12]=z=>L.value=z),label:"Enter Email Address",outlined:"",error:u.email.type,"no-error-icon":!0},null,8,["modelValue","error"])]),t("div",Ta,[t("div",{class:T(["text-caption text-uppercase",u.contactNo.type?"text-negative text-italic":"text-grey"])},V(u.contactNo.type?u.contactNo.msg:"contact number"),3),e(B,{modelValue:U.value,"onUpdate:modelValue":x[13]||(x[13]=z=>U.value=z),label:"Enter Contact No.",mask:"###########",outlined:"",error:u.contactNo.type,"no-error-icon":!0},null,8,["modelValue","error"])])])])):$e.value===1?(f(),O("div",Ra,[x[47]||(x[47]=t("div",{class:"text-overline text-uppercase text-bold q-mb-md"},"employment information",-1)),k.value?ae("",!0):(f(),O("div",Fa,[t("div",{class:T(["text-caption text-uppercase q-mb-sm",u.positionId.type?"text-negative text-italic":"text-grey"])},V(u.positionId.type?u.positionId.msg:"position"),3),t("div",Ya,[t("div",La,[He.value.length?ae("",!0):(f(),X(ee,{key:0,class:"card card-menu card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:l(()=>[e(Y,null,{default:l(()=>x[44]||(x[44]=[t("div",{class:"text-caption text-dark text-uppercase"},"no record found",-1)])),_:1,__:[44]})]),_:1}))]),He.value.length?(f(!0),O(re,{key:0},ce(He.value,(z,ie)=>(f(),O("div",{key:`data-${z.id}`,class:"inner-card-anim-wrapper",style:Ce({animationDelay:`${ie*100}ms`})},[e(ee,{onClick:()=>{I.value=z.id},class:T(["card card-menu card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm",{"card--active":I.value===z.id}])},{default:l(()=>[e(Y,null,{default:l(()=>[t("div",Oa,V(z.label),1),t("div",Ba,V(st(z?.amount)),1)]),_:2},1024),t("div",ja,[e(Se,{modelValue:I.value,"onUpdate:modelValue":x[14]||(x[14]=Pe=>I.value=Pe),val:z.id,"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",size:"xs"},null,8,["modelValue","val"])])]),_:2},1032,["onClick","class"])],4))),128)):ae("",!0)])])),k.value?(f(),O("div",Ha,[t("div",Wa,[x[45]||(x[45]=t("div",{class:"text-caption text-uppercase text-grey"},"position",-1)),t("div",Ga,V(k.value?.vacancy?.position?.name),1)]),t("div",null,[x[46]||(x[46]=t("div",{class:"text-caption text-uppercase text-grey"},"salary",-1)),t("div",Qa,V(st(k.value?.vacancy?.position?.salary_amount)),1)])])):ae("",!0),t("div",Xa,[t("div",{class:T(["text-caption text-uppercase",u.employmentstatus.type?"text-negative text-italic":"text-grey"])},V(u.employmentstatus.type?u.employmentstatus.msg:"employment status"),3),t("div",Ja,[(f(!0),O(re,null,ce(vt.value,z=>(f(),X(Se,{modelValue:j.value,"onUpdate:modelValue":x[15]||(x[15]=ie=>j.value=ie),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:z,label:z,class:"text-capitalize"},null,8,["modelValue","val","label"]))),256))])]),t("div",Za,[t("div",Ka,[t("div",{class:T(["text-caption text-uppercase",u.dateHired.msg?"text-negative text-italic":"text-grey"])},V(u.dateHired.msg?u.dateHired.msg:"date hired (YYYY-MM-DD)"),3),e(B,{outlined:"",modelValue:v.value,"onUpdate:modelValue":x[18]||(x[18]=z=>v.value=z),label:"Enter Date",error:u.dateHired.type,"no-error-icon":!0},{default:l(()=>[e(Ve,{cover:"","transition-show":"scale","transition-hide":"scale",ref_key:"popup",ref:Ie,class:"no-shadow custom-border radius-sm"},{default:l(()=>[e(be,{modelValue:v.value,"onUpdate:modelValue":[x[16]||(x[16]=z=>v.value=z),x[17]||(x[17]=()=>{Ie.value.hide()})],mask:"YYYY-MM-DD"},null,8,["modelValue"])]),_:1},512)]),_:1},8,["modelValue","error"])]),t("div",el,[t("div",{class:T(["text-caption text-uppercase",u.employeeNo.msg?"text-negative text-italic":"text-grey"])},V(u.employeeNo.msg?u.employeeNo.msg:"id number (YYYY-NNN)"),3),e(B,{modelValue:R.value,"onUpdate:modelValue":x[19]||(x[19]=z=>R.value=z),label:"Enter ID No.",mask:"####-###",outlined:"",error:u.employeeNo.type,"no-error-icon":!0},null,8,["modelValue","error"])])]),t("div",tl,[t("div",al,[t("div",{class:T(["text-caption text-uppercase",u.tin.type?"text-negative text-italic":"text-grey"])},V(u.tin.type?u.tin.msg:"TIN"),3),e(B,{modelValue:F.value,"onUpdate:modelValue":x[20]||(x[20]=z=>F.value=z),label:"Enter TIN",mask:"###-###-###-###",outlined:"",error:u.tin.type,"no-error-icon":!0,class:"text-capitalize"},null,8,["modelValue","error"])]),t("div",ll,[t("div",{class:T(["text-caption text-uppercase",u.sssNo.type?"text-negative text-italic":"text-grey"])},V(u.sssNo.type?u.sssNo.msg:"SSS no"),3),e(B,{modelValue:$.value,"onUpdate:modelValue":x[21]||(x[21]=z=>$.value=z),label:"Enter SSS No.",mask:"##-#######-#",outlined:"",error:u.sssNo.type,"no-error-icon":!0,class:"text-capitalize"},null,8,["modelValue","error"])]),t("div",sl,[t("div",{class:T(["text-caption text-uppercase",u.philhealthNo.type?"text-negative text-italic":"text-grey"])},V(u.philhealthNo.type?u.philhealthNo.msg:"Philhealth No."),3),e(B,{modelValue:o.value,"onUpdate:modelValue":x[22]||(x[22]=z=>o.value=z),label:"Enter Philhealth No.",mask:"##-#######-#",outlined:"",error:u.philhealthNo.type,"no-error-icon":!0,class:"text-capitalize"},null,8,["modelValue","error"])]),t("div",ol,[t("div",{class:T(["text-caption text-uppercase",u.pagibigNo.type?"text-negative text-italic":"text-grey"])},V(u.pagibigNo.type?u.pagibigNo.msg:"pagibig no."),3),e(B,{modelValue:n.value,"onUpdate:modelValue":x[23]||(x[23]=z=>n.value=z),label:"Enter Pagibig No.",mask:"####-####-####",outlined:"",error:u.pagibigNo.type,"no-error-icon":!0,class:"text-capitalize"},null,8,["modelValue","error"])])])])):$e.value===2?(f(),O("div",il,[x[50]||(x[50]=t("div",{class:"text-overline text-uppercase text-bold q-mb-md"},"salary schedule",-1)),t("div",nl,[t("div",{class:T(["text-caption text-uppercase",u.payrollgroup.type?"text-negative text-italic":"text-grey"])},V(u.payrollgroup.type?u.payrollgroup.msg:"payroll group"),3),t("div",rl,[(f(!0),O(re,null,ce(ft.value,z=>(f(),X(Se,{modelValue:p.value,"onUpdate:modelValue":x[24]||(x[24]=ie=>p.value=ie),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:z,label:z,class:"text-capitalize"},null,8,["modelValue","val","label"]))),256))])]),t("div",dl,[t("div",ul,[t("div",{class:T(["text-caption text-uppercase",u.salarygroup.type?"text-negative text-italic":"text-grey"])},V(u.salarygroup.type?u.salarygroup.msg:"salary group"),3),e(Ue,{outlined:"",modelValue:i.value,"onUpdate:modelValue":x[25]||(x[25]=z=>i.value=z),label:"Choose Salary Group","emit-value":"","map-options":"","use-input":"","input-debounce":"300",options:gt.value,error:u.salarygroup.type,"hide-dropdown-icon":"","no-error-icon":!0,class:"text-capitalize"},{"no-option":l(()=>[e(fe,null,{default:l(()=>[e(he,{class:"text-italic text-grey"},{default:l(()=>x[48]||(x[48]=[me(" No options ")])),_:1,__:[48]})]),_:1})]),option:l(z=>[e(fe,Le(Oe(z.itemProps)),{default:l(()=>[e(he,null,{default:l(()=>[e(Ee,null,{default:l(()=>[me(V(M.$CapitalizeWords(z.opt.label)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","error"])]),t("div",cl,[t("div",{class:T(["text-caption text-uppercase",u.taxstatus.type?"text-negative text-italic":"text-grey"])},V(u.taxstatus.type?u.taxstatus.msg:"tax status"),3),e(Ue,{outlined:"",modelValue:h.value,"onUpdate:modelValue":x[26]||(x[26]=z=>h.value=z),label:"Choose Tax Status","use-input":"","input-debounce":"300",options:ht.value,error:u.taxstatus.type,"hide-dropdown-icon":"","no-error-icon":!0,class:"text-capitalize"},{"no-option":l(()=>[e(fe,null,{default:l(()=>[e(he,{class:"text-italic text-grey"},{default:l(()=>x[49]||(x[49]=[me(" No options ")])),_:1,__:[49]})]),_:1})]),option:l(z=>[e(fe,Le(Oe(z.itemProps)),{default:l(()=>[e(he,null,{default:l(()=>[e(Ee,null,{default:l(()=>[me(V(M.$CapitalizeWords(z.opt)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","error"])])])])):$e.value===3?(f(),O("div",pl,[x[54]||(x[54]=t("div",{class:"text-overline text-uppercase text-bold q-mb-md"},"shift schedule",-1)),t("div",ml,[t("div",vl,[t("div",{class:T(["text-caption text-uppercase",u.shiftId.type?"text-negative text-italic":"text-grey"])},V(u.shiftId.type?u.shiftId.msg:"shift"),3),e(Ue,{outlined:"",modelValue:S.value,"onUpdate:modelValue":x[27]||(x[27]=z=>S.value=z),label:"Choose Shift","use-input":"","emit-value":"","map-options":"","input-debounce":"300",options:Xe.value,onFilter:se(yt),error:u.shiftId.type,"hide-dropdown-icon":"","no-error-icon":!0,class:"text-capitalize"},{"no-option":l(()=>[e(fe,null,{default:l(()=>[e(he,{class:"text-italic text-grey"},{default:l(()=>x[51]||(x[51]=[me(" No options ")])),_:1,__:[51]})]),_:1})]),option:l(z=>[e(fe,Le(Oe(z.itemProps)),{default:l(()=>[e(he,null,{default:l(()=>[e(Ee,null,{default:l(()=>[me(V(M.$CapitalizeWords(z.opt.label)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","onFilter","error"])]),t("div",gl,[t("div",{class:T(["text-caption text-uppercase",u.effectiveFrom.type?"text-negative text-italic":"text-grey"])},V(u.effectiveFrom.type?u.effectiveFrom.msg:"effective from (YYYY-MM-DD)"),3),e(B,{outlined:"",modelValue:D.value,"onUpdate:modelValue":x[30]||(x[30]=z=>D.value=z),label:"Enter Date",error:u.effectiveFrom.type,"no-error-icon":!0},{default:l(()=>[e(Ve,{cover:"","transition-show":"scale","transition-hide":"scale",ref_key:"popup",ref:Ie,class:"no-shadow custom-border radius-sm"},{default:l(()=>[e(be,{modelValue:D.value,"onUpdate:modelValue":[x[28]||(x[28]=z=>D.value=z),x[29]||(x[29]=()=>{Ie.value.hide()})],mask:"YYYY-MM-DD"},null,8,["modelValue"])]),_:1},512)]),_:1},8,["modelValue","error"])]),t("div",fl,[x[52]||(x[52]=t("div",{class:"text-caption text-uppercase text-grey"},"effective to (YYYY-MM-DD)",-1)),e(B,{outlined:"",modelValue:_.value,"onUpdate:modelValue":x[33]||(x[33]=z=>_.value=z),label:"Enter Date","no-error-icon":!0},{default:l(()=>[e(Ve,{cover:"","transition-show":"scale","transition-hide":"scale",ref_key:"popup",ref:Ie,class:"no-shadow custom-border radius-sm"},{default:l(()=>[e(be,{modelValue:_.value,"onUpdate:modelValue":[x[31]||(x[31]=z=>_.value=z),x[32]||(x[32]=()=>{Ie.value.hide()})],mask:"YYYY-MM-DD"},null,8,["modelValue"])]),_:1},512)]),_:1},8,["modelValue"])]),t("div",hl,[x[53]||(x[53]=t("div",{class:"text-caption text-uppercase text-grey"},"notes",-1)),e(B,{modelValue:C.value,"onUpdate:modelValue":x[34]||(x[34]=z=>C.value=z),label:"Enter Notes",outlined:"","no-error-icon":!0,class:"text-capitalize"},null,8,["modelValue"])])])])):ae("",!0)]))]),_:1})]),_:1}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",xl,[$e.value>0?(f(),X(H,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"back",onClick:x[35]||(x[35]=()=>{Pt()})})):ae("",!0),$e.value<it-1?(f(),X(H,{key:1,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"next",onClick:x[36]||(x[36]=()=>{Ut()})})):ae("",!0),$e.value===it-1?(f(),X(H,{key:2,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:x[37]||(x[37]=()=>{Dt()})})):ae("",!0),Me(e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",outline:""},null,512),[[je]]),$e.value===1&&!k.value?(f(),X(B,{key:3,outlined:"",dense:"",debounce:"1000",modelValue:Je.value,"onUpdate:modelValue":x[38]||(x[38]=z=>Je.value=z),placeholder:"Search..."},{prepend:l(()=>[e(Be,{name:"bi-search",style:{"font-size":"1rem"}})]),after:l(()=>[t("div",yl,V(qt.value)+" of "+V(kt.value),1)]),_:1},8,["modelValue"])):ae("",!0)])]),_:1}),e(_e,{showing:b.value},{default:l(()=>[e(ee,{class:"no-shadow radius-md q-pa-md"},{default:l(()=>[e(Y,{class:"text-center"},{default:l(()=>[t("div",null,[e(qe,{color:"dark"})]),x[55]||(x[55]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[55]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},bl=Ne(_l,[["__scopeId","data-v-93b98663"]]),Vl={class:"wrapper"},wl={class:"card-grid"},Sl={key:0,class:"card-anim-wrapper"},Dl={key:1,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},$l={key:2,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},ql={class:"text-caption text-uppercase"},kl={class:"text-subtitle2 text-uppercase"},El={class:"text-caption text-uppercase"},Ul={class:"text-caption text-grey"},Pl={class:"text-caption text-grey text-italic"},zl={class:"text-caption text-uppercase"},Nl={id:"glass-overlay"},Cl={__name:"EmployeeComponent",setup(G){const s=De(),c=ge(),y=r([]),m=r({}),b=r(1),k=r(10),g=r(!1),d=r(""),q=async()=>{g.value=!0;try{const{data:$}=await oe.get("/employee",{params:{Page:b.value,Limit:k.value,Filter:d.value||""}});y.value=$.data,m.value=$.meta}catch($){console.error("Error fetching all data:",$),K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{g.value=!1}};Ct(d,()=>{b.value=1,q()});const A=()=>{b.value<m.value.TotalPages&&(b.value++,q())},N=()=>{b.value>1&&(b.value--,q())},w=()=>{b.value>1&&(b.value=1,q())},a=()=>{b.value<m.value.TotalPages&&(b.value=m.value.TotalPages,q())},P=$=>{if(!$)return"";const o=$.first_name||"",n=$.middle_name?$.middle_name.charAt(0).toUpperCase()+".":"",i=$.last_name||"",p=$.suffix?` ${$.suffix}`:"";return`${o} ${n} ${i}${p}`.trim()};et(()=>{q()}),r(!1),r(!1),r(null),r(""),r(""),r(""),r(""),r(""),r(""),r(new Date().toISOString().split("T")[0]),r(""),r(""),r(""),r(""),r(""),r(new Date().toISOString().split("T")[0]),r(""),r(""),r(""),r(""),r(""),r(""),r(""),r(""),r(""),r(""),r(""),r(new Date().toISOString().split("T")[0]),r(""),r(""),we({firstname:{type:null,msg:""},middlename:{type:null,msg:""},lastname:{type:null,msg:""},suffix:{type:null,msg:""},sex:{type:null,msg:""},civilstatus:{type:null,msg:""},birthdate:{type:null,msg:""},birthplace:{type:null,msg:""},address:{type:null,msg:""},email:{type:null,msg:""},contactNo:{type:null,msg:""},employeeNo:{type:null,msg:""},dateHired:{type:null,msg:""},employmentstatus:{type:null,msg:""},departmentId:{type:null,msg:""},positionId:{type:null,msg:""},tin:{type:null,msg:""},sssNo:{type:null,msg:""},philhealthNo:{type:null,msg:""},pagibigNo:{type:null,msg:""},salarygroup:{type:null,msg:""},payrollgroup:{type:null,msg:""},taxstatus:{type:null,msg:""},shiftId:{type:null,msg:""},effectiveFrom:{type:null,msg:""}}),r([]),r(["Male","Female"]),r(["Single","Married","Widowed","Divorced","Separated"]),r(["Regular","Probationary","Contractual","Temporary","Intern"]);const E=r([]);r([]),r([]),r([{value:"HIRE",label:"Hiring Rate"},{value:"PROMO",label:"Promotion Increase"},{value:"MERIT",label:"Merit Increase"},{value:"ANNUAL",label:"Annual Increase"},{value:"COLA",label:"Cost of Living Allowance"},{value:"PROB",label:"Probationary Increase"},{value:"ADJUST",label:"Salary Adjustment"},{value:"GOVT",label:"Government Mandated Increase"}]),r(["Monthly","Semi-Monthly","Weekly"]),r(["S","ME","S1","S2","S3","S4","ME1","ME2","ME3","ME4","Z"]),r([]),r([]);function L($,o="PHP"){if(!$)return"";const n=$.split("|")[0].trim(),i=parseFloat(n.replace(/,/g,""));return isNaN(i)?$:i.toLocaleString("en-PH",{style:"currency",currency:o,minimumFractionDigits:2})}r(null);const U=r(""),R=ue(()=>{const $=U.value.trim().toLowerCase();return E.value.filter(o=>o.status==="Vacant").filter(o=>!$||String(o.label||"").toLowerCase().includes($))}),v=ue(()=>R.value.slice(0,5));ue(()=>v.value.length),ue(()=>R.value.length),r(0);const j=r(null),I=$=>{j.value=$},F=r(!0);return nt(()=>{setTimeout(()=>{F.value=!1},1e3)}),($,o)=>(f(),O("div",Vl,[t("div",wl,[se(s).hasRole(["SuperAdmin","Admin","HR"])?(f(),O("div",Sl,[Me((f(),X(ee,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm",onClick:o[0]||(o[0]=()=>{I("EmployeeDialog")})},{default:l(()=>[e(Y,null,{default:l(()=>[e(Be,{name:"bi-plus-circle",color:"grey",size:"xl"})]),_:1})]),_:1})),[[At]])])):ae("",!0),g.value?(f(),O("div",Dl,[e(ee,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:l(()=>[e(Y,{class:"text-center"},{default:l(()=>[e(qe,{color:"dark"}),o[4]||(o[4]=t("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))]),_:1,__:[4]})]),_:1})])):!g.value&&y.value.length===0?(f(),O("div",$l,[e(ee,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:l(()=>[e(Y,{class:"text-center"},{default:l(()=>o[5]||(o[5]=[t("div",{class:"text-caption text-uppercase text-grey"},"no data found",-1)])),_:1,__:[5]})]),_:1})])):ae("",!0),(f(!0),O(re,null,ce(y.value,(n,i)=>(f(),O("div",{key:`data-${n.id}`,class:"card-anim-wrapper",style:Ce({animationDelay:`${i*120}ms`})},[e(ee,{onClick:()=>{se(c).component="ProfileComponent",se(c).data=n},class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:l(()=>[e(Y,null,{default:l(()=>[t("div",ql,V(n?.employment?.employee_no),1),t("div",kl,V(P(n)),1)]),_:2},1024),e(Y,null,{default:l(()=>[t("div",El,V(n?.employment?.position?.name),1),t("div",Ul,V(n?.employment?.employment_status),1),t("div",Pl,V(L(n?.employment?.position?.amount)),1)]),_:2},1024),t("div",{class:T(["absolute-top-left q-ma-sm",n.status=="Active"?"bg-positive":"bg-negative"]),style:{width:"7px",height:"7px","border-radius":"50%"}},null,2)]),_:2},1032,["onClick"])],4))),128))]),e(Ft,{class:"bg-white no-shadow q-mx-lg q-mb-md q-py-sm radius-xs text-grey"},{default:l(()=>[e(Tt,null,{default:l(()=>[e(Rt,{class:"text-caption text-uppercase"},{default:l(()=>o[6]||(o[6]=[t("div",null,"Â© 2025 WORKFORCE. All Rights Reserved.",-1)])),_:1,__:[6]}),e(B,{outlined:"",dense:"",debounce:"1000",modelValue:d.value,"onUpdate:modelValue":o[1]||(o[1]=n=>d.value=n),placeholder:"Search..."},{before:l(()=>[t("div",zl,V(`page ${m.value.CurrentPage} of ${m.value.TotalPages}`),1)]),after:l(()=>[e(H,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-bar-left",disable:b.value<=1,onClick:w},{default:l(()=>[e(Ye,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:l(()=>o[7]||(o[7]=[me("First Page")])),_:1,__:[7]})]),_:1},8,["disable"]),e(H,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-left-short",disable:b.value<=1,onClick:N},{default:l(()=>[e(Ye,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:l(()=>o[8]||(o[8]=[me("Previous")])),_:1,__:[8]})]),_:1},8,["disable"]),e(H,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-right-short",disable:b.value>=m.value.TotalPages,onClick:A},{default:l(()=>[e(Ye,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:l(()=>o[9]||(o[9]=[me("Next")])),_:1,__:[9]})]),_:1},8,["disable"]),e(H,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-bar-right",disable:b.value>=m.value.TotalPages,onClick:a},{default:l(()=>[e(Ye,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:l(()=>o[10]||(o[10]=[me("Last Page")])),_:1,__:[10]})]),_:1},8,["disable"])]),prepend:l(()=>[e(Be,{name:"bi-search",style:{"font-size":"1rem"}})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(bl,{modelValue:j.value,"onUpdate:modelValue":o[2]||(o[2]=n=>j.value=n),"dialog-name":"EmployeeDialog",onSaved:o[3]||(o[3]=()=>{q()})},null,8,["modelValue"]),e(at,{name:"glass-fade"},{default:l(()=>[Me(t("div",Nl,[e(ee,{class:"no-shadow radius-md q-pa-md"},{default:l(()=>[e(Y,{class:"text-center"},{default:l(()=>[t("div",null,[e(qe,{color:"dark"})]),o[11]||(o[11]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[11]})]),_:1})],512),[[rt,F.value]])]),_:1})]))}},Al=Ne(Cl,[["__scopeId","data-v-2182a2ea"]]),Il={class:"row q-col-gutter-xs q-mb-md"},Ml={class:"col-2"},Tl={class:"col-2"},Rl={class:"col-2"},Fl={class:"col-1"},Yl={class:"row q-col-gutter-xs q-mb-md"},Ll={class:"col-2"},Ol={class:"q-gutter-sm"},Bl={class:"col"},jl={class:"q-gutter-sm"},Hl={class:"row q-col-gutter-xs q-mb-md"},Wl={class:"col-2"},Gl={class:"col-4"},Ql={class:"row q-col-gutter-xs q-mb-md"},Xl={class:"col-6"},Jl={class:"q-gutter-sm"},Zl={class:"row q-col-gutter-xs q-mb-md"},Kl={class:"col-2"},es={class:"col-2"},ts={class:"q-gutter-sm"},as={__name:"ProfileDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue","saved"],setup(G,{emit:s}){const c=De(),y=ge(),m=G,b=s,k=ue({get:()=>m.modelValue===m.dialogName,set:_=>{_||b("update:modelValue",null)}}),g=r(!1),d=r(""),q=r(""),A=r(""),N=r(""),w=r(""),a=r(""),P=r(""),E=r(""),L=r(""),U=r(""),R=r(""),v=we({firstname:{type:null,msg:""},middlename:{type:null,msg:""},lastname:{type:null,msg:""},suffix:{type:null,msg:""},sex:{type:null,msg:""},civilstatus:{type:null,msg:""},birthdate:{type:null,msg:""},birthplace:{type:null,msg:""},address:{type:null,msg:""},email:{type:null,msg:""},contactNo:{type:null,msg:""}}),j=()=>K.fire({icon:"error",html:`
      <div class="text-h6 text-bold text-uppercase">Request Failed</div>
      <div class="text-caption">Something went wrong.</div>
    `}),I=(_,C="required")=>(v[_].type=!0,v[_].msg=C,!0),F=_=>(v[_].type=null,v[_].msg="",!1),$=(_,C)=>C?F(_):I(_,"required"),o=_=>{if(!_)return!1;const C=new Date,u=new Date(_);let ne=C.getFullYear()-u.getFullYear();const W=C.getMonth()-u.getMonth();return(W<0||W===0&&C.getDate()<u.getDate())&&ne--,ne>=15},n=()=>{const _=["SR","JR","II","III","IV","V","VI","VII","VIII","IX","X"],C=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,u=/^09\d{9}$/;let ne=!1;return ne||=$("firstname",d.value),ne||=$("middlename",q.value),ne||=$("lastname",A.value),ne||=N.value&&!_.includes(N.value.trim().toUpperCase())?I("suffix","invalid"):F("suffix"),ne||=$("sex",w.value),ne||=$("civilstatus",a.value),P.value?o(P.value)?F("birthdate"):ne||=I("birthdate","invalid"):ne||=I("birthdate","required"),ne||=$("birthplace",E.value),U.value?C.test(U.value)?U.value.length>100?ne||=I("email","invalid"):F("email"):ne||=I("email","invalid"):ne||=I("email","required"),R.value?u.test(R.value)?F("contactNo"):ne||=I("contactNo","invalid"):ne||=I("contactNo","required"),ne||=$("address",L.value),ne&&j(),!ne},i=r(["Male","Female"]),p=r(["Single","Married","Widowed","Divorced","Separated"]),h=()=>{const _=y.data;d.value=_.first_name,q.value=_.middle_name,A.value=_.last_name,N.value=_.suffix,w.value=_.sex,a.value=_.civil_status,P.value=_.birthdate,E.value=_.birthplace,L.value=_.address,U.value=_.email,R.value=_.contact_number},S=async()=>{if(!(n&&!n())){g.value=!0;try{const _=await oe.post(`/employee/${y.data?.id}/information`,{firstname:d.value,middlename:q.value,lastname:A.value,suffix:N.value,sex:w.value,civilstatus:a.value,birthdate:P.value,address:L.value,email:U.value,contactNo:R.value});b("saved"),b("update:modelValue",null),K.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${_.data.message}<div>
            `})}catch(_){_.response&&_.response.data&&(D(_.response.data),K.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{g.value=!1}}},D=_=>{const C=Array.isArray(_)?_:_?.errors||[];Object.keys(v).forEach(u=>{v[u].type=null,v[u].messages=[]}),C.forEach(u=>{v[u.path]!==void 0&&(v[u.path].type=!0,v[u.path].messages.push(u.msg))})};return(_,C)=>(f(),X(ve,{modelValue:k.value,"onUpdate:modelValue":C[15]||(C[15]=u=>k.value=u),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:C[16]||(C[16]=u=>h())},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(Y,{class:"q-pa-lg"},{default:l(()=>C[17]||(C[17]=[t("div",{class:"text-h6 text-uppercase"},"profile information",-1)])),_:1,__:[17]}),e(xe,{inset:""}),e(Y,{class:"col q-pa-lg scroll"},{default:l(()=>[t("div",Il,[t("div",Ml,[t("div",{class:T(["text-caption text-uppercase",v.firstname.type?"text-negative text-italic":"text-grey"])},V(v.firstname.type?v.firstname.msg:"firstname"),3),e(B,{modelValue:d.value,"onUpdate:modelValue":C[0]||(C[0]=u=>d.value=u),label:"Enter Firstname",outlined:"",error:v.firstname.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])]),t("div",Tl,[t("div",{class:T(["text-caption text-uppercase",v.middlename.type?"text-negative text-italic":"text-grey"])},V(v.middlename.type?v.middlename.msg:"middlename"),3),e(B,{modelValue:q.value,"onUpdate:modelValue":C[1]||(C[1]=u=>q.value=u),label:"Enter Middlename",outlined:"",error:v.middlename.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])]),t("div",Rl,[t("div",{class:T(["text-caption text-uppercase",v.lastname.type?"text-negative text-italic":"text-grey"])},V(v.lastname.type?v.lastname.msg:"lastname"),3),e(B,{modelValue:A.value,"onUpdate:modelValue":C[2]||(C[2]=u=>A.value=u),label:"Enter Lastname",outlined:"",error:v.lastname.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])]),t("div",Fl,[t("div",{class:T(["text-caption text-uppercase",v.suffix.type?"text-negative text-italic":"text-grey"])},V(v.suffix.type?v.suffix.msg:"suffix"),3),e(B,{modelValue:N.value,"onUpdate:modelValue":C[3]||(C[3]=u=>N.value=u),label:"Enter Suffix",outlined:"",error:v.suffix.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])])]),t("div",Yl,[t("div",Ll,[t("div",{class:T(["text-caption text-uppercase",v.sex.type?"text-negative text-italic":"text-grey"])},V(v.sex.type?v.sex.msg:"sex"),3),t("div",Ol,[(f(!0),O(re,null,ce(i.value,u=>(f(),X(Se,{modelValue:w.value,"onUpdate:modelValue":C[4]||(C[4]=ne=>w.value=ne),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:u,label:u},null,8,["modelValue","val","label"]))),256))])]),t("div",Bl,[t("div",{class:T(["text-caption text-uppercase",v.civilstatus.type?"text-negative text-italic":"text-grey"])},V(v.civilstatus.type?v.civilstatus.msg:"civil status"),3),t("div",jl,[(f(!0),O(re,null,ce(p.value,u=>(f(),X(Se,{modelValue:a.value,"onUpdate:modelValue":C[5]||(C[5]=ne=>a.value=ne),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:u,label:u},null,8,["modelValue","val","label"]))),256))])])]),t("div",Hl,[t("div",Wl,[t("div",{class:T(["text-caption text-uppercase",v.birthdate.type?"text-negative text-italic":"text-grey"])},V(v.birthdate.type?v.birthdate.msg:"birthdate (YYYY-MM-DD)"),3),e(B,{outlined:"",modelValue:P.value,"onUpdate:modelValue":C[8]||(C[8]=u=>P.value=u),label:"Enter Date",error:v.birthdate.type,"no-error-icon":!0},{default:l(()=>[e(Ve,{cover:"","transition-show":"scale","transition-hide":"scale",ref:"popup",class:"no-shadow custom-border radius-sm"},{default:l(()=>[e(be,{modelValue:P.value,"onUpdate:modelValue":[C[6]||(C[6]=u=>P.value=u),C[7]||(C[7]=()=>{_.popup.hide()})],mask:"YYYY-MM-DD"},null,8,["modelValue"])]),_:1},512)]),_:1},8,["modelValue","error"])]),t("div",Gl,[t("div",{class:T(["text-caption text-uppercase",v.birthplace.type?"text-negative text-italic":"text-grey"])},V(v.birthplace.type?v.birthplace.msg:"birthplace"),3),e(B,{modelValue:E.value,"onUpdate:modelValue":C[9]||(C[9]=u=>E.value=u),label:"Enter Birthplace",outlined:"",error:v.birthplace.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])])]),t("div",Ql,[t("div",Xl,[t("div",{class:T(["text-caption text-uppercase",v.address.type?"text-negative text-italic":"text-grey"])},V(v.address.type?v.address.msg:"address"),3),t("div",Jl,[e(B,{modelValue:L.value,"onUpdate:modelValue":C[10]||(C[10]=u=>L.value=u),label:"Enter Address",outlined:"",error:v.address.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])])])]),t("div",Zl,[t("div",Kl,[t("div",{class:T(["text-caption text-uppercase",v.email.type?"text-negative text-italic":"text-grey"])},V(v.email.type?v.email.msg:"email address"),3),e(B,{modelValue:U.value,"onUpdate:modelValue":C[11]||(C[11]=u=>U.value=u),label:"Enter Email Address",outlined:"",error:v.email.type,"no-error-icon":!0},null,8,["modelValue","error"])]),t("div",es,[t("div",{class:T(["text-caption text-uppercase",v.contactNo.type?"text-negative text-italic":"text-grey"])},V(v.contactNo.type?v.contactNo.msg:"contact number"),3),e(B,{modelValue:R.value,"onUpdate:modelValue":C[12]||(C[12]=u=>R.value=u),label:"Enter Contact No.",outlined:"",error:v.contactNo.type,"no-error-icon":!0},null,8,["modelValue","error"])])])]),_:1}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",ts,[se(c).hasRole(["SuperAdmin","Admin","HR"])?(f(),X(H,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:C[13]||(C[13]=u=>S())})):ae("",!0),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:C[14]||(C[14]=()=>{b("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:g.value},{default:l(()=>[e(ee,{class:"no-shadow radius-md q-pa-md"},{default:l(()=>[e(Y,{class:"text-center"},{default:l(()=>[t("div",null,[e(qe,{color:"dark"})]),C[18]||(C[18]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[18]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},ls={class:"q-mb-md"},ss={class:"q-gutter-sm"},os={class:"row q-col-gutter-xs q-mb-md"},is={class:"col-2"},ns={class:"col-2"},rs={class:"row q-col-gutter-xs q-mb-md"},ds={class:"col-2"},us={class:"col-2"},cs={class:"col-2"},ps={class:"col-2"},ms={class:"q-gutter-sm"},vs={__name:"EmploymentDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue","saved"],setup(G,{emit:s}){const c=De(),y=ge(),m=G,b=s,k=ue({get:()=>m.modelValue===m.dialogName,set:i=>{i||b("update:modelValue",null)}}),g=r(!1),d=r(""),q=r(""),A=r(""),N=r(""),w=r(""),a=r(""),P=r(""),E=we({employeeNo:{type:null,msg:""},dateHired:{type:null,msg:""},employmentstatus:{type:null,msg:""},tin:{type:null,msg:""},sssNo:{type:null,msg:""},philhealthNo:{type:null,msg:""},pagibigNo:{type:null,msg:""}}),L=()=>K.fire({icon:"error",html:`
      <div class="text-h6 text-bold text-uppercase">Request Failed</div>
      <div class="text-caption">Something went wrong.</div>
    `}),U=(i,p="required")=>(E[i].type=!0,E[i].msg=p,!0),R=i=>(E[i].type=null,E[i].msg="",!1),v=(i,p)=>p?R(i):U(i,"required"),j=(i,p,h,S="invalid")=>p&&String(p).length>h?U(i,S):R(i),I=()=>{let i=!1;return i||=v("employmentstatus",A.value),i||=v("dateHired",q.value),i||=j("tin",N.value,15,"invalid"),i||=j("sssNo",w.value,15,"invalid"),i||=j("philhealthNo",a.value,15,"invalid"),i||=j("pagibigNo",P.value,15,"invalid"),i&&L(),!i},F=r(["Regular","Probationary","Contractual","Temporary","Intern"]),$=()=>{const i=y.data;d.value=i.employment?.employee_no,q.value=i.employment?.date_hired,A.value=i.employment.employment_status,N.value=i.employment.tin,w.value=i.employment.sss_no,a.value=i.employment.philhealth_no,P.value=i.employment.pagibig_no},o=async()=>{if(!(I&&!I())){g.value=!0;try{const i=await oe.post(`/employee/${y.data?.employment?.id}/employment`,{employeeNo:d.value,dateHired:q.value,employmentstatus:A.value,tin:N.value,sssNo:w.value,pagibigNo:P.value,philhealthNo:a.value});b("saved"),b("update:modelValue",null),K.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${i.data.message}<div>
            `})}catch(i){i.response&&i.response.data&&(n(i.response.data),K.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{g.value=!1}}},n=i=>{const p=Array.isArray(i)?i:i?.errors||[];Object.keys(E).forEach(h=>{E[h].type=null,E[h].messages=[]}),p.forEach(h=>{E[h.path]!==void 0&&(E[h.path].type=!0,E[h.path].messages.push(h.msg))})};return(i,p)=>(f(),X(ve,{modelValue:k.value,"onUpdate:modelValue":p[11]||(p[11]=h=>k.value=h),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:p[12]||(p[12]=h=>$())},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(Y,{class:"q-pa-lg"},{default:l(()=>p[13]||(p[13]=[t("div",{class:"text-h6 text-uppercase"},"employment information",-1)])),_:1,__:[13]}),e(xe,{inset:""}),e(Y,{class:"col q-pa-lg scroll"},{default:l(()=>[t("div",ls,[t("div",{class:T(["text-caption text-uppercase",E.employmentstatus.type?"text-negative text-italic":"text-grey"])},V(E.employmentstatus.type?E.employmentstatus.msg:"employment status"),3),t("div",ss,[(f(!0),O(re,null,ce(F.value,h=>(f(),X(Se,{modelValue:A.value,"onUpdate:modelValue":p[0]||(p[0]=S=>A.value=S),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:h,label:h,class:"text-capitalize"},null,8,["modelValue","val","label"]))),256))])]),t("div",os,[t("div",is,[t("div",{class:T(["text-caption text-uppercase",E.dateHired.msg?"text-negative text-italic":"text-grey"])},V(E.dateHired.msg?E.dateHired.msg:"date hired (YYYY-MM-DD)"),3),e(B,{outlined:"",modelValue:q.value,"onUpdate:modelValue":p[3]||(p[3]=h=>q.value=h),label:"Enter Date",error:E.dateHired.type,"no-error-icon":!0},{default:l(()=>[e(Ve,{cover:"","transition-show":"scale","transition-hide":"scale",ref:"popup",class:"no-shadow custom-border radius-sm"},{default:l(()=>[e(be,{modelValue:q.value,"onUpdate:modelValue":[p[1]||(p[1]=h=>q.value=h),p[2]||(p[2]=()=>{i.popup.hide()})],mask:"YYYY-MM-DD"},null,8,["modelValue"])]),_:1},512)]),_:1},8,["modelValue","error"])]),t("div",ns,[t("div",{class:T(["text-caption text-uppercase",E.employeeNo.msg?"text-negative text-italic":"text-grey"])},V(E.employeeNo.msg?E.employeeNo.msg:"id number (YYYY-NNN)"),3),e(B,{modelValue:d.value,"onUpdate:modelValue":p[4]||(p[4]=h=>d.value=h),label:"Enter ID No.",mask:"####-###",outlined:"",error:E.employeeNo.type,"no-error-icon":!0},null,8,["modelValue","error"])])]),t("div",rs,[t("div",ds,[t("div",{class:T(["text-caption text-uppercase",E.tin.type?"text-negative text-italic":"text-grey"])},V(E.tin.type?E.tin.msg:"TIN"),3),e(B,{modelValue:N.value,"onUpdate:modelValue":p[5]||(p[5]=h=>N.value=h),label:"Enter TIN",outlined:"",error:E.tin.type,"no-error-icon":!0,class:"text-capitalize"},null,8,["modelValue","error"])]),t("div",us,[t("div",{class:T(["text-caption text-uppercase",E.sssNo.type?"text-negative text-italic":"text-grey"])},V(E.sssNo.type?E.sssNo.msg:"SSS no"),3),e(B,{modelValue:w.value,"onUpdate:modelValue":p[6]||(p[6]=h=>w.value=h),label:"Enter SSS No.",outlined:"",error:E.sssNo.type,"no-error-icon":!0,class:"text-capitalize"},null,8,["modelValue","error"])]),t("div",cs,[t("div",{class:T(["text-caption text-uppercase",E.philhealthNo.type?"text-negative text-italic":"text-grey"])},V(E.philhealthNo.type?E.philhealthNo.msg:"Philhealth No."),3),e(B,{modelValue:a.value,"onUpdate:modelValue":p[7]||(p[7]=h=>a.value=h),label:"Enter Philhealth No.",outlined:"",error:E.philhealthNo.type,"no-error-icon":!0,class:"text-capitalize"},null,8,["modelValue","error"])]),t("div",ps,[t("div",{class:T(["text-caption text-uppercase",E.pagibigNo.type?"text-negative text-italic":"text-grey"])},V(E.pagibigNo.type?E.pagibigNo.msg:"pagibig no."),3),e(B,{modelValue:P.value,"onUpdate:modelValue":p[8]||(p[8]=h=>P.value=h),label:"Enter Pagibig No.",outlined:"",error:E.pagibigNo.type,"no-error-icon":!0,class:"text-capitalize"},null,8,["modelValue","error"])])])]),_:1}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",ms,[se(c).hasRole(["SuperAdmin","Admin","HR"])?(f(),X(H,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:p[9]||(p[9]=h=>o())})):ae("",!0),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:p[10]||(p[10]=()=>{b("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:g.value},{default:l(()=>[e(ee,{class:"no-shadow radius-md q-pa-md"},{default:l(()=>[e(Y,{class:"text-center"},{default:l(()=>[t("div",null,[e(qe,{color:"dark"})]),p[14]||(p[14]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[14]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},gs={class:"card-grid"},fs={key:0,class:"inner-card-anim-wrapper",style:{animationDelay:"120ms"}},hs={key:1,class:"inner-card-anim-wrapper",style:{animationDelay:"120ms"}},xs={class:"text-subtitle2 text-uppercase"},ys={class:"text-caption text-uppercase"},_s={class:"text-caption text-uppercase"},bs={class:"text-caption text-grey"},Vs={key:0,class:"absolute-left"},ws={class:"q-gutter-sm"},Ss={class:"text-center"},Ds={class:"iframe-container"},$s=["src"],qs={__name:"ServiceDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(G,{emit:s}){const c=De(),y=ge(),m=G,b=s,k=ue({get:()=>m.modelValue===m.dialogName,set:j=>{j||b("update:modelValue",null)}}),g=r(!1),d=r([{id:"",amount:"",salarytype:"",salarygroup:"",effectiveDate:"",endDate:"",notes:""}]),q=async j=>{g.value=!0;try{const I=await oe.get("/employee/service",{params:{id:j}});A(I.data.record)}catch(I){console.error("Error fetching all data:",I),K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{g.value=!1}},A=(j=[])=>{d.value=j.map(I=>({id:I.id??"",amount:I.amount??"",salarytype:I.salary_type??"",salarygroup:I.salary_group??"",effectiveDate:I.effective_date??"",endDate:I.end_date??"",notes:I.notes??"",is_active:I.is_active??""}))},N=()=>{q(y.data?.id),U.value=""};we({amount:{type:null,msg:""},salarytype:{type:null,msg:""},salarygroup:{type:null,msg:""},effectivedate:{type:null,msg:""},enddate:{type:null,msg:""},notes:{type:null,msg:""}});function w(j,I="PHP"){return j?j.split("-").map(F=>parseFloat(F.replace(/,/g,"")).toLocaleString("en-PH",{style:"currency",currency:I,minimumFractionDigits:2})).join(" - "):""}const a=j=>{if(!j?.effectiveDate)return"";const I=o=>new Date(o).toLocaleDateString("en-PH",{year:"numeric",month:"short",day:"2-digit"}),F=I(j.effectiveDate),$=j.endDate?I(j.endDate):"Present";return`${F} â ${$}`},P=r(!1),E=r(null),L=async j=>{g.value=!0;try{const I=await oe.get(`/salary/service/${j}/pdf`,{responseType:"arraybuffer"}),F=new Blob([I.data],{type:"application/pdf"}),$=window.URL.createObjectURL(F)+"#view=FitW";E.value=$,P.value=!0,g.value=!1}catch(I){g.value=!1,console.error("Error generating PDF:",I)}},U=r(""),R=async()=>{g.value=!0;try{const j=await oe.post(`/employee/${U.value}/salary/disable`);q(y.data?.id),U.value="",K.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${j.data.message}<div>
            `})}catch(j){j.response&&j.response.data&&(applyBackendErrors(j.response.data),K.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{g.value=!1}},v=ue(()=>c.hasRole(["SuperAdmin","Admin","HR"]));return(j,I)=>(f(),O(re,null,[e(ve,{modelValue:k.value,"onUpdate:modelValue":I[4]||(I[4]=F=>k.value=F),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:I[5]||(I[5]=F=>N())},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(Y,{class:"q-pa-lg"},{default:l(()=>I[7]||(I[7]=[t("div",{class:"text-h6 text-uppercase"},"service records",-1)])),_:1,__:[7]}),e(xe,{inset:""}),e(Y,{class:"col q-pa-lg scroll"},{default:l(()=>[t("div",gs,[j.loading?(f(),O("div",fs,[e(ee,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:l(()=>[e(Y,{class:"text-center"},{default:l(()=>[e(ke,{size:"md"}),I[8]||(I[8]=t("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))]),_:1,__:[8]})]),_:1})])):!j.loading&&d.value.length===0?(f(),O("div",hs,[e(ee,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:l(()=>[e(Y,{class:"text-center"},{default:l(()=>I[9]||(I[9]=[t("div",{class:"text-caption text-uppercase text-grey"},"no data found",-1)])),_:1,__:[9]})]),_:1})])):ae("",!0),(f(!0),O(re,null,ce(d.value,(F,$)=>(f(),O("div",{key:`data-${F.id}`,class:"inner-card-anim-wrapper",style:Ce({animationDelay:`${$*120}ms`})},[e(ee,{class:T(["card card-menu card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm",{"card--active":U.value===F.id,"card--disabled":!F.is_active||!v.value}]),onClick:o=>U.value=F.id},{default:l(()=>[e(Y,{class:"text-center full-width"},{default:l(()=>[t("div",xs,V(w(F?.amount)),1),t("div",ys,V(F?.salarytype),1)]),_:2},1024),e(Y,{class:"full-width"},{default:l(()=>[t("div",_s,V(F?.salarygroup),1),t("div",bs,V(a(F)),1)]),_:2},1024),F.is_active?(f(),O("div",Vs,[e(Se,{modelValue:U.value,"onUpdate:modelValue":I[0]||(I[0]=o=>U.value=o),val:F.id,"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",size:"xs"},null,8,["modelValue","val"])])):ae("",!0)]),_:2},1032,["onClick","class"])],4))),128))])]),_:1}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",ws,[U.value!=""&&se(c).hasRole(["SuperAdmin","Admin","HR"])?(f(),X(H,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"remove",onClick:I[1]||(I[1]=F=>R())})):ae("",!0),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"print",onClick:I[2]||(I[2]=F=>L(se(y).data?.id))}),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:I[3]||(I[3]=()=>{b("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:g.value},{default:l(()=>[t("div",Ss,[e(ke,{size:"md"}),I[10]||(I[10]=t("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))])]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]),e(ve,{modelValue:P.value,"onUpdate:modelValue":I[6]||(I[6]=F=>P.value=F),"full-height":"","full-width":"",class:"pdf"},{default:l(()=>[e(ee,{class:"bg-white q-pa-none",style:{height:"100vh",overflow:"hidden"}},{default:l(()=>[Me(e(H,{icon:"bi-x",class:"fixed bg-white text-primary shadow-2",round:"",dense:"",style:{top:"15px",right:"15px","z-index":"999"}},null,512),[[je]]),e(Y,{class:"q-pa-none",style:{height:"100%",overflow:"hidden"}},{default:l(()=>[t("div",Ds,[E.value?(f(),O("iframe",{key:0,src:E.value,frameborder:"0"},null,8,$s)):ae("",!0)])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},ks=Ne(qs,[["__scopeId","data-v-a1d861ec"]]),Es={class:"q-gutter-sm"},Us={__name:"BiometricDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(G,{emit:s}){const c=De(),y=ge(),m=G,b=s,k=ue({get:()=>m.modelValue===m.dialogName,set:L=>{L||b("update:modelValue",null)}}),g=r(!1),d=r(null);r(""),r(null),r(!1);async function q(){const L="/models";await Ke.ssdMobilenetv1.loadFromUri(L),await Ke.faceLandmark68Net.loadFromUri(L),await Ke.faceRecognitionNet.loadFromUri(L)}async function A(){if(!d.value)return null;try{const L=await d.value.snapshot();return await N(L)}catch(L){return console.error("Error capturing snapshot:",L),null}}function N(L){return new Promise((U,R)=>{const v=new Image;v.onload=()=>U(v),v.onerror=R,v.src=URL.createObjectURL(L)})}async function w(){const L=await A();if(!L)return null;const U=await ma(L).withFaceLandmarks().withFaceDescriptor();return U?{descriptor:U.descriptor,img:L}:null}const a=async()=>{g.value=!0;const L=await w();if(!L||!L.img||!L.descriptor){K.fire({icon:"error",title:"No face detected",text:"Please align your face and try again."}),g.value=!1;return}const U=document.createElement("canvas");U.width=L.img.width,U.height=L.img.height,U.getContext("2d").drawImage(L.img,0,0);try{const v=await oe.post(`/employee/${y.data?.id}/biometric`,{descriptor:Array.from(L.descriptor),imageBase64:U.toDataURL("image/png")});b("update:modelValue",null),K.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${v.data.message}<div>
            `})}catch(v){v.response&&v.response.data&&(P(v.response.data),K.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{g.value=!1}},P=L=>{const U=Array.isArray(L)?L:L?.errors||[];Object.keys(Errors).forEach(R=>{Errors[R].type=null,Errors[R].messages=[]}),U.forEach(R=>{Errors[R.path]!==void 0&&(Errors[R.path].type=!0,Errors[R.path].messages.push(R.msg))})},E=async L=>{await q()};return(L,U)=>(f(),X(ve,{modelValue:k.value,"onUpdate:modelValue":U[4]||(U[4]=R=>k.value=R),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:U[5]||(U[5]=R=>E())},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(Y,{class:"q-pa-lg"},{default:l(()=>U[6]||(U[6]=[t("div",{class:"text-h6 text-uppercase"},"face recognition",-1)])),_:1,__:[6]}),e(xe,{inset:""}),e(Y,{class:"col q-pa-lg scroll"},{default:l(()=>[e(se(pa),{onLoading:U[0]||(U[0]=()=>{g.value=!0}),onStarted:U[1]||(U[1]=()=>{g.value=!1}),ref_key:"camera",ref:d},null,512)]),_:1}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",Es,[se(c).hasRole(["SuperAdmin","Admin","HR"])?(f(),X(H,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:U[2]||(U[2]=R=>a())})):ae("",!0),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:U[3]||(U[3]=()=>{b("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:g.value},{default:l(()=>[e(ee,{class:"no-shadow radius-md q-pa-md"},{default:l(()=>[e(Y,{class:"text-center"},{default:l(()=>[t("div",null,[e(qe,{color:"dark"})]),U[7]||(U[7]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[7]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},Ps={class:"profile-section q-mb-lg"},zs=["src"],Ns={key:0,class:"row"},Cs={class:"q-gutter-sm"},As={__name:"PhotoDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue","saved"],setup(G,{emit:s}){const c=De(),y=ge(),m=G,b=s,k=ue({get:()=>m.modelValue===m.dialogName,set:U=>{U||b("update:modelValue",null)}}),g=r(!1),d=r(null),q=async U=>{g.value=!0;try{const R=await oe.get("/employee/photo",{params:{id:U}});d.value=R.data.record}catch(R){console.error("Error fetching all data:",R),K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{g.value=!1}},A=()=>{q(y.data?.id)},N=r(""),w=()=>{N.value=""},a=we({file:{type:null,msg:""}}),P=()=>{let U=!1;const R=5*1024*1024,v=["image/jpeg","image/png"];return N.value?v.includes(N.value.type)?N.value.size>R&&(a.file.type=!0,a.file.msg="file size must not exceed to 5MB",U=!0):(a.file.type=!0,a.file.msg="file must be a image file",U=!0):(a.file.type=!0,a.file.msg="file is required",U=!0),U&&K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                <div class="text-caption">Something went wrong.</div>
            `}),!U},E=async()=>{if(P()){g.value=!0;try{const U=new FormData;U.append("file",N.value);const R=await oe.post(`/employee/${y.data?.id}/photo`,U,{headers:{"Content-Type":"multipart/form-data"}});b("saved"),b("update:modelValue",null),K.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${R.data.message}<div>
            `})}catch(U){U.response&&U.response.data&&(L(U.response.data),K.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{g.value=!1}}},L=U=>{const R=Array.isArray(U)?U:U?.errors||[];Object.keys(a).forEach(v=>{a[v].type=null,a[v].messages=[]}),R.forEach(v=>{a[v.path]!==void 0&&(a[v.path].type=!0,a[v.path].messages.push(v.msg))})};return(U,R)=>(f(),X(ve,{modelValue:k.value,"onUpdate:modelValue":R[3]||(R[3]=v=>k.value=v),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:R[4]||(R[4]=()=>{A(),w()})},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(Y,{class:"q-pa-lg"},{default:l(()=>R[5]||(R[5]=[t("div",{class:"text-h6 text-uppercase"},"photo information",-1)])),_:1,__:[5]}),e(xe,{inset:""}),e(Y,{class:"col q-pa-lg scroll"},{default:l(()=>[t("div",Ps,[t("img",{src:d.value?.avatar,alt:"Profile",class:"profile-img"},null,8,zs)]),se(c).hasRole(["SuperAdmin","Admin","HR"])?(f(),O("div",Ns,[t("div",null,[t("div",{class:T(["text-caption text-uppercase q-mb-xs",a.file.type?"text-negative":"text-grey"])},V(a.file.type?a.file.msg:"upload photo"),3),e(ut,{modelValue:N.value,"onUpdate:modelValue":R[0]||(R[0]=v=>N.value=v),label:"Upload Photo",outlined:"",error:a.file.type,"no-error-icon":!0,class:"col-2"},null,8,["modelValue","error"])])])):ae("",!0)]),_:1}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",Cs,[se(c).hasRole(["SuperAdmin","Admin","HR"])?(f(),X(H,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:R[1]||(R[1]=v=>E())})):ae("",!0),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:R[2]||(R[2]=()=>{b("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:g.value},{default:l(()=>[e(ee,{class:"no-shadow radius-md q-pa-md"},{default:l(()=>[e(Y,{class:"text-center"},{default:l(()=>[t("div",null,[e(qe,{color:"dark"})]),R[6]||(R[6]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[6]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},Is=Ne(As,[["__scopeId","data-v-ea073b2e"]]),Ms={class:"text-uppercase text-body1 text-bold"},Ts={class:"row q-col-gutter-xs q-mb-sm"},Rs={class:"col-2"},Fs={class:"col-4"},Ys={class:"col-4"},Ls={class:"row q-col-gutter-xs q-mb-sm"},Os={class:"col-2"},Bs={class:"col-2"},js={class:"q-gutter-sm"},Hs={class:"text-center"},Ws={__name:"EducationDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(G,{emit:s}){const c=De(),y=ge(),m=G,b=s,k=ue({get:()=>m.modelValue===m.dialogName,set:W=>{W||b("update:modelValue",null)}}),g=r(!1),d=r([{id:"",schoollevel:"",schoolId:"",courseId:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}]),q=()=>({id:"",schoollevel:"",schoolId:"",courseId:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),A=async W=>{g.value=!0;try{const J=await oe.get("/employee/education",{params:{id:W}});J.data.record.length?N(J.data.record):q()}catch(J){console.error("Error fetching all data:",J),K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{g.value=!1}},N=(W=[])=>{d.value=W.map(J=>({id:J.id??"",schoollevel:J.school_level??"",schoolId:Number(J.school_id)??"",courseId:Number(J.course_id)??"",startDate:J.start_date??"",endDate:J.end_date??""}))},w=()=>{i(),n(),A(y.data?.id)},a=we({educations:{schoollevel:{type:[],msg:""},schoolId:{type:[],msg:""},courseId:{type:[],msg:""},startDate:{type:[],msg:""},endDate:{type:[],msg:""}}}),P=()=>{a.educations.schoollevel.type=d.value.map(()=>null),a.educations.schoolId.type=d.value.map(()=>null),a.educations.courseId.type=d.value.map(()=>null),a.educations.startDate.type=d.value.map(()=>null),a.educations.endDate.type=d.value.map(()=>null)},E=()=>{let W=!1;return a.educations.schoollevel={type:null,msg:""},a.educations.schoolId={type:null,msg:""},a.educations.courseId={type:null,msg:""},a.educations.startDate={type:null,msg:""},a.educations.endDate={type:null,msg:""},P(),d.value.forEach((J,Z)=>{J.schoollevel||(a.educations.schoollevel.type[Z]=!0,a.educations.schoollevel.msg="school level is required",W=!0),J.schoolId||(a.educations.schoolId.type[Z]=!0,a.educations.schoolId.msg="school is required",W=!0),J.courseId||(a.educations.courseId.type[Z]=!0,a.educations.courseId.msg="degree is required",W=!0),J.startDate?isNaN(new Date(J.startDate).getTime())&&(a.educations.startDate.type[Z]=!0,a.educations.startDate.msg="start date must be a valid date",W=!0):(a.educations.startDate.type[Z]=!0,a.educations.startDate.msg="start date is required",W=!0),J.endDate?isNaN(new Date(J.endDate).getTime())&&(a.educations.endDate.type[Z]=!0,a.educations.endDate.msg="end date must be a valid date",W=!0):(a.educations.endDate.type[Z]=!0,a.educations.endDate.msg="end date is required",W=!0)}),W&&K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                <div class="text-caption">Something went wrong.</div>
            `}),!W},L=r(["High School","Vocational","College","Graduate Studies"]),U=r([]),R=r([]),v=r([]),j=r([]),I=(W,J)=>(Z,pe)=>{if(Z===""){pe(()=>{J.value=W.value});return}pe(()=>{const de=Z.toLowerCase();J.value=W.value.filter(Re=>Re.label.toLowerCase().includes(de))})},F=(W=[])=>W.map(J=>({label:J.label??J.name??String(J.text??J.value??""),value:Number(J.value??J.id)})),$=I(U,v),o=I(R,j),n=async()=>{try{const{data:W}=await oe.get("/employee/option/school");U.value=F(W),v.value=[...U.value]}catch(W){console.error("Error fetching options:",W)}},i=async()=>{try{const{data:W}=await oe.get("/employee/option/course");R.value=F(W),j.value=[...R.value]}catch(W){console.error("Error fetching options:",W)}},p=()=>{d.value.push({id:"",schoollevel:"",schoolId:"",courseId:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]})},h=W=>{d.value.splice(W,1)},S=async()=>{if(E()){g.value=!0;try{const W=await oe.post(`/employee/${y.data?.id}/education`,{educations:d.value});b("update:modelValue",null),K.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${W.data.message}<div>
            `})}catch(W){W.response&&W.response.data&&(D(W.response.data),K.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{g.value=!1}}},D=W=>{const J=Array.isArray(W)?W:W?.errors||[];Object.keys(a).forEach(Z=>{a[Z].type=null,a[Z].messages=[]}),J.forEach(Z=>{a[Z.path]!==void 0&&(a[Z.path].type=!0,a[Z.path].messages.push(Z.msg))})},_=r([]),C=r([]);function u(W){ze(()=>{_.value[W]&&_.value[W].hide()})}function ne(W){ze(()=>{C.value[W]&&C.value[W].hide()})}return(W,J)=>(f(),X(ve,{modelValue:k.value,"onUpdate:modelValue":J[2]||(J[2]=Z=>k.value=Z),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:J[3]||(J[3]=Z=>w())},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(Y,{class:"q-pa-lg"},{default:l(()=>J[4]||(J[4]=[t("div",{class:"text-h6 text-uppercase"},"education information",-1)])),_:1,__:[4]}),e(xe,{inset:""}),e(Y,{class:"col q-pa-lg scroll"},{default:l(()=>[(f(!0),O(re,null,ce(d.value,(Z,pe)=>(f(),O("div",{key:pe,class:"q-mb-md"},[t("div",null,[t("span",Ms,"education "+V(pe+1),1),d.value.length>1&&se(c).hasRole(["SuperAdmin","Admin","HR"])?(f(),X(H,{key:0,round:"",icon:"bi-trash3",flat:"",unelevated:"",color:"grey",onClick:de=>h(pe),size:"sm",class:"q-ml-sm"},null,8,["onClick"])):ae("",!0)]),t("div",Ts,[t("div",Rs,[t("div",{class:T(["text-caption text-uppercase q-mb-xs",a.educations.schoollevel.msg?"text-negative":"text-grey"])},V(a.educations.schoollevel.msg?a.educations.schoollevel.msg:"school level"),3),e(Ue,{outlined:"",modelValue:Z.schoollevel,"onUpdate:modelValue":de=>Z.schoollevel=de,label:"Choose School Level","input-debounce":"300",options:L.value,error:a.educations.schoollevel.type[pe],"hide-dropdown-icon":"","no-error-icon":!0},{"no-option":l(()=>[e(fe,null,{default:l(()=>[e(he,{class:"text-italic text-grey"},{default:l(()=>J[5]||(J[5]=[me(" No options ")])),_:1,__:[5]})]),_:1})]),option:l(de=>[e(fe,Te({ref_for:!0},de.itemProps),{default:l(()=>[e(he,null,{default:l(()=>[e(Ee,null,{default:l(()=>[me(V(W.$CapitalizeWords(de.opt)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:2},1032,["modelValue","onUpdate:modelValue","options","error"])]),t("div",Fs,[t("div",{class:T(["text-caption text-uppercase q-mb-xs",a.educations.schoolId.msg?"text-negative":"text-grey"])},V(a.educations.schoolId.msg?a.educations.schoolId.msg:"school"),3),e(Ue,{outlined:"",modelValue:Z.schoolId,"onUpdate:modelValue":de=>Z.schoolId=de,label:"Choose School","emit-value":"","map-options":"","use-input":"","input-debounce":"300",options:v.value,onFilter:se($),error:a.educations.schoolId.type[pe],"hide-dropdown-icon":"","no-error-icon":!0},{"no-option":l(()=>[e(fe,null,{default:l(()=>[e(he,{class:"text-italic text-grey"},{default:l(()=>J[6]||(J[6]=[me(" No options ")])),_:1,__:[6]})]),_:1})]),option:l(de=>[e(fe,Te({ref_for:!0},de.itemProps),{default:l(()=>[e(he,null,{default:l(()=>[e(Ee,null,{default:l(()=>[me(V(W.$CapitalizeWords(de.opt.label)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:2},1032,["modelValue","onUpdate:modelValue","options","onFilter","error"])]),t("div",Ys,[t("div",{class:T(["text-caption text-uppercase q-mb-xs",a.educations.courseId.msg?"text-negative":"text-grey"])},V(a.educations.courseId.msg?a.educations.courseId.msg:"degree"),3),e(Ue,{outlined:"",modelValue:Z.courseId,"onUpdate:modelValue":de=>Z.courseId=de,label:"Choose Degree","emit-value":"","map-options":"","use-input":"","input-debounce":"300",options:j.value,onFilter:se(o),error:a.educations.courseId.type[pe],"hide-dropdown-icon":"","no-error-icon":!0},{"no-option":l(()=>[e(fe,null,{default:l(()=>[e(he,{class:"text-italic text-grey"},{default:l(()=>J[7]||(J[7]=[me(" No options ")])),_:1,__:[7]})]),_:1})]),option:l(de=>[e(fe,Te({ref_for:!0},de.itemProps),{default:l(()=>[e(he,null,{default:l(()=>[e(Ee,null,{default:l(()=>[me(V(W.$CapitalizeWords(de.opt.label)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:2},1032,["modelValue","onUpdate:modelValue","options","onFilter","error"])])]),t("div",Ls,[t("div",Os,[t("div",{class:T(["text-caption text-uppercase q-mb-xs",a.educations.startDate.msg?"text-negative":"text-grey"])},V(a.educations.startDate.msg?a.educations.startDate.msg:"start date (YYYY-MM-DD)"),3),e(B,{outlined:"",modelValue:Z.startDate,"onUpdate:modelValue":de=>Z.startDate=de,label:"Enter Date"},{default:l(()=>[e(Ve,{cover:"","transition-show":"scale","transition-hide":"scale",class:"no-shadow custom-border radius-sm",ref_for:!0,ref:de=>_.value[pe]=de},{default:l(()=>[e(be,{modelValue:Z.startDate,"onUpdate:modelValue":[de=>Z.startDate=de,()=>u(pe)],mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),t("div",Bs,[t("div",{class:T(["text-caption text-uppercase q-mb-xs",a.educations.endDate.msg?"text-negative":"text-grey"])},V(a.educations.endDate.msg?a.educations.endDate.msg:"end date (YYYY-MM-DD)"),3),e(B,{outlined:"",modelValue:Z.endDate,"onUpdate:modelValue":de=>Z.endDate=de,label:"Enter Date"},{default:l(()=>[e(Ve,{cover:"","transition-show":"scale","transition-hide":"scale",class:"no-shadow custom-border radius-sm",ref_for:!0,ref:de=>C.value[pe]=de},{default:l(()=>[e(be,{modelValue:Z.endDate,"onUpdate:modelValue":[de=>Z.endDate=de,()=>ne(pe)],mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1032,["modelValue","onUpdate:modelValue"])])])]))),128))]),_:1}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",js,[se(c).hasRole(["SuperAdmin","Admin","HR"])?(f(),X(H,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:J[0]||(J[0]=Z=>S())})):ae("",!0),se(c).hasRole(["SuperAdmin","Admin","HR"])?(f(),X(H,{key:1,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"add",onClick:p,outline:""})):ae("",!0),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:J[1]||(J[1]=()=>{b("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:g.value},{default:l(()=>[t("div",Hs,[e(ke,{size:"md"}),J[8]||(J[8]=t("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))])]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},Gs={class:"text-uppercase text-body1 text-bold"},Qs={class:"row q-col-gutter-xs q-mb-sm"},Xs={class:"col-2"},Js={class:"col-4"},Zs={class:"row q-col-gutter-xs q-mb-sm"},Ks={class:"col-2"},eo={class:"col-2"},to={class:"col-1"},ao={class:"q-gutter-sm"},lo={class:"text-center"},so={__name:"TrainingDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(G,{emit:s}){const c=De(),y=ge(),m=G,b=s,k=ue({get:()=>m.modelValue===m.dialogName,set:n=>{n||b("update:modelValue",null)}}),g=r(!1),d=r([{id:"",title:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],hour:"",trainingtype:""}]),q=()=>({id:"",trainingtype:"",title:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],hour:""}),A=async n=>{g.value=!0;try{const i=await oe.get("/employee/training",{params:{id:n}});i.data.record.length?N(i.data.record):q()}catch(i){console.error("Error fetching all data:",i),K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{g.value=!1}},N=(n=[])=>{d.value=n.map(i=>({id:i.id??"",trainingtype:i.type??"",title:i.title??"",startDate:i.start_date??"",endDate:i.end_date??"",hour:i.hour??""}))},w=()=>{A(y.data?.id)},a=we({trainings:{trainingtype:{type:[],msg:""},title:{type:[],msg:""},startDate:{type:[],msg:""},endDate:{type:[],msg:""},hour:{type:[],msg:""}}}),P=()=>{a.trainings.trainingtype.type=d.value.map(()=>null),a.trainings.title.type=d.value.map(()=>null),a.trainings.startDate.type=d.value.map(()=>null),a.trainings.endDate.type=d.value.map(()=>null),a.trainings.hour.type=d.value.map(()=>null)},E=()=>{let n=!1;return a.trainings.trainingtype={type:null,msg:""},a.trainings.title={type:null,msg:""},a.trainings.startDate={type:null,msg:""},a.trainings.endDate={type:null,msg:""},a.trainings.hour={type:null,msg:""},P(),d.value.forEach((i,p)=>{i.trainingtype||(a.trainings.trainingtype.type[p]=!0,a.trainings.trainingtype.msg="training type is required",n=!0),i.title||(a.trainings.title.type[p]=!0,a.trainings.title.msg="title is required",n=!0),i.startDate?isNaN(new Date(i.startDate).getTime())&&(a.trainings.startDate.type[p]=!0,a.trainings.startDate.msg="start date must be a valid date",n=!0):(a.trainings.startDate.type[p]=!0,a.trainings.startDate.msg="start date is required",n=!0),i.endDate?isNaN(new Date(i.endDate).getTime())&&(a.trainings.endDate.type[p]=!0,a.trainings.endDate.msg="end date must be a valid date",n=!0):(a.trainings.endDate.type[p]=!0,a.trainings.endDate.msg="end date is required",n=!0),i.hour?(isNaN(i.hour)||i.hour<1||i.hour>23)&&(a.trainings.hour.type[p]=!0,a.trainings.hour.msg="hour/s must be a valid number between 1 to 23",n=!0):(a.trainings.hour.type[p]=!0,a.trainings.hour.msg="hour/s is required",n=!0)}),n&&K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                <div class="text-caption">Something went wrong.</div>
            `}),!n},L=r(["Managerial","Supervisory","Technical","Orientation","Compliance","Seminar","Workshop","Conference","Other"]),U=()=>{d.value.push({id:"",trainingtype:"",title:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],hour:""})},R=n=>{d.value.splice(n,1)},v=async()=>{if(E()){g.value=!0;try{const n=await oe.post(`/employee/${y.data?.id}/training`,{trainings:d.value});b("update:modelValue",null),K.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${n.data.message}<div>
            `})}catch(n){n.response&&n.response.data&&(j(n.response.data),K.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{g.value=!1}}},j=n=>{const i=Array.isArray(n)?n:n?.errors||[];Object.keys(a).forEach(p=>{a[p].type=null,a[p].messages=[]}),i.forEach(p=>{a[p.path]!==void 0&&(a[p.path].type=!0,a[p.path].messages.push(p.msg))})},I=r([]),F=r([]);function $(n){ze(()=>{I.value[n]&&I.value[n].hide()})}function o(n){ze(()=>{F.value[n]&&F.value[n].hide()})}return(n,i)=>(f(),X(ve,{modelValue:k.value,"onUpdate:modelValue":i[2]||(i[2]=p=>k.value=p),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:i[3]||(i[3]=p=>w())},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(Y,{class:"q-pa-lg"},{default:l(()=>i[4]||(i[4]=[t("div",{class:"text-h6 text-uppercase"},"training information",-1)])),_:1,__:[4]}),e(xe,{inset:""}),e(Y,{class:"col q-pa-lg scroll"},{default:l(()=>[(f(!0),O(re,null,ce(d.value,(p,h)=>(f(),O("div",{key:h,class:"q-mb-md"},[t("div",null,[t("span",Gs,"training "+V(h+1),1),d.value.length>1&&se(c).hasRole(["SuperAdmin","Admin","HR"])?(f(),X(H,{key:0,round:"",icon:"bi-trash3",flat:"",unelevated:"",color:"grey",onClick:S=>R(h),size:"sm",class:"q-ml-sm"},null,8,["onClick"])):ae("",!0)]),t("div",Qs,[t("div",Xs,[t("div",{class:T(["text-caption text-uppercase q-mb-xs",a.trainings.trainingtype.msg?"text-negative":"text-grey"])},V(a.trainings.trainingtype.msg?a.trainings.trainingtype.msg:"training type"),3),e(Ue,{outlined:"",modelValue:p.trainingtype,"onUpdate:modelValue":S=>p.trainingtype=S,label:"Choose Training Type","input-debounce":"300",options:L.value,error:a.trainings.trainingtype.type[h],"hide-dropdown-icon":"","no-error-icon":!0},{"no-option":l(()=>[e(fe,null,{default:l(()=>[e(he,{class:"text-italic text-grey"},{default:l(()=>i[5]||(i[5]=[me(" No options ")])),_:1,__:[5]})]),_:1})]),option:l(S=>[e(fe,Te({ref_for:!0},S.itemProps),{default:l(()=>[e(he,null,{default:l(()=>[e(Ee,null,{default:l(()=>[me(V(n.$CapitalizeWords(S.opt)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:2},1032,["modelValue","onUpdate:modelValue","options","error"])]),t("div",Js,[t("div",{class:T(["text-caption text-uppercase q-mb-xs",a.trainings.title.msg?"text-negative":"text-grey"])},V(a.trainings.title.msg?a.trainings.title.msg:"title"),3),e(B,{modelValue:p.title,"onUpdate:modelValue":S=>p.title=S,label:"Enter Title",outlined:"",error:a.trainings.title.type[h],"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","onUpdate:modelValue","error"])])]),t("div",Zs,[t("div",Ks,[t("div",{class:T(["text-caption text-uppercase q-mb-xs",a.trainings.startDate.msg?"text-negative":"text-grey"])},V(a.trainings.startDate.msg?a.trainings.startDate.msg:"start date (YYYY-MM-DD)"),3),e(B,{outlined:"",modelValue:p.startDate,"onUpdate:modelValue":S=>p.startDate=S,label:"Enter Date",error:a.trainings.startDate.type[h],"no-error-icon":!0},{default:l(()=>[e(Ve,{cover:"","transition-show":"scale","transition-hide":"scale",class:"no-shadow custom-border radius-sm",ref_for:!0,ref:S=>I.value[h]=S},{default:l(()=>[e(be,{modelValue:p.startDate,"onUpdate:modelValue":[S=>p.startDate=S,()=>$(h)],mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1032,["modelValue","onUpdate:modelValue","error"])]),t("div",eo,[t("div",{class:T(["text-caption text-uppercase q-mb-xs",a.trainings.endDate.msg?"text-negative":"text-grey"])},V(a.trainings.endDate.msg?a.trainings.endDate.msg:"end date (YYYY-MM-DD)"),3),e(B,{outlined:"",modelValue:p.endDate,"onUpdate:modelValue":S=>p.endDate=S,label:"Enter Date",error:a.trainings.endDate.type[h],"no-error-icon":!0},{default:l(()=>[e(Ve,{cover:"","transition-show":"scale","transition-hide":"scale",class:"no-shadow custom-border radius-sm",ref_for:!0,ref:S=>F.value[h]=S},{default:l(()=>[e(be,{modelValue:p.endDate,"onUpdate:modelValue":[S=>p.endDate=S,()=>o(h)],mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1032,["modelValue","onUpdate:modelValue","error"])]),t("div",to,[t("div",{class:T(["text-caption text-uppercase q-mb-xs",a.trainings.hour.msg?"text-negative":"text-grey"])},V(a.trainings.hour.msg?a.trainings.hour.msg:"hour/s"),3),e(B,{modelValue:p.hour,"onUpdate:modelValue":S=>p.hour=S,label:"Enter Hour/s",outlined:"",error:a.trainings.hour.type[h],"no-error-icon":!0},null,8,["modelValue","onUpdate:modelValue","error"])])])]))),128))]),_:1}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",ao,[se(c).hasRole(["SuperAdmin","Admin","HR"])?(f(),X(H,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:i[0]||(i[0]=p=>v())})):ae("",!0),se(c).hasRole(["SuperAdmin","Admin","HR"])?(f(),X(H,{key:1,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"add",onClick:U,outline:""})):ae("",!0),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:i[1]||(i[1]=()=>{b("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:g.value},{default:l(()=>[t("div",lo,[e(ke,{size:"md"}),i[6]||(i[6]=t("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))])]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},oo={class:"text-uppercase text-body1 text-bold"},io={class:"row q-col-gutter-xs q-mb-sm"},no={class:"col-3"},ro={class:"col-3"},uo={class:"row q-col-gutter-xs q-mb-sm"},co={class:"col-2"},po={class:"col-2"},mo={class:"q-gutter-sm"},vo={class:"text-center"},go={__name:"ExperienceDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(G,{emit:s}){const c=De(),y=ge(),m=G,b=s,k=ue({get:()=>m.modelValue===m.dialogName,set:o=>{o||b("update:modelValue",null)}}),g=r(!1),d=r([{id:"",position:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],description:""}]),q=()=>({id:"",position:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],description:""}),A=async o=>{g.value=!0;try{const n=await oe.get("/employee/experience",{params:{id:o}});n.data.record.length?N(n.data.record):q()}catch(n){console.error("Error fetching all data:",n),K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{g.value=!1}},N=(o=[])=>{d.value=o.map(n=>({id:n.id??"",position:n.position??"",description:n.description??"",startDate:n.start_date??"",endDate:n.end_date??""}))},w=()=>{A(y.data?.id)},a=we({experiences:{position:{type:[],msg:""},startDate:{type:[],msg:""},endDate:{type:[],msg:""},description:{type:[],msg:""}}}),P=()=>{a.experiences.position.type=d.value.map(()=>null),a.experiences.startDate.type=d.value.map(()=>null),a.experiences.endDate.type=d.value.map(()=>null),a.experiences.description.type=d.value.map(()=>null)},E=()=>{let o=!1;return a.experiences.position={type:null,msg:""},a.experiences.startDate={type:null,msg:""},a.experiences.endDate={type:null,msg:""},a.experiences.description={type:null,msg:""},P(),d.value.forEach((n,i)=>{n.position||(a.experiences.position.type[i]=!0,a.experiences.position.msg="position is required",o=!0),n.startDate?isNaN(new Date(n.startDate).getTime())&&(a.experiences.startDate.type[i]=!0,a.experiences.startDate.msg="start date must be a valid date",o=!0):(a.experiences.startDate.type[i]=!0,a.experiences.startDate.msg="start date is required",o=!0),n.endDate?isNaN(new Date(n.endDate).getTime())&&(a.experiences.endDate.type[i]=!0,a.experiences.endDate.msg="end date must a valid date",o=!0):(a.experiences.endDate.type[i]=!0,a.experiences.endDate.msg="end date is required",o=!0),n.description||(a.experiences.description.type[i]=!0,a.experiences.description.msg="job description is required",o=!0)}),o&&K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                <div class="text-caption">Something went wrong.</div>
            `}),!o},L=()=>{d.value.push({position:"",description:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]})},U=o=>{d.value.splice(o,1)},R=async()=>{if(E()){g.value=!0;try{const o=await oe.post(`/employee/${y.data?.id}/experience`,{experiences:d.value});b("update:modelValue",null),K.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${o.data.message}<div>
            `})}catch(o){o.response&&o.response.data&&(v(o.response.data),K.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{g.value=!1}}},v=o=>{const n=Array.isArray(o)?o:o?.errors||[];Object.keys(a).forEach(i=>{a[i].type=null,a[i].messages=[]}),n.forEach(i=>{a[i.path]!==void 0&&(a[i.path].type=!0,a[i.path].messages.push(i.msg))})},j=r([]),I=r([]);function F(o){ze(()=>{j.value[o]&&j.value[o].hide()})}function $(o){ze(()=>{I.value[o]&&I.value[o].hide()})}return(o,n)=>(f(),X(ve,{modelValue:k.value,"onUpdate:modelValue":n[2]||(n[2]=i=>k.value=i),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:n[3]||(n[3]=i=>w())},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(Y,{class:"q-pa-lg"},{default:l(()=>n[4]||(n[4]=[t("div",{class:"text-h6 text-uppercase"},"experience information",-1)])),_:1,__:[4]}),e(xe,{inset:""}),e(Y,{class:"col q-pa-lg scroll"},{default:l(()=>[(f(!0),O(re,null,ce(d.value,(i,p)=>(f(),O("div",{key:p,class:"q-mb-md"},[t("div",null,[t("span",oo,"experience "+V(p+1),1),d.value.length>1&&se(c).hasRole(["SuperAdmin","Admin","HR"])?(f(),X(H,{key:0,round:"",icon:"delete",flat:"",unelevated:"",color:"grey",onClick:h=>U(p),size:"sm",class:"q-ml-sm"},null,8,["onClick"])):ae("",!0)]),t("div",io,[t("div",no,[t("div",{class:T(["text-caption text-uppercase q-mb-xs",a.experiences.position.msg?"text-negative":"text-grey"])},V(a.experiences.position.msg?a.experiences.position.msg:"position"),3),e(B,{modelValue:i.position,"onUpdate:modelValue":h=>i.position=h,label:"Enter Position",outlined:"",error:a.experiences.position.type[p],"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",ro,[t("div",{class:T(["text-caption text-uppercase q-mb-xs",a.experiences.description.msg?"text-negative":"text-grey"])},V(a.experiences.description.msg?a.experiences.description.msg:"job description"),3),e(B,{modelValue:i.description,"onUpdate:modelValue":h=>i.description=h,label:"EnterJob Description",outlined:"",error:a.experiences.description.type[p],"no-error-icon":!0},null,8,["modelValue","onUpdate:modelValue","error"])])]),t("div",uo,[t("div",co,[t("div",{class:T(["text-caption text-uppercase q-mb-xs",a.experiences.startDate.msg?"text-negative":"text-grey"])},V(a.experiences.startDate.msg?a.experiences.startDate.msg:"start date (YYYY-MM-DD)"),3),e(B,{outlined:"",modelValue:i.startDate,"onUpdate:modelValue":h=>i.startDate=h,label:"Enter Date"},{default:l(()=>[e(Ve,{cover:"","transition-show":"scale","transition-hide":"scale",class:"no-shadow custom-border radius-sm",ref_for:!0,ref:h=>j.value[p]=h},{default:l(()=>[e(be,{modelValue:i.startDate,"onUpdate:modelValue":[h=>i.startDate=h,()=>F(p)],mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),t("div",po,[t("div",{class:T(["text-caption text-uppercase q-mb-xs",a.experiences.endDate.msg?"text-negative":"text-grey"])},V(a.experiences.endDate.msg?a.experiences.endDate.msg:"end date (YYYY-MM-DD)"),3),e(B,{outlined:"",modelValue:i.endDate,"onUpdate:modelValue":h=>i.endDate=h,label:"Enter Date"},{default:l(()=>[e(Ve,{cover:"","transition-show":"scale","transition-hide":"scale",class:"no-shadow custom-border radius-sm",ref_for:!0,ref:h=>I.value[p]=h},{default:l(()=>[e(be,{modelValue:i.endDate,"onUpdate:modelValue":[h=>i.endDate=h,()=>$(p)],mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1032,["modelValue","onUpdate:modelValue"])])])]))),128))]),_:1}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",mo,[se(c).hasRole(["SuperAdmin","Admin","HR"])?(f(),X(H,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:n[0]||(n[0]=i=>R())})):ae("",!0),se(c).hasRole(["SuperAdmin","Admin","HR"])?(f(),X(H,{key:1,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"add",onClick:L,outline:""})):ae("",!0),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:n[1]||(n[1]=()=>{b("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:g.value},{default:l(()=>[t("div",vo,[e(ke,{size:"md"}),n[5]||(n[5]=t("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))])]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},fo={class:"text-uppercase text-body1 text-bold"},ho={class:"row q-col-gutter-xs q-mb-sm"},xo={class:"col-2"},yo={class:"col-2"},_o={class:"col-2"},bo={class:"col-2"},Vo={class:"col-1"},wo={class:"row q-col-gutter-xs q-mb-sm"},So={class:"col-2"},Do={class:"col-2"},$o={class:"col-2"},qo={class:"col-3"},ko={class:"q-gutter-sm"},Eo={class:"text-center"},Uo={__name:"DependentDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(G,{emit:s}){const c=De(),y=ge(),m=G,b=s,k=ue({get:()=>m.modelValue===m.dialogName,set:o=>{o||b("update:modelValue",null)}}),g=r(!1),d=r([{id:"",relationship:"",firstname:"",middlename:"",lastname:"",suffix:"",birthdate:new Date().toISOString().split("T")[0],contactNo:"",email:"",address:"",isEmergency:!1}]),q=()=>({id:"",relationship:"",firstname:"",middlename:"",lastname:"",suffix:"",birthdate:new Date().toISOString().split("T")[0],contactNo:"",email:"",address:"",isEmergency:!1}),A=async o=>{g.value=!0;try{const n=await oe.get("/employee/dependent",{params:{id:o}});n.data.record.length?N(n.data.record):q()}catch(n){console.error("Error fetching all data:",n),K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{g.value=!1}},N=(o=[])=>{d.value=o.map(n=>({id:n.id??"",relationship:n.relationship??"",firstname:n.first_name??"",middlename:n.middle_name??"",lastname:n.last_name??"",suffix:n.suffix??"",birthdate:n.birthdate??"",contactNo:n.contact_number??"",email:n.email??"",address:n.address??"",isEmergency:!!n.is_emergency}))},w=()=>{A(y.data?.id)},a=we({dependents:{relationship:{type:[],msg:""},firstname:{type:[],msg:""},middlename:{type:[],msg:""},lastname:{type:[],msg:""},suffix:{type:[],msg:""},birthdate:{type:[],msg:""},contactNo:{type:[],msg:""},email:{type:[],msg:""},address:{type:[],msg:""}}}),P=()=>{a.dependents.relationship.type=d.value.map(()=>null),a.dependents.firstname.type=d.value.map(()=>null),a.dependents.middlename.type=d.value.map(()=>null),a.dependents.lastname.type=d.value.map(()=>null),a.dependents.suffix.type=d.value.map(()=>null),a.dependents.birthdate.type=d.value.map(()=>null),a.dependents.contactNo.type=d.value.map(()=>null),a.dependents.email.type=d.value.map(()=>null),a.dependents.address.type=d.value.map(()=>null)},E=()=>{let o=!1;return a.dependents.relationship={type:null,msg:""},a.dependents.firstname={type:null,msg:""},a.dependents.middlename={type:null,msg:""},a.dependents.lastname={type:null,msg:""},a.dependents.suffix={type:null,msg:""},a.dependents.birthdate={type:null,msg:""},a.dependents.contactNo={type:null,msg:""},a.dependents.email={type:null,msg:""},a.dependents.address={type:null,msg:""},P(),d.value.forEach((n,i)=>{n.relationship||(a.dependents.relationship.type[i]=!0,a.dependents.relationship.msg="relationship is required",o=!0),n.firstname||(a.dependents.firstname.type[i]=!0,a.dependents.firstname.msg="firstname is required",o=!0),n.middlename||(a.dependents.middlename.type[i]=!0,a.dependents.middlename.msg="middlename is required",o=!0),n.lastname||(a.dependents.lastname.type[i]=!0,a.dependents.lastname.msg="lastname is required",o=!0);const p=["SR","JR","II","III","IV","V","VI","VII","VIII","IX","X"];if(n.suffix){const h=suffix.value.trim().toUpperCase();p.includes(h)||(a.dependents.suffix.type[i]=!0,a.dependents.suffix.msg="suffix is required",o=!0)}n.birthdate||(a.dependents.birthdate.type[i]=!0,a.dependents.birthdate.msg="birthdate is required",o=!0),n.contactNo||(a.dependents.contactNo.type[i]=!0,a.dependents.contactNo.msg="contact number is required",o=!0),n.email||(a.dependents.email.type[i]=!0,a.dependents.email.msg="email is required",o=!0),n.address||(a.dependents.address.type[i]=!0,a.dependents.address.msg="address is required",o=!0)}),o&&K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                <div class="text-caption">Something went wrong.</div>
            `}),!o},L=r(["Spouse","Child","Parent","Sibling","Other"]),U=()=>{d.value.push({id:"",relationship:"",firstname:"",middlename:"",lastname:"",suffix:"",birthdate:new Date().toISOString().split("T")[0],contactNo:"",email:"",address:"",isEmergency:!1})},R=o=>{d.value.splice(o,1)},v=o=>{d.value.forEach((n,i)=>{n.isEmergency=i===o})},j=async()=>{if(E()){g.value=!0;try{const o=await oe.post(`/employee/${y.data?.id}/dependent`,{dependents:d.value});b("update:modelValue",null),K.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${o.data.message}<div>
            `})}catch(o){o.response&&o.response.data&&(I(o.response.data),K.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{g.value=!1}}},I=o=>{const n=Array.isArray(o)?o:o?.errors||[];Object.keys(a).forEach(i=>{a[i].type=null,a[i].messages=[]}),n.forEach(i=>{a[i.path]!==void 0&&(a[i.path].type=!0,a[i.path].messages.push(i.msg))})},F=r([]);function $(o){ze(()=>{F.value[o]&&F.value[o].hide()})}return(o,n)=>(f(),X(ve,{modelValue:k.value,"onUpdate:modelValue":n[2]||(n[2]=i=>k.value=i),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:n[3]||(n[3]=()=>{w()})},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(Y,{class:"q-pa-lg"},{default:l(()=>n[4]||(n[4]=[t("div",{class:"text-h6 text-uppercase"},"dependent information",-1)])),_:1,__:[4]}),e(xe,{inset:""}),e(Y,{class:"col q-pa-lg scroll"},{default:l(()=>[(f(!0),O(re,null,ce(d.value,(i,p)=>(f(),O("div",{key:p,class:"q-mb-md"},[t("div",null,[t("span",fo,"dependent "+V(p+1),1),d.value.length>1&&se(c).hasRole(["SuperAdmin","Admin","HR"])?(f(),X(H,{key:0,round:"",icon:"bi-trash3",flat:"",unelevated:"",color:"grey",onClick:h=>R(p),size:"sm",class:"q-ml-sm"},null,8,["onClick"])):ae("",!0)]),t("div",ho,[t("div",xo,[t("div",{class:T(["text-caption text-uppercase q-mb-xs",a.dependents.relationship.msg?"text-negative":"text-grey"])},V(a.dependents.relationship.msg?a.dependents.relationship.msg:"relationship"),3),e(Ue,{outlined:"",modelValue:i.relationship,"onUpdate:modelValue":h=>i.relationship=h,label:"Choose Relationship","input-debounce":"300",options:L.value,error:a.dependents.relationship.type[p],"hide-dropdown-icon":"","no-error-icon":!0},{"no-option":l(()=>[e(fe,null,{default:l(()=>[e(he,{class:"text-italic text-grey"},{default:l(()=>n[5]||(n[5]=[me(" No options ")])),_:1,__:[5]})]),_:1})]),option:l(h=>[e(fe,Te({ref_for:!0},h.itemProps),{default:l(()=>[e(he,null,{default:l(()=>[e(Ee,null,{default:l(()=>[me(V(o.$CapitalizeWords(h.opt)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:2},1032,["modelValue","onUpdate:modelValue","options","error"])]),t("div",yo,[t("div",{class:T(["text-caption text-uppercase q-mb-xs",a.dependents.firstname.msg?"text-negative":"text-grey"])},V(a.dependents.firstname.msg?a.dependents.firstname.msg:"firstname"),3),e(B,{modelValue:i.firstname,"onUpdate:modelValue":h=>i.firstname=h,label:"Enter Firstname",outlined:"",error:a.dependents.firstname.type[p],"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",_o,[t("div",{class:T(["text-caption text-uppercase q-mb-xs",a.dependents.middlename.msg?"text-negative":"text-grey"])},V(a.dependents.middlename.msg?a.dependents.middlename.msg:"middlename"),3),e(B,{modelValue:i.middlename,"onUpdate:modelValue":h=>i.middlename=h,label:"Enter Middlename",outlined:"",error:a.dependents.middlename.type[p],"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",bo,[t("div",{class:T(["text-caption text-uppercase q-mb-xs",a.dependents.lastname.msg?"text-negative":"text-grey"])},V(a.dependents.lastname.msg?a.dependents.lastname.msg:"lastname"),3),e(B,{modelValue:i.lastname,"onUpdate:modelValue":h=>i.lastname=h,label:"Enter Lastname",outlined:"",error:a.dependents.lastname.type[p],"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",Vo,[t("div",{class:T(["text-caption text-uppercase q-mb-xs",a.dependents.suffix.msg?"text-negative":"text-grey"])},V(a.dependents.suffix.msg?a.dependents.suffix.msg:"suffix"),3),e(B,{modelValue:i.suffix,"onUpdate:modelValue":h=>i.suffix=h,label:"Enter Suffix",outlined:"",error:a.dependents.suffix.type[p],"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","onUpdate:modelValue","error"])])]),t("div",wo,[t("div",So,[t("div",{class:T(["text-caption text-uppercase q-mb-xs",a.dependents.birthdate.msg?"text-negative":"text-grey"])},V(a.dependents.birthdate.msg?a.dependents.birthdate.msg:"birthdate (YYYY-MM-DD)"),3),e(B,{outlined:"",modelValue:i.birthdate,"onUpdate:modelValue":h=>i.birthdate=h,label:"Enter Date"},{default:l(()=>[e(Ve,{cover:"","transition-show":"scale","transition-hide":"scale",class:"no-shadow custom-border radius-sm",ref_for:!0,ref:h=>F.value[p]=h},{default:l(()=>[e(be,{modelValue:i.birthdate,"onUpdate:modelValue":[h=>i.birthdate=h,()=>$(p)],mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),t("div",Do,[t("div",{class:T(["text-caption text-uppercase q-mb-xs",a.dependents.contactNo.msg?"text-negative":"text-grey"])},V(a.dependents.contactNo.msg?a.dependents.contactNo.msg:"contact No"),3),e(B,{modelValue:i.contactNo,"onUpdate:modelValue":h=>i.contactNo=h,label:"Enter Contact No.",outlined:"",error:a.dependents.contactNo.type[p],"no-error-icon":!0},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",$o,[t("div",{class:T(["text-caption text-uppercase q-mb-xs",a.dependents.email.msg?"text-negative":"text-grey"])},V(a.dependents.email.msg?a.dependents.email.msg:"email"),3),e(B,{modelValue:i.email,"onUpdate:modelValue":h=>i.email=h,label:"Enter Email",outlined:"",error:a.dependents.email.type[p],"no-error-icon":!0},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",qo,[t("div",{class:T(["text-caption text-uppercase q-mb-xs",a.dependents.address.msg?"text-negative":"text-grey"])},V(a.dependents.address.msg?a.dependents.address.msg:"address"),3),e(B,{modelValue:i.address,"onUpdate:modelValue":h=>i.address=h,label:"Enter Address",outlined:"",error:a.dependents.address.type[p],"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","onUpdate:modelValue","error"])])]),t("div",null,[e(dt,{"left-label":"",modelValue:i.isEmergency,"onUpdate:modelValue":[h=>i.isEmergency=h,()=>v(p)],label:"emergency contact person","checked-icon":"bi-check2-circle","unchecked-icon":"bi-circle",class:"text-capitalize"},null,8,["modelValue","onUpdate:modelValue"])])]))),128))]),_:1}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",ko,[se(c).hasRole(["SuperAdmin","Admin","HR"])?(f(),X(H,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:n[0]||(n[0]=i=>j())})):ae("",!0),se(c).hasRole(["SuperAdmin","Admin","HR"])?(f(),X(H,{key:1,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"add",onClick:U,outline:""})):ae("",!0),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:n[1]||(n[1]=()=>{b("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:g.value},{default:l(()=>[t("div",Eo,[e(ke,{size:"md"}),n[6]||(n[6]=t("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))])]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},Po={class:"q-mb-lg"},zo={class:"row q-col-gutter-xs q-mb-xs"},No={class:"col-3"},Co={class:"col-3"},Ao={class:"col-1"},Io={class:"card-grid"},Mo={key:0,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},To=["onClick"],Ro={class:"text-subtitle2 text-uppercase"},Fo={class:"q-gutter-sm"},Yo={class:"text-center"},Lo={class:"iframe-container"},Oo=["src"],Bo={__name:"DocumentDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(G,{emit:s}){const c=De(),y=ge(),m=G,b=s,k=ue({get:()=>m.modelValue===m.dialogName,set:$=>{$||b("update:modelValue",null)}}),g=r(!1),d=r([]);r("");const q=async $=>{g.value=!0;try{const o=await oe.get("/employee/document",{params:{id:$}});d.value=o.data.record}catch(o){console.error("Error fetching all data:",o),K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{g.value=!1}},A=()=>{q(y.data?.id)},N=()=>{w.value=[{file:""}]},w=r([{file:""}]),a=we({documents:{file:{type:[],msg:""}}}),P=()=>{a.documents.file.type=w.value.map(()=>null)},E=()=>{let $=!1;return a.documents.file={type:null,msg:""},P(),w.value.forEach((o,n)=>{o.file?o.file.type!=="application/pdf"?(a.documents.file.type[n]=!0,a.documents.file.msg="file must be a PDF document",$=!0):o.file.size>5242880&&(a.documents.file.type[n]=!0,a.documents.file.msg="file size must not exceed to 5MB",$=!0):(a.documents.file.type[n]=!0,a.documents.file.msg="file is required",$=!0)}),$&&K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                <div class="text-caption">Something went wrong.</div>
            `}),!$},L=async()=>{if(E()){g.value=!0;try{const $=new FormData;w.value.forEach((n,i)=>{$.append(`documents[${i}][documentId]`,n.documentId),n.file&&$.append(`documents[${i}][file]`,n.file)});const o=await oe.post(`/employee/${y.data?.id}/document`,$,{headers:{"Content-Type":"multipart/form-data"}});b("update:modelValue",null),K.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${o.data.message}<div>
            `})}catch($){$.response&&$.response.data&&(U($.response.data),K.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{g.value=!1}}},U=$=>{const o=Array.isArray($)?$:$?.errors||[];Object.keys(a).forEach(n=>{a[n].type=null,a[n].messages=[]}),o.forEach(n=>{a[n.path]!==void 0&&(a[n.path].type=!0,a[n.path].messages.push(n.msg))})},R=()=>{w.value.push({file:""})},v=$=>{w.value.splice($,1)},j=r(!1),I=r(null),F=async $=>{g.value=!0;try{const o=await oe.get(`/employee/document/${$}/pdf`,{responseType:"arraybuffer"}),n=new Blob([o.data],{type:"application/pdf"}),i=window.URL.createObjectURL(n)+"#view=FitW";I.value=i,j.value=!0,g.value=!1}catch(o){g.value=!1,console.error("Error generating PDF:",o)}};return($,o)=>(f(),O(re,null,[e(ve,{modelValue:k.value,"onUpdate:modelValue":o[2]||(o[2]=n=>k.value=n),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:o[3]||(o[3]=()=>{A(),N()})},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(Y,{class:"q-pa-lg"},{default:l(()=>o[5]||(o[5]=[t("div",{class:"text-h6 text-uppercase"},"document information",-1)])),_:1,__:[5]}),e(xe,{inset:""}),e(Y,{class:"col q-pa-lg scroll"},{default:l(()=>[t("div",Po,[t("div",zo,[t("div",No,[t("div",{class:T(["text-caption text-uppercase q-mb-xs",a.documents.file.msg?"text-negative":"text-grey"])},V(a.documents.file.msg?a.documents.file.msg:"documents"),3)])]),(f(!0),O(re,null,ce(w.value,(n,i)=>(f(),O("div",{class:"row q-col-gutter-xs q-mb-xs",key:i},[t("div",Co,[e(ut,{modelValue:n.file,"onUpdate:modelValue":p=>n.file=p,label:"Upload File",outlined:"",error:a.documents.file.type[i],"no-error-icon":!0},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",Ao,[w.value.length>1&&se(c).hasRole(["SuperAdmin","Admin","HR"])?(f(),X(H,{key:0,round:"",icon:"bi-trash3",flat:"",unelevated:"",color:"grey",onClick:p=>v(i),size:"sm",class:"q-mt-md"},null,8,["onClick"])):ae("",!0)])]))),128))]),t("div",Io,[!g.value&&d.value.length===0?(f(),O("div",Mo,[e(ee,{key:"data-add",class:"card card-hover-animate flex flex-center q-pa-md no-shadow cursor-pointer radius-sm"},{default:l(()=>[e(Y,{class:"text-center"},{default:l(()=>o[6]||(o[6]=[t("div",{class:"text-caption text-uppercase text-grey"},"no data found",-1)])),_:1,__:[6]})]),_:1})])):(f(!0),O(re,{key:1},ce(d.value,(n,i)=>(f(),O("div",{key:`data-${n.id}`,class:"card-anim-wrapper",style:Ce({animationDelay:`${i*120}ms`}),onClick:p=>F(n.id)},[e(ee,{class:"card card-hover-animate flex flex-center q-pa-md no-shadow cursor-pointer radius-sm"},{default:l(()=>[e(Y,{class:"text-center full-width"},{default:l(()=>[t("div",Ro,V(n?.filename),1)]),_:2},1024)]),_:2},1024)],12,To))),128))])]),_:1}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",Fo,[se(c).hasRole(["SuperAdmin","Admin","HR"])?(f(),X(H,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:o[0]||(o[0]=n=>L())})):ae("",!0),se(c).hasRole(["SuperAdmin","Admin","HR"])?(f(),X(H,{key:1,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"add",onClick:R,outline:""})):ae("",!0),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:o[1]||(o[1]=()=>{b("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:g.value},{default:l(()=>[t("div",Yo,[e(ke,{size:"md"}),o[7]||(o[7]=t("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))])]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]),e(ve,{modelValue:j.value,"onUpdate:modelValue":o[4]||(o[4]=n=>j.value=n),"full-height":"","full-width":"",class:"pdf"},{default:l(()=>[e(ee,{class:"bg-white q-pa-none",style:{height:"100vh",overflow:"hidden"}},{default:l(()=>[Me(e(H,{icon:"bi-x",class:"fixed bg-white text-primary shadow-2",round:"",dense:"",style:{top:"15px",right:"15px","z-index":"999"}},null,512),[[je]]),e(Y,{class:"q-pa-none",style:{height:"100%",overflow:"hidden"}},{default:l(()=>[t("div",Lo,[I.value?(f(),O("iframe",{key:0,src:I.value,frameborder:"0"},null,8,Oo)):ae("",!0)])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},jo=Ne(Bo,[["__scopeId","data-v-4fa2146d"]]),Ho={class:"iframe-container"},Wo=["src"],Go={class:"q-gutter-sm"},Qo={__name:"IdentificationDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(G,{emit:s}){const c=ge(),y=G,m=s,b=ue({get:()=>y.modelValue===y.dialogName,set:A=>{A||m("update:modelValue",null)}}),k=r(!1),g=()=>{q()},d=r(null),q=async()=>{k.value=!0;try{const A=await oe.get(`/employee/${c.data?.id}/pdf`,{responseType:"arraybuffer"}),N=new Blob([A.data],{type:"application/pdf"}),w=window.URL.createObjectURL(N)+"#view=FitW";d.value=w}catch(A){console.error("Error generating PDF:",A)}finally{k.value=!1}};return(A,N)=>(f(),X(ve,{modelValue:b.value,"onUpdate:modelValue":N[1]||(N[1]=w=>b.value=w),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:N[2]||(N[2]=w=>g())},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(Y,{class:"q-pa-lg"},{default:l(()=>N[3]||(N[3]=[t("div",{class:"text-h6 text-uppercase"},"digital id",-1)])),_:1,__:[3]}),e(xe,{inset:""}),e(Y,{class:"col q-pa-none scroll"},{default:l(()=>[t("div",Ho,[d.value?(f(),O("iframe",{key:0,src:d.value,frameborder:"0"},null,8,Wo)):ae("",!0)])]),_:1}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",Go,[e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:N[0]||(N[0]=()=>{m("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:k.value},{default:l(()=>[e(ee,{class:"no-shadow radius-md q-pa-md"},{default:l(()=>[e(Y,{class:"text-center"},{default:l(()=>[t("div",null,[e(qe,{color:"dark"})]),N[4]||(N[4]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[4]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},Xo={class:"filter-inline"},Jo={class:"q-gutter-xs"},Zo={class:"q-mt-md"},Ko={class:"q-mb-xl"},ei={class:"row q-col-gutter-xs q-mb-xs"},ti={class:"col-1"},ai={class:"col-1"},li={class:"col-4"},si={class:"row items-center q-gutter-xs"},oi={class:"col"},ii={class:"row items-center q-gutter-xs"},ni={class:"q-gutter-sm"},ri={class:"iframe-container"},di=["src"],ui={__name:"AttendanceDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(G,{emit:s}){const c=ge(),y=G,m=s,b=ue({get:()=>y.modelValue===y.dialogName,set:F=>{F||m("update:modelValue",null)}}),k=r(!1);r("");const g=new Date,d=r(String(g.getMonth()+1).padStart(2,"0")),q=r(String(g.getFullYear())),A=Array.from({length:12},(F,$)=>{const o=new Date(0,$).toLocaleString("en-US",{month:"short"}),n=String($+1).padStart(2,"0");return{label:o,value:n}}),N=r([]),w=r(""),a=async F=>{k.value=!0;try{const o=(await oe.get("/employee/attendance",{params:{id:F,year:q.value,month:d.value}})).data;N.value=o.logs,w.value=o.attendance_id}catch($){console.error("Error fetching all data:",$),K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{k.value=!1}},P=()=>{a(c.data?.id)},E=F=>F?Ze(F).format("DD"):"",L=F=>F?Ze(F).format("dddd"):"",U=F=>F?Ze(F,["HH:mm","HH:mm:ss"],!0).format("hh:mm A"):"",R=F=>{const $=Number(F)||0;if($<=0)return"0 min";const o=24*60,n=Math.floor($/o),i=Math.floor($%o/60),p=$%60,h=[];return n&&h.push(`${n} ${n===1?"day":"days"}`),i&&h.push(`${i} ${i===1?"hr":"hrs"}`),p&&h.push(`${p} ${p===1?"min":"mins"}`),h.join(" ")},v=r(!1),j=r(null),I=async()=>{k.value=!0;try{const F=await oe.get(`/attendance/${w.value}/pdf`,{responseType:"arraybuffer"}),$=new Blob([F.data],{type:"application/pdf"}),o=window.URL.createObjectURL($)+"#view=FitW";j.value=o,v.value=!0,k.value=!1}catch(F){console.error("Error generating PDF:",F)}finally{k.value=!1}};return(F,$)=>(f(),O(re,null,[e(ve,{modelValue:b.value,"onUpdate:modelValue":$[3]||($[3]=o=>b.value=o),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:$[4]||($[4]=o=>P())},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(Y,{class:"q-pa-lg"},{default:l(()=>$[6]||($[6]=[t("div",{class:"text-h6 text-uppercase"},"daily time record",-1)])),_:1,__:[6]}),e(xe,{inset:""}),e(Y,{class:"col q-pa-lg scroll"},{default:l(()=>[t("div",Xo,[e(B,{outlined:"",modelValue:q.value,"onUpdate:modelValue":$[0]||($[0]=o=>q.value=o),style:{width:"80px"},dense:""},null,8,["modelValue"]),t("div",Jo,[(f(!0),O(re,null,ce(se(A),(o,n)=>(f(),X(H,{round:"",unelevated:"",class:T(d.value===o.value?"active":"inactive"),onClick:()=>{d.value=o.value,a(se(c).data?.id)},size:"md",label:o.label},null,8,["class","onClick","label"]))),256))])]),t("div",Zo,[$[7]||($[7]=t("div",{class:"row q-col-gutter-xs"},[t("div",{class:"col-1"},[t("div",{class:"q-mb-xs"},[t("span",{class:"text-caption text-uppercase text-grey q-mr-sm"},"date")])]),t("div",{class:"col-1"},[t("div",{class:"q-mb-xs"},[t("span",{class:"text-caption text-uppercase text-grey q-mr-sm"},"day")])]),t("div",{class:"col-4"},[t("div",{class:"q-mb-xs"},[t("span",{class:"text-caption text-uppercase text-grey q-mr-sm"},"attendance")])]),t("div",{class:"col-4"},[t("div",{class:"q-mb-xs"},[t("span",{class:"text-caption text-uppercase text-grey q-mr-sm"},"logs")])])],-1)),t("div",Ko,[(f(!0),O(re,null,ce(N.value,(o,n)=>(f(),O("div",ei,[t("div",ti,[e(B,{outlined:"",dense:"","model-value":E(o.date)},null,8,["model-value"])]),t("div",ai,[e(B,{outlined:"",dense:"","model-value":L(o.date)},null,8,["model-value"])]),t("div",li,[t("div",si,[e(B,{outlined:"",dense:"","model-value":U(o.time_in),readonly:!0,style:{width:"100px"}},null,8,["model-value"]),e(B,{outlined:"",dense:"","model-value":U(o.time_out),readonly:!0,style:{width:"100px"}},null,8,["model-value"]),e(B,{outlined:"",dense:"","model-value":R(o.late),readonly:!0,style:{width:"100px"}},null,8,["model-value"]),e(B,{outlined:"",dense:"","model-value":R(o.undertime),readonly:!0,style:{width:"100px"}},null,8,["model-value"]),e(B,{outlined:"",dense:"","model-value":R(o.overtime),readonly:!0,style:{width:"100px"}},null,8,["model-value"])])]),t("div",oi,[t("div",ii,[(f(!0),O(re,null,ce(o.logs,(i,p)=>(f(),X(B,{outlined:"",dense:"","model-value":U(o.logs[p]),readonly:!0,style:{width:"100px"}},null,8,["model-value"]))),256)),o.notes.length?(f(!0),O(re,{key:0},ce(o.notes,i=>(f(),X(va,{rounded:"",color:"primary",label:i.type,class:"text-uppercase cursor-pointer"},{default:l(()=>[e(Ye,{anchor:"top middle",self:"center middle",class:"text-uppercase"},{default:l(()=>[t("div",null,V(i.name),1)]),_:2},1024)]),_:2},1032,["label"]))),256)):ae("",!0)])])]))),256))])])]),_:1}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",ni,[e(H,{disable:!w.value,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"print",onClick:$[1]||($[1]=()=>{I()})},null,8,["disable"]),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:$[2]||($[2]=()=>{m("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:k.value},{default:l(()=>[e(ee,{class:"no-shadow radius-md q-pa-md"},{default:l(()=>[e(Y,{class:"text-center"},{default:l(()=>[t("div",null,[e(qe,{color:"dark"})]),$[8]||($[8]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[8]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]),e(ve,{modelValue:v.value,"onUpdate:modelValue":$[5]||($[5]=o=>v.value=o),"full-height":"","full-width":"",class:"pdf"},{default:l(()=>[e(ee,{class:"bg-white q-pa-none",style:{height:"100vh",overflow:"hidden"}},{default:l(()=>[Me(e(H,{icon:"bi-x",class:"fixed bg-white text-primary shadow-2",round:"",dense:"",style:{top:"15px",right:"15px","z-index":"999"}},null,512),[[je]]),e(Y,{class:"q-pa-none",style:{height:"100%",overflow:"hidden"}},{default:l(()=>[t("div",ri,[j.value?(f(),O("iframe",{key:0,src:j.value,frameborder:"0"},null,8,di)):ae("",!0)])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},ci=Ne(ui,[["__scopeId","data-v-48aed48f"]]),pi={class:"q-mb-lg"},mi={key:0},vi={class:"row q-col-gutter-xs q-mb-xs"},gi={class:"col-1"},fi={class:"col-1"},hi={class:"col-1"},xi={class:"col-2"},yi={class:"col-1"},_i={class:"col-1"},bi={class:"col-1"},Vi={class:"col-1"},wi={key:1},Si={class:"card-grid"},Di={class:"text-subtitle2 text-uppercase"},$i={class:"text-caption"},qi={class:"q-mb-lg"},ki={class:"filter-inline q-mb-md"},Ei={class:"q-gutter-xs"},Ui={class:"card-grid"},Pi={key:0,class:"inner-card-anim-wrapper",style:{animationDelay:"120ms"}},zi={class:"text-subtitle2 text-uppercase"},Ni={class:"text-caption text-uppercase text-grey"},Ci={class:"text-caption"},Ai={class:"text-caption text-uppercase text-grey"},Ii={class:"q-gutter-sm"},Mi={class:"iframe-container"},Ti=["src"],Ri={__name:"LeaveDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(G,{emit:s}){const c=ge(),y=G,m=s,b=ue({get:()=>y.modelValue===y.dialogName,set:S=>{S||m("update:modelValue",null)}}),k=r(!1),g=new Date,d=r(String(g.getMonth()+1).padStart(2,"0")),q=r(String(g.getFullYear())),A=Array.from({length:12},(S,D)=>{const _=new Date(0,D).toLocaleString("en-US",{month:"short"}),C=String(D+1).padStart(2,"0");return{label:_,value:C}}),N=r([]),w=r([]),a=async S=>{k.value=!0;try{const D=await oe.get("/employee/leave/balance",{params:{id:S}});N.value=D.data.record}catch(D){console.error("Error fetching all data:",D),K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{k.value=!1}},P=async S=>{k.value=!0;try{const D=await oe.get("/employee/leave/application",{params:{id:S,month:d.value,year:q.value}});w.value=D.data.record}catch(D){console.error("Error fetching all data:",D),K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{k.value=!1}},E=r([]),L=async()=>{try{const{data:S}=await oe.get("/employee/option/leavetype");U(S)}catch(S){console.error("Error fetching options:",S)}},U=(S=[])=>{E.value=S.map(D=>({leavetypeid:D.id??"",leavetype:D.name??"",credit:D.credit??"",earned:"",used:"",balance:""}))},R=()=>{a(c.data?.id),P(c.data?.id),L()},v=we({leaves:{credit:{type:[],msg:""},earned:{type:[],msg:""},used:{type:[],msg:""}}}),j=()=>{v.leaves.credit.type=E.value.map(()=>null),v.leaves.earned.type=E.value.map(()=>null),v.leaves.used.type=E.value.map(()=>null)},I=()=>{let S=!1;return v.leaves.credit={type:null,msg:""},v.leaves.earned={type:null,msg:""},v.leaves.used={type:null,msg:""},j(),E.value.forEach((D,_)=>{D.credit||(v.leaves.credit.type[_]=!0,v.leaves.credit.msg="credit is required",S=!0),D.earned||(v.leaves.earned.type[_]=!0,v.leaves.earned.msg="earned is required",S=!0),D.used||(v.leaves.used.type[_]=!0,v.leaves.used.msg="used is required",S=!0)}),S&&K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                <div class="text-caption">Something went wrong.</div>
            `}),!S},F=async()=>{if(I()){k.value=!0;try{const S=await oe.post(`/employee/${c.data?.id}/leave`,{leaves:E.value});m("update:modelValue",null),K.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${S.data.message}<div>
            `})}catch(S){S.response&&S.response.data&&($(S.response.data),K.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{k.value=!1}}},$=S=>{const D=Array.isArray(S)?S:S?.errors||[];Object.keys(v).forEach(_=>{v[_].type=null,v[_].messages=[]}),D.forEach(_=>{v[_.path]!==void 0&&(v[_.path].type=!0,v[_.path].messages.push(_.msg))})},o=(S,D,_="en-US")=>{if(!S)return"";const C=new Date(S),u=new Date(D||S),ne=C.getFullYear()===u.getFullYear()&&C.getMonth()===u.getMonth()&&C.getDate()===u.getDate(),W=pe=>pe.toLocaleString(_,{month:"long"}),J=pe=>pe.getDate(),Z=pe=>pe.getFullYear();return ne?`${W(C)} ${J(C)}, ${Z(C)}`:C.getMonth()===u.getMonth()&&C.getFullYear()===u.getFullYear()?`${W(C)} ${J(C)}-${J(u)}, ${Z(C)}`:`${W(C)} ${J(C)}, ${Z(C)} - ${W(u)} ${J(u)}, ${Z(u)}`},n=(S,D)=>{if(!S)return 0;const _=new Date(S),C=new Date(D||S);_.setHours(0,0,0,0),C.setHours(0,0,0,0);const u=Math.round((C-_)/(1e3*60*60*24));return u>=0?u+1:0},i=r(!1),p=r(null),h=async S=>{k.value=!0;try{const D=await oe.get(`/leave/${S}/pdf`,{responseType:"arraybuffer"}),_=new Blob([D.data],{type:"application/pdf"}),C=window.URL.createObjectURL(_)+"#view=FitW";p.value=C,i.value=!0,k.value=!1}catch(D){k.value=!1,console.error("Error generating PDF:",D)}};return(S,D)=>(f(),O(re,null,[e(ve,{modelValue:b.value,"onUpdate:modelValue":D[3]||(D[3]=_=>b.value=_),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:D[4]||(D[4]=_=>R())},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(Y,{class:"q-pa-lg"},{default:l(()=>D[6]||(D[6]=[t("div",{class:"text-h6 text-uppercase"},"leave information",-1)])),_:1,__:[6]}),e(xe,{inset:""}),e(Y,{class:"col q-pa-lg scroll"},{default:l(()=>[t("div",pi,[D[10]||(D[10]=t("div",{class:"text-uppercase text-body1 text-bold q-mb-sm"},"leave credit",-1)),N.value.length===0?(f(),O("div",mi,[t("div",vi,[D[7]||(D[7]=t("div",{class:"col-2"},[t("div",{class:"text-caption text-uppercase text-grey"},"leave")],-1)),t("div",gi,[t("div",{class:T(["text-caption text-uppercase",v.leaves.credit.msg?"text-negative text-italic":"text-grey"])},V(v.leaves.credit.msg?v.leaves.credit.msg:"credit"),3)]),t("div",fi,[t("div",{class:T(["text-caption text-uppercase",v.leaves.earned.msg?"text-negative text-italic":"text-grey"])},V(v.leaves.earned.msg?v.leaves.earned.msg:"earned"),3)]),t("div",hi,[t("div",{class:T(["text-caption text-uppercase",v.leaves.used.msg?"text-negative text-italic":"text-grey"])},V(v.leaves.used.msg?v.leaves.used.msg:"used"),3)]),D[8]||(D[8]=t("div",{class:"col-1"},[t("div",{class:"text-caption text-uppercase text-grey"},"balance")],-1))]),(f(!0),O(re,null,ce(E.value,(_,C)=>(f(),O("div",{class:"row q-col-gutter-xs q-mb-xs",key:C},[t("div",xi,[e(B,{modelValue:_.leavetype,"onUpdate:modelValue":u=>_.leavetype=u,outlined:"","no-error-icon":!0,readonly:!0,class:"text-capitalize"},null,8,["modelValue","onUpdate:modelValue"])]),t("div",yi,[e(B,{modelValue:_.credit,"onUpdate:modelValue":u=>_.credit=u,outlined:"",error:v.leaves.credit.type[C],"no-error-icon":!0},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",_i,[e(B,{modelValue:_.earned,"onUpdate:modelValue":u=>_.earned=u,error:v.leaves.earned.type[C],outlined:""},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",bi,[e(B,{modelValue:_.used,"onUpdate:modelValue":u=>_.used=u,error:v.leaves.used.type[C],outlined:""},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",Vi,[e(B,{"model-value":(Number(_.earned)||0)-(Number(_.used)||0),outlined:"",readonly:!0},null,8,["model-value"])])]))),128))])):(f(),O("div",wi,[t("div",Si,[(f(!0),O(re,null,ce(N.value,(_,C)=>(f(),O("div",{key:`data-${_.id}`,class:"inner-card-anim-wrapper",style:Ce({animationDelay:`${C*120}ms`})},[e(ee,{class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:l(()=>[e(Y,null,{default:l(()=>[t("div",Di,V(_?.leaveType?.name),1)]),_:2},1024),e(Y,null,{default:l(()=>[t("div",$i,V(_.balance),1),D[9]||(D[9]=t("div",{class:"text-caption text-uppercase text-grey"},"balance",-1))]),_:2,__:[9]},1024)]),_:2},1024)],4))),128))])]))]),t("div",qi,[D[12]||(D[12]=t("div",{class:"text-uppercase text-body1 text-bold q-mb-sm"},"leave application",-1)),t("div",ki,[e(B,{outlined:"",modelValue:q.value,"onUpdate:modelValue":D[0]||(D[0]=_=>q.value=_),style:{width:"80px"},dense:""},null,8,["modelValue"]),t("div",Ei,[(f(!0),O(re,null,ce(se(A),(_,C)=>(f(),X(H,{round:"",unelevated:"",class:T(d.value===_.value?"active":"inactive"),onClick:()=>{d.value=_.value,P(se(c).data?.id)},size:"md",label:_.label},null,8,["class","onClick","label"]))),256))])]),t("div",Ui,[!k.value&&w.value.length===0?(f(),O("div",Pi,[e(ee,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:l(()=>[e(Y,{class:"text-center"},{default:l(()=>D[11]||(D[11]=[t("div",{class:"text-caption text-uppercase text-grey"},"no data found",-1)])),_:1,__:[11]})]),_:1})])):ae("",!0),(f(!0),O(re,null,ce(w.value,(_,C)=>(f(),O("div",{key:`data-${_.id}`,class:"inner-card-anim-wrapper",style:Ce({animationDelay:`${C*120}ms`})},[e(ee,{onClick:()=>{h(_.id)},class:"card card-menu card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm no-shadow"},{default:l(()=>[e(Y,null,{default:l(()=>[t("div",zi,V(_.leaveType?.name),1),t("div",Ni,V(_?.status),1)]),_:2},1024),e(Y,null,{default:l(()=>[t("div",Ci,V(o(_?.date_from,_?.date_to)),1),t("div",Ai,V(n(_?.date_from,_?.date_to))+" day/s",1)]),_:2},1024)]),_:2},1032,["onClick"])],4))),128))])])]),_:1}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",Ii,[N.value.length===0?(f(),X(H,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:D[1]||(D[1]=_=>F())})):ae("",!0),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:D[2]||(D[2]=()=>{m("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:k.value},{default:l(()=>[e(ee,{class:"no-shadow radius-md q-pa-md"},{default:l(()=>[e(Y,{class:"text-center"},{default:l(()=>[t("div",null,[e(qe,{color:"dark"})]),D[13]||(D[13]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[13]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]),e(ve,{modelValue:i.value,"onUpdate:modelValue":D[5]||(D[5]=_=>i.value=_),"full-height":"","full-width":"",class:"pdf"},{default:l(()=>[e(ee,{class:"bg-white q-pa-none",style:{height:"100vh",overflow:"hidden"}},{default:l(()=>[Me(e(H,{icon:"bi-x",class:"fixed bg-white text-primary shadow-2",round:"",dense:"",style:{top:"15px",right:"15px","z-index":"999"}},null,512),[[je]]),e(Y,{class:"q-pa-none",style:{height:"100%",overflow:"hidden"}},{default:l(()=>[t("div",Mi,[p.value?(f(),O("iframe",{key:0,src:p.value,frameborder:"0"},null,8,Ti)):ae("",!0)])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Fi=Ne(Ri,[["__scopeId","data-v-9fa8b8d7"]]),Yi={class:"q-gutter-sm"},Li={class:"text-center"},Oi={__name:"PerformanceDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(G,{emit:s}){ge();const c=G,y=s,m=ue({get:()=>c.modelValue===c.dialogName,set:g=>{g||y("update:modelValue",null)}}),b=r(!1),k=()=>{};return(g,d)=>(f(),X(ve,{modelValue:m.value,"onUpdate:modelValue":d[2]||(d[2]=q=>m.value=q),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:d[3]||(d[3]=q=>k())},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(Y,{class:"q-pa-lg"},{default:l(()=>d[4]||(d[4]=[t("div",{class:"text-h6 text-uppercase"},"performance information",-1)])),_:1,__:[4]}),e(xe,{inset:""}),e(Y,{class:"col q-pa-lg scroll"}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",Yi,[e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:d[0]||(d[0]=q=>g.SaveProfile())}),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:d[1]||(d[1]=()=>{y("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:b.value},{default:l(()=>[t("div",Li,[e(ke,{size:"md"}),d[5]||(d[5]=t("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))])]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},Bi={class:"q-gutter-sm"},ji={class:"text-center"},Hi={__name:"IncidentDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(G,{emit:s}){ge();const c=G,y=s,m=ue({get:()=>c.modelValue===c.dialogName,set:g=>{g||y("update:modelValue",null)}}),b=r(!1),k=()=>{};return(g,d)=>(f(),X(ve,{modelValue:m.value,"onUpdate:modelValue":d[2]||(d[2]=q=>m.value=q),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:d[3]||(d[3]=q=>k())},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(Y,{class:"q-pa-lg"},{default:l(()=>d[4]||(d[4]=[t("div",{class:"text-h6 text-uppercase"},"disciplinary information",-1)])),_:1,__:[4]}),e(xe,{inset:""}),e(Y,{class:"col q-pa-lg scroll"}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",Bi,[e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:d[0]||(d[0]=q=>g.SaveProfile())}),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:d[1]||(d[1]=()=>{y("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:b.value},{default:l(()=>[t("div",ji,[e(ke,{size:"md"}),d[5]||(d[5]=t("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))])]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},Wi={class:"q-gutter-sm"},Gi={class:"text-center"},Qi={__name:"PayslipDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(G,{emit:s}){ge();const c=G,y=s,m=ue({get:()=>c.modelValue===c.dialogName,set:g=>{g||y("update:modelValue",null)}}),b=r(!1),k=()=>{};return(g,d)=>(f(),X(ve,{modelValue:m.value,"onUpdate:modelValue":d[2]||(d[2]=q=>m.value=q),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:d[3]||(d[3]=q=>k())},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(Y,{class:"q-pa-lg"},{default:l(()=>d[4]||(d[4]=[t("div",{class:"text-h6 text-uppercase"},"payslip",-1)])),_:1,__:[4]}),e(xe,{inset:""}),e(Y,{class:"col q-pa-lg scroll"}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",Wi,[e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:d[0]||(d[0]=q=>g.SaveProfile())}),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:d[1]||(d[1]=()=>{y("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:b.value},{default:l(()=>[t("div",Gi,[e(ke,{size:"md"}),d[5]||(d[5]=t("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))])]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},Xi={class:"q-gutter-sm"},Ji={class:"text-center"},Zi={__name:"OvertimeDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(G,{emit:s}){ge();const c=G,y=s,m=ue({get:()=>c.modelValue===c.dialogName,set:g=>{g||y("update:modelValue",null)}}),b=r(!1),k=()=>{};return(g,d)=>(f(),X(ve,{modelValue:m.value,"onUpdate:modelValue":d[2]||(d[2]=q=>m.value=q),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:d[3]||(d[3]=q=>k())},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(Y,{class:"q-pa-lg"},{default:l(()=>d[4]||(d[4]=[t("div",{class:"text-h6 text-uppercase"},"overtime information",-1)])),_:1,__:[4]}),e(xe,{inset:""}),e(Y,{class:"col q-pa-lg scroll"}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",Xi,[e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:d[0]||(d[0]=q=>g.SaveProfile())}),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:d[1]||(d[1]=()=>{y("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:b.value},{default:l(()=>[t("div",Ji,[e(ke,{size:"md"}),d[5]||(d[5]=t("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))])]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},Ki={class:"q-mb-md"},en={class:"card-grid"},tn={class:"inner-card-anim-wrapper",style:{animationDelay:"100ms"}},an={class:"text-caption text-dark text-uppercase"},ln={class:"text-caption text-grey text-uppercase"},sn={class:"absolute-left"},on={class:"q-mb-md"},nn={class:"q-gutter-sm"},rn={class:"row q-col-gutter-xs q-mb-md"},dn={class:"col-2"},un={class:"col-2"},cn={class:"col-2"},pn={key:0,class:"col-2"},mn={class:"col-2"},vn={class:"q-mb-md q-mt-xl"},gn={class:"q-gutter-sm"},fn={class:"row q-col-gutter-xs q-mb-md"},hn={class:"col-2"},xn={class:"q-mb-md"},yn={class:"q-gutter-sm"},_n={class:"row q-gutter-sm"},bn={class:"text-caption text-uppercase text-grey"},Vn={__name:"SalaryDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(G,{emit:s}){const c=De(),y=ge(),m=G,b=s,k=ue({get:()=>m.modelValue===m.dialogName,set:le=>{le||b("update:modelValue",null)}}),g=r([]),d=r([{value:"HIRE",label:"Hiring Rate"},{value:"PROMO",label:"Promotion Increase"},{value:"MERIT",label:"Merit Increase"},{value:"ANNUAL",label:"Annual Increase"},{value:"COLA",label:"Cost of Living Allowance"},{value:"PROB",label:"Probationary Increase"},{value:"ADJUST",label:"Salary Adjustment"},{value:"GOVT",label:"Government Mandated Increase"}]),q=r(["Monthly","Daily","Hourly"]),A=r(["Monthly","Semi-Monthly","Weekly"]),N=r(["S","ME","S1","S2","S3","S4","ME1","ME2","ME3","ME4","Z"]);function w(le,Q="PHP"){return le?le.split("-").map(te=>parseFloat(te.replace(/,/g,"")).toLocaleString("en-PH",{style:"currency",currency:Q,minimumFractionDigits:2})).join(" - "):""}const a=async()=>{try{const le=await oe.get("/salary/option/position");g.value=le.data}catch(le){console.error("Error fetching options:",le)}},P=r(""),E=r(new Date().toISOString().split("T")[0]),L=r(""),U=r(""),R=r(""),v=r(""),j=r(""),I=r(""),F=r(""),$=r(!1),o=we({datestart:{type:null,msg:""},dateend:{type:null,msg:""},salarygroup:{type:null,msg:""},salarytype:{type:null,msg:""},amount:{type:null,msg:""},payrollgroup:{type:null,msg:""},taxstatus:{type:null,msg:""}}),n=()=>K.fire({icon:"error",html:`
        <div class="text-h6 text-bold text-uppercase">Request Failed</div>
        <div class="text-caption">Something went wrong.</div>
        `}),i=(le,Q="required")=>(o[le].type=!0,o[le].msg=Q,!0),p=le=>(o[le].type=null,o[le].msg="",!1),h=(le,Q)=>Q?p(le):i(le,"required"),S=()=>{let le=!1;return le||=h("salarytype",R.value),le||=h("datestart",E.value),le||=L.value&&E.value&&new Date(L.value)<new Date(E.value)?i("dateend","must be after start date"):p("dateend"),le||=h("salarygroup",U.value),le||=!P.value&&(!I.value||isNaN(+I.value)||+I.value<=0)?i("amount",I.value?"invalid amount":"required"):p("amount"),le||=h("payrollgroup",v.value),le||=h("taxstatus",j.value),le&&n(),!le},D=r(!1),_=()=>{const le=y.data;a(),v.value=le?.employment?.payroll_group,j.value=le?.employment?.tax_status},C=async()=>{if(!(S&&!S())){D.value=!0;try{const le=await oe.post(`/employee/${y.data?.employment?.id}/salary`,{positionid:P.value.id?P.value.id:y.data?.employment?.position?.id,salarytype:R.value,datestart:E.value,dateend:L.value,salarygroup:U.value,amount:I.value,notes:F.value,payrollgroup:v.value,taxstatus:j.value,isPremium:$.value});b("update:modelValue",null),K.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${le.data.message}<div>
            `})}catch(le){le.response&&le.response.data&&(u(le.response.data),K.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{D.value=!1}}},u=le=>{const Q=Array.isArray(le)?le:le?.errors||[];Object.keys(o).forEach(te=>{o[te].type=null,o[te].messages=[]}),Q.forEach(te=>{o[te.path]!==void 0&&(o[te.path].type=!0,o[te.path].messages.push(te.msg))})},ne=()=>{P.value="",E.value=new Date().toISOString().split("T")[0],L.value="",R.value="",U.value="",I.value="",F.value=""},W=()=>{Object.keys(o).forEach(le=>{o[le].type=null,o[le].msg=""})},J=r(null),Z=r(""),pe=ue(()=>{const le=Z.value.trim().toLowerCase();return g.value.filter(Q=>Q.status==="Vacant").filter(Q=>!le||String(Q.label||"").toLowerCase().includes(le))}),de=ue(()=>pe.value.slice(0,5)),Re=ue(()=>de.value.length),Ge=ue(()=>pe.value.length);return(le,Q)=>(f(),X(ve,{modelValue:k.value,"onUpdate:modelValue":Q[18]||(Q[18]=te=>k.value=te),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:Q[19]||(Q[19]=()=>{_(),ne(),W()})},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(Y,{class:"q-pa-lg"},{default:l(()=>Q[20]||(Q[20]=[t("div",{class:"text-h6 text-uppercase"},"salary schedule",-1)])),_:1,__:[20]}),e(xe,{inset:""}),e(Y,{class:"col q-pa-lg scroll"},{default:l(()=>[t("div",Ki,[Q[22]||(Q[22]=t("div",{class:"text-caption text-uppercase text-grey"},"position",-1)),t("div",en,[t("div",tn,[de.value.length?ae("",!0):(f(),X(ee,{key:0,class:"card card-menu card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:l(()=>[e(Y,{class:"text-center"},{default:l(()=>Q[21]||(Q[21]=[t("div",{class:"text-caption text-dark text-uppercase"},"no record found",-1)])),_:1,__:[21]})]),_:1}))]),de.value.length?(f(!0),O(re,{key:0},ce(de.value,(te,Ae)=>(f(),O("div",{key:`data-${te.id}`,class:"inner-card-anim-wrapper",style:Ce({animationDelay:`${Ae*100}ms`})},[e(ee,{onClick:()=>{P.value=te,R.value=te.salary_type,I.value=te.amount},class:T(["card card-menu card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm",{"card--active":P.value===te}])},{default:l(()=>[e(Y,{class:"text-center"},{default:l(()=>[t("div",an,V(te.label),1),t("div",ln,V(w(te?.amount)),1)]),_:2},1024),t("div",sn,[e(Se,{modelValue:P.value,"onUpdate:modelValue":Q[0]||(Q[0]=Fe=>P.value=Fe),val:te,"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",size:"xs"},null,8,["modelValue","val"])])]),_:2},1032,["onClick","class"])],4))),128)):ae("",!0)])]),t("div",on,[t("div",{class:T(["text-caption text-uppercase",o.salarytype.type?"text-negative text-italic":"text-grey"])},V(o.salarytype.type?o.salarytype.msg:"salary type"),3),t("div",nn,[(f(!0),O(re,null,ce(q.value,te=>(f(),X(Se,{modelValue:R.value,"onUpdate:modelValue":Q[1]||(Q[1]=Ae=>R.value=Ae),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:te,label:te},null,8,["modelValue","val","label"]))),256))])]),t("div",rn,[t("div",dn,[t("div",{class:T(["text-caption text-uppercase",o.datestart.msg?"text-negative text-italic":"text-grey"])},V(o.datestart.msg?o.datestart.msg:"date start (YYYY-MM-DD)"),3),e(B,{outlined:"",modelValue:E.value,"onUpdate:modelValue":Q[4]||(Q[4]=te=>E.value=te),label:"Enter Date"},{default:l(()=>[e(Ve,{cover:"","transition-show":"scale","transition-hide":"scale",ref_key:"popup",ref:J,class:"no-shadow custom-border radius-sm"},{default:l(()=>[e(be,{modelValue:E.value,"onUpdate:modelValue":[Q[2]||(Q[2]=te=>E.value=te),Q[3]||(Q[3]=()=>{J.value.hide()})],mask:"YYYY-MM-DD"},null,8,["modelValue"])]),_:1},512)]),_:1},8,["modelValue"])]),t("div",un,[t("div",{class:T(["text-caption text-uppercase",o.dateend.msg?"text-negative text-italic":"text-grey"])},V(o.dateend.msg?o.dateend.msg:"date end (YYYY-MM-DD)"),3),e(B,{outlined:"",modelValue:L.value,"onUpdate:modelValue":Q[7]||(Q[7]=te=>L.value=te),label:"Enter Date"},{default:l(()=>[e(Ve,{cover:"","transition-show":"scale","transition-hide":"scale",ref_key:"popup",ref:J,class:"no-shadow custom-border radius-sm"},{default:l(()=>[e(be,{modelValue:L.value,"onUpdate:modelValue":[Q[5]||(Q[5]=te=>L.value=te),Q[6]||(Q[6]=()=>{J.value.hide()})],mask:"YYYY-MM-DD"},null,8,["modelValue"])]),_:1},512)]),_:1},8,["modelValue"])]),t("div",cn,[t("div",{class:T(["text-caption text-uppercase",o.salarygroup.msg?"text-negative text-italic":"text-grey"])},V(o.salarygroup.msg?o.salarygroup.msg:"salary group"),3),e(Ue,{outlined:"",modelValue:U.value,"onUpdate:modelValue":Q[8]||(Q[8]=te=>U.value=te),label:"Choose Salary Group","emit-value":"","map-options":"","use-input":"","input-debounce":"300",options:d.value,error:o.salarygroup.type,"hide-dropdown-icon":"","no-error-icon":!0,class:"text-capitalize"},{"no-option":l(()=>[e(fe,null,{default:l(()=>[e(he,{class:"text-italic text-grey"},{default:l(()=>Q[23]||(Q[23]=[me(" No options ")])),_:1,__:[23]})]),_:1})]),option:l(te=>[e(fe,Le(Oe(te.itemProps)),{default:l(()=>[e(he,null,{default:l(()=>[e(Ee,null,{default:l(()=>[me(V(le.$CapitalizeWords(te.opt.label)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","error"])]),P.value?ae("",!0):(f(),O("div",pn,[t("div",{class:T(["text-caption text-uppercase",o.amount.type?"text-negative text-italic":"text-grey"])},V(o.amount.type?o.amount.msg:"amount"),3),e(B,{modelValue:I.value,"onUpdate:modelValue":Q[9]||(Q[9]=te=>I.value=te),label:"Enter Amount",outlined:"",error:o.amount.type,"no-error-icon":!0},null,8,["modelValue","error"])])),t("div",mn,[Q[24]||(Q[24]=t("div",{class:"text-caption text-uppercase text-grey"},"note",-1)),e(B,{modelValue:F.value,"onUpdate:modelValue":Q[10]||(Q[10]=te=>F.value=te),label:"Enter Notes",outlined:"","no-error-icon":!0},null,8,["modelValue"])])]),t("div",vn,[t("div",{class:T(["text-caption text-uppercase",o.payrollgroup.type?"text-negative text-italic":"text-grey"])},V(o.payrollgroup.type?o.payrollgroup.msg:"payroll group"),3),t("div",gn,[(f(!0),O(re,null,ce(A.value,te=>(f(),X(Se,{modelValue:v.value,"onUpdate:modelValue":Q[11]||(Q[11]=Ae=>v.value=Ae),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:te,label:te,class:"text-capitalize"},null,8,["modelValue","val","label"]))),256))])]),t("div",fn,[t("div",hn,[t("div",{class:T(["text-caption text-uppercase",o.taxstatus.type?"text-negative text-italic":"text-grey"])},V(o.taxstatus.type?o.taxstatus.msg:"tax status"),3),e(Ue,{outlined:"",modelValue:j.value,"onUpdate:modelValue":Q[12]||(Q[12]=te=>j.value=te),label:"Choose Tax Status","use-input":"","input-debounce":"300",options:N.value,error:o.taxstatus.type,"hide-dropdown-icon":"","no-error-icon":!0,class:"text-capitalize"},{"no-option":l(()=>[e(fe,null,{default:l(()=>[e(he,{class:"text-italic text-grey"},{default:l(()=>Q[25]||(Q[25]=[me(" No options ")])),_:1,__:[25]})]),_:1})]),option:l(te=>[e(fe,Le(Oe(te.itemProps)),{default:l(()=>[e(he,null,{default:l(()=>[e(Ee,null,{default:l(()=>[me(V(le.$CapitalizeWords(te.opt)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","error"])])]),t("div",xn,[Q[26]||(Q[26]=t("div",{class:"text-caption text-uppercase text-grey'"},"for premium payment",-1)),t("div",yn,[e(dt,{modelValue:$.value,"onUpdate:modelValue":Q[13]||(Q[13]=te=>$.value=te),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",label:"Additional Pay"},null,8,["modelValue"])])])]),_:1}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",_n,[se(c).hasRole(["SuperAdmin","Admin","HR"])?(f(),X(H,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:Q[14]||(Q[14]=te=>C())})):ae("",!0),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"clear",onClick:Q[15]||(Q[15]=()=>{ne()}),outline:""}),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:Q[16]||(Q[16]=()=>{b("update:modelValue",null)}),outline:""}),e(B,{outlined:"",dense:"",debounce:"1000",modelValue:Z.value,"onUpdate:modelValue":Q[17]||(Q[17]=te=>Z.value=te),placeholder:"Search..."},{prepend:l(()=>[e(Be,{name:"bi-search",style:{"font-size":"1rem"}})]),after:l(()=>[t("div",bn,V(Re.value)+" of "+V(Ge.value),1)]),_:1},8,["modelValue"])])]),_:1}),e(_e,{showing:D.value},{default:l(()=>[e(ee,{class:"no-shadow radius-md q-pa-md"},{default:l(()=>[e(Y,{class:"text-center"},{default:l(()=>[t("div",null,[e(qe,{color:"dark"})]),Q[27]||(Q[27]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[27]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},wn=Ne(Vn,[["__scopeId","data-v-0e3e177b"]]),Sn={class:"text-uppercase text-body1 text-bold"},Dn={class:"q-mb-md"},$n={class:"row q-col-gutter-xs q-mb-sm"},qn={class:"col-2"},kn={class:"col-2"},En={class:"q-mb-md"},Un={class:"q-gutter-sm"},Pn={__name:"AccountDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(G,{emit:s}){const c=De(),y=ge(),m=G,b=s,k=ue({get:()=>m.modelValue===m.dialogName,set:o=>{o||b("update:modelValue",null)}}),g=r(!1),d=r(!1),q=r([{id:"",employeeid:"",username:"",password:"",role:"",status:""}]),A=()=>({id:"",employeeid:"",username:"",password:"",role:"",status:""}),N=async o=>{d.value=!0;try{const n=await oe.get("/employee/account",{params:{id:o}});n.data.record.length?w(n.data.record):A()}catch(n){console.error("Error fetching all data:",n),K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{d.value=!1}},w=(o=[])=>{q.value=o.map(n=>({id:n.id??"",username:n.user?.username??"",role:n.user?.role??"",status:n.user?.status??""}))},a=()=>{N(y.data?.id),q.value=[{id:"",employeeid:"",username:"",password:"",role:"",status:""}],q.value.length||A()},P=we({accounts:{username:{type:[],msg:""},password:{type:[],msg:""},role:{type:[],msg:""},status:{type:[],msg:""}}}),E=()=>{P.accounts.username.type=q.value.map(()=>null),P.accounts.password.type=q.value.map(()=>null),P.accounts.role.type=q.value.map(()=>null),P.accounts.status.type=q.value.map(()=>null)},L=()=>{let o=!1;return P.accounts.username={type:null,msg:""},P.accounts.password={type:null,msg:""},P.accounts.role={type:null,msg:""},P.accounts.status={type:null,msg:""},E(),q.value.forEach((n,i)=>{n.username||(P.accounts.username.type[i]=!0,P.accounts.username.msg="username is required",o=!0),n.id||n.password||(P.accounts.password.type[i]=!0,P.accounts.password.msg="password is required",o=!0),n.role||(P.accounts.role.type[i]=!0,P.accounts.role.msg="role is required",o=!0),n.status||(P.accounts.status.type[i]=!0,P.accounts.status.msg="status is required",o=!0)}),o&&K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                <div class="text-caption">Something went wrong.</div>
            `}),!o},U=r([{value:"SuperAdmin",label:"Super Administrator"},{value:"Admin",label:"Administrator"},{value:"Management",label:"Management"},{value:"HR",label:"HR"},{value:"Finance",label:"Finance"},{value:"Employee",label:"Employee"}]),R=r(["Active","Inactive","Suspended"]),v=()=>{q.value.push({id:"",employeeid:"",username:"",password:"",role:"",status:""})},j=o=>{q.value.splice(o,1)},I=async()=>{if(L()){d.value=!0;try{const o=await oe.post(`/employee/${y.data?.id}/account`,{accounts:q.value});b("update:modelValue",null),K.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${o.data.message}<div>
            `})}catch(o){o.response&&o.response.data&&(F(o.response.data),K.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{d.value=!1}}},F=o=>{const n=Array.isArray(o)?o:o?.errors||[];Object.keys(P).forEach(i=>{P[i].type=null,P[i].messages=[]}),n.forEach(i=>{P[i.path]!==void 0&&(P[i.path].type=!0,P[i.path].messages.push(i.msg))})},$=o=>["SuperAdmin"].includes(o);return(o,n)=>(f(),X(ve,{modelValue:k.value,"onUpdate:modelValue":n[3]||(n[3]=i=>k.value=i),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:n[4]||(n[4]=i=>a())},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(Y,{class:"q-pa-lg"},{default:l(()=>n[5]||(n[5]=[t("div",{class:"text-h6 text-uppercase"},"employee account",-1)])),_:1,__:[5]}),e(xe,{inset:""}),e(Y,{class:"col q-pa-lg scroll"},{default:l(()=>[(f(!0),O(re,null,ce(q.value,(i,p)=>(f(),O("div",{key:p,class:"q-mb-md"},[t("div",null,[t("span",Sn,"account "+V(p+1),1),q.value.length>1&&se(c).hasRole(["SuperAdmin","Admin","HR"])?(f(),X(H,{key:0,round:"",icon:"bi-trash3",flat:"",unelevated:"",color:"grey",onClick:h=>j(p),size:"sm",class:"q-ml-sm"},null,8,["onClick"])):ae("",!0)]),t("div",Dn,[t("div",{class:T(["text-caption text-uppercase",P.accounts.role.msg?"text-negative text-italic":"text-grey"])},V(P.accounts.role.msg?P.accounts.role.msg:"role"),3),(f(!0),O(re,null,ce(U.value,(h,S)=>(f(),X(Se,{modelValue:i.role,"onUpdate:modelValue":D=>i.role=D,"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:h.value,label:h.label,class:"text-uppercase",disable:$(h.value)},null,8,["modelValue","onUpdate:modelValue","val","label","disable"]))),256))]),t("div",$n,[t("div",qn,[t("div",{class:T(["text-caption text-uppercase",P.accounts.username.msg?"text-negative text-italic":"text-grey"])},V(P.accounts.username.msg?P.accounts.username.msg:"username"),3),e(B,{modelValue:i.username,"onUpdate:modelValue":h=>i.username=h,label:"Enter Username",outlined:"",error:P.accounts.username.type[p],"no-error-icon":!0},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",kn,[t("div",{class:T(["text-caption text-uppercase",P.accounts.password.msg?"text-negative text-italic":"text-grey"])},V(P.accounts.password.msg?P.accounts.password.msg:"password"),3),e(B,{modelValue:i.password,"onUpdate:modelValue":h=>i.password=h,label:"Enter Password",outlined:"",error:P.accounts.password.type[p],"no-error-icon":!0,type:g.value?"text":"password"},{append:l(()=>[e(Be,{name:g.value?"bi-eye":"bi-eye-slash",class:"cursor-pointer",onClick:n[0]||(n[0]=h=>g.value=!g.value),style:{"font-size":"1rem"}},null,8,["name"])]),_:2},1032,["modelValue","onUpdate:modelValue","error","type"])])]),t("div",En,[t("div",{class:T(["text-caption text-uppercase",P.accounts.status.msg?"text-negative text-italic":"text-grey"])},V(P.accounts.status.msg?P.accounts.status.msg:"status"),3),(f(!0),O(re,null,ce(R.value,(h,S)=>(f(),X(Se,{modelValue:i.status,"onUpdate:modelValue":D=>i.status=D,"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:h,label:h,class:"text-uppercase",disable:$(h)},null,8,["modelValue","onUpdate:modelValue","val","label","disable"]))),256))])]))),128))]),_:1}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",Un,[se(c).hasRole(["SuperAdmin","Admin","HR"])?(f(),X(H,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:n[1]||(n[1]=i=>I())})):ae("",!0),se(c).hasRole(["SuperAdmin","Admin","HR"])?(f(),X(H,{key:1,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"add",onClick:v,outline:""})):ae("",!0),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:n[2]||(n[2]=()=>{b("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:d.value},{default:l(()=>[e(ee,{class:"no-shadow radius-md q-pa-md"},{default:l(()=>[e(Y,{class:"text-center"},{default:l(()=>[t("div",null,[e(qe,{color:"dark"})]),n[6]||(n[6]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[6]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}};/*!
 * Signature Pad v5.1.3 | https://github.com/szimek/signature_pad
 * (c) 2025 Szymon Nowak | Released under the MIT license
 */var We=class{x;y;pressure;time;constructor(G,s,c,y){if(isNaN(G)||isNaN(s))throw new Error(`Point is invalid: (${G}, ${s})`);this.x=+G,this.y=+s,this.pressure=c||0,this.time=y||Date.now()}distanceTo(G){return Math.sqrt(Math.pow(this.x-G.x,2)+Math.pow(this.y-G.y,2))}equals(G){return this.x===G.x&&this.y===G.y&&this.pressure===G.pressure&&this.time===G.time}velocityFrom(G){return this.time!==G.time?this.distanceTo(G)/(this.time-G.time):0}},zn=class ct{constructor(s,c,y,m,b,k){this.startPoint=s,this.control2=c,this.control1=y,this.endPoint=m,this.startWidth=b,this.endWidth=k}static fromPoints(s,c){const y=this.calculateControlPoints(s[0],s[1],s[2]).c2,m=this.calculateControlPoints(s[1],s[2],s[3]).c1;return new ct(s[1],y,m,s[2],c.start,c.end)}static calculateControlPoints(s,c,y){const m=s.x-c.x,b=s.y-c.y,k=c.x-y.x,g=c.y-y.y,d={x:(s.x+c.x)/2,y:(s.y+c.y)/2},q={x:(c.x+y.x)/2,y:(c.y+y.y)/2},A=Math.sqrt(m*m+b*b),N=Math.sqrt(k*k+g*g),w=d.x-q.x,a=d.y-q.y,P=A+N==0?0:N/(A+N),E={x:q.x+w*P,y:q.y+a*P},L=c.x-E.x,U=c.y-E.y;return{c1:new We(d.x+L,d.y+U),c2:new We(q.x+L,q.y+U)}}length(){let c=0,y,m;for(let b=0;b<=10;b+=1){const k=b/10,g=this.point(k,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),d=this.point(k,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(b>0){const q=g-y,A=d-m;c+=Math.sqrt(q*q+A*A)}y=g,m=d}return c}point(s,c,y,m,b){return c*(1-s)*(1-s)*(1-s)+3*y*(1-s)*(1-s)*s+3*m*(1-s)*s*s+b*s*s*s}},Nn=class{_et;constructor(){try{this._et=new EventTarget}catch{this._et=document}}addEventListener(G,s,c){this._et.addEventListener(G,s,c)}dispatchEvent(G){return this._et.dispatchEvent(G)}removeEventListener(G,s,c){this._et.removeEventListener(G,s,c)}};function Cn(G,s=250){let c=0,y=null,m,b,k;const g=()=>{c=Date.now(),y=null,m=G.apply(b,k),y||(b=null,k=[])};return function(...q){const A=Date.now(),N=s-(A-c);return b=this,k=q,N<=0||N>s?(y&&(clearTimeout(y),y=null),c=A,m=G.apply(b,k),y||(b=null,k=[])):y||(y=window.setTimeout(g,N)),m}}var An=class tt extends Nn{constructor(s,c={}){super(),this.canvas=s,this.velocityFilterWeight=c.velocityFilterWeight||.7,this.minWidth=c.minWidth||.5,this.maxWidth=c.maxWidth||2.5,this.throttle=c.throttle??16,this.minDistance=c.minDistance??5,this.dotSize=c.dotSize||0,this.penColor=c.penColor||"black",this.backgroundColor=c.backgroundColor||"rgba(0,0,0,0)",this.compositeOperation=c.compositeOperation||"source-over",this.canvasContextOptions=c.canvasContextOptions??{},this._strokeMoveUpdate=this.throttle?Cn(tt.prototype._strokeUpdate,this.throttle):tt.prototype._strokeUpdate,this._handleMouseDown=this._handleMouseDown.bind(this),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this._handleTouchStart=this._handleTouchStart.bind(this),this._handleTouchMove=this._handleTouchMove.bind(this),this._handleTouchEnd=this._handleTouchEnd.bind(this),this._handlePointerDown=this._handlePointerDown.bind(this),this._handlePointerMove=this._handlePointerMove.bind(this),this._handlePointerUp=this._handlePointerUp.bind(this),this._handlePointerCancel=this._handlePointerCancel.bind(this),this._handleTouchCancel=this._handleTouchCancel.bind(this),this._ctx=s.getContext("2d",this.canvasContextOptions),this.clear(),this.on()}dotSize;minWidth;maxWidth;penColor;minDistance;velocityFilterWeight;compositeOperation;backgroundColor;throttle;canvasContextOptions;_ctx;_drawingStroke=!1;_isEmpty=!0;_dataUrl;_dataUrlOptions;_lastPoints=[];_data=[];_lastVelocity=0;_lastWidth=0;_strokeMoveUpdate;_strokePointerId;clear(){const{_ctx:s,canvas:c}=this;s.fillStyle=this.backgroundColor,s.clearRect(0,0,c.width,c.height),s.fillRect(0,0,c.width,c.height),this._data=[],this._reset(this._getPointGroupOptions()),this._isEmpty=!0,this._dataUrl=void 0,this._dataUrlOptions=void 0,this._strokePointerId=void 0}redraw(){const s=this._data,c=this._dataUrl,y=this._dataUrlOptions;this.clear(),c&&this.fromDataURL(c,y),this.fromData(s,{clear:!1})}fromDataURL(s,c={}){return new Promise((y,m)=>{const b=new Image,k=c.ratio||window.devicePixelRatio||1,g=c.width||this.canvas.width/k,d=c.height||this.canvas.height/k,q=c.xOffset||0,A=c.yOffset||0;this._reset(this._getPointGroupOptions()),b.onload=()=>{this._ctx.drawImage(b,q,A,g,d),y()},b.onerror=N=>{m(N)},b.crossOrigin="anonymous",b.src=s,this._isEmpty=!1,this._dataUrl=s,this._dataUrlOptions={...c}})}toDataURL(s="image/png",c){switch(s){case"image/svg+xml":return typeof c!="object"&&(c=void 0),`data:image/svg+xml;base64,${btoa(this.toSVG(c))}`;default:return typeof c!="number"&&(c=void 0),this.canvas.toDataURL(s,c)}}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",this.canvas.style.userSelect="none",this.canvas.style.webkitUserSelect="none";const s=/Macintosh/.test(navigator.userAgent)&&"ontouchstart"in document;window.PointerEvent&&!s?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.style.userSelect="auto",this.canvas.style.webkitUserSelect="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerDown),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this._removeMoveUpEventListeners()}_getListenerFunctions(){const s=window.document===this.canvas.ownerDocument?window:this.canvas.ownerDocument.defaultView??this.canvas.ownerDocument;return{addEventListener:s.addEventListener.bind(s),removeEventListener:s.removeEventListener.bind(s)}}_removeMoveUpEventListeners(){const{removeEventListener:s}=this._getListenerFunctions();s("pointermove",this._handlePointerMove),s("pointerup",this._handlePointerUp),s("pointercancel",this._handlePointerCancel),s("mousemove",this._handleMouseMove),s("mouseup",this._handleMouseUp),s("touchmove",this._handleTouchMove),s("touchend",this._handleTouchEnd),s("touchcancel",this._handleTouchCancel)}isEmpty(){return this._isEmpty}fromData(s,{clear:c=!0}={}){c&&this.clear(),this._fromData(s,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=this._data.concat(s)}toData(){return this._data}_isLeftButtonPressed(s,c){return c?s.buttons===1:(s.buttons&1)===1}_pointerEventToSignatureEvent(s){return{event:s,type:s.type,x:s.clientX,y:s.clientY,pressure:"pressure"in s?s.pressure:0}}_touchEventToSignatureEvent(s){const c=s.changedTouches[0];return{event:s,type:s.type,x:c.clientX,y:c.clientY,pressure:c.force}}_handleMouseDown(s){!this._isLeftButtonPressed(s,!0)||this._drawingStroke||this._strokeBegin(this._pointerEventToSignatureEvent(s))}_handleMouseMove(s){if(!this._isLeftButtonPressed(s,!0)||!this._drawingStroke){this._strokeEnd(this._pointerEventToSignatureEvent(s),!1);return}this._strokeMoveUpdate(this._pointerEventToSignatureEvent(s))}_handleMouseUp(s){this._isLeftButtonPressed(s)||this._strokeEnd(this._pointerEventToSignatureEvent(s))}_handleTouchStart(s){s.targetTouches.length!==1||this._drawingStroke||(s.cancelable&&s.preventDefault(),this._strokeBegin(this._touchEventToSignatureEvent(s)))}_handleTouchMove(s){if(s.targetTouches.length===1){if(s.cancelable&&s.preventDefault(),!this._drawingStroke){this._strokeEnd(this._touchEventToSignatureEvent(s),!1);return}this._strokeMoveUpdate(this._touchEventToSignatureEvent(s))}}_handleTouchEnd(s){s.targetTouches.length===0&&(s.cancelable&&s.preventDefault(),this._strokeEnd(this._touchEventToSignatureEvent(s)))}_handlePointerCancel(s){this._allowPointerId(s)&&(s.preventDefault(),this._strokeEnd(this._pointerEventToSignatureEvent(s),!1))}_handleTouchCancel(s){s.cancelable&&s.preventDefault(),this._strokeEnd(this._touchEventToSignatureEvent(s),!1)}_getPointerId(s){return s.persistentDeviceId||s.pointerId}_allowPointerId(s,c=!1){return typeof this._strokePointerId>"u"?c:this._getPointerId(s)===this._strokePointerId}_handlePointerDown(s){this._drawingStroke||!this._isLeftButtonPressed(s)||!this._allowPointerId(s,!0)||(this._strokePointerId=this._getPointerId(s),s.preventDefault(),this._strokeBegin(this._pointerEventToSignatureEvent(s)))}_handlePointerMove(s){if(this._allowPointerId(s)){if(!this._isLeftButtonPressed(s,!0)||!this._drawingStroke){this._strokeEnd(this._pointerEventToSignatureEvent(s),!1);return}s.preventDefault(),this._strokeMoveUpdate(this._pointerEventToSignatureEvent(s))}}_handlePointerUp(s){this._isLeftButtonPressed(s)||!this._allowPointerId(s)||(s.preventDefault(),this._strokeEnd(this._pointerEventToSignatureEvent(s)))}_getPointGroupOptions(s){return{penColor:s&&"penColor"in s?s.penColor:this.penColor,dotSize:s&&"dotSize"in s?s.dotSize:this.dotSize,minWidth:s&&"minWidth"in s?s.minWidth:this.minWidth,maxWidth:s&&"maxWidth"in s?s.maxWidth:this.maxWidth,velocityFilterWeight:s&&"velocityFilterWeight"in s?s.velocityFilterWeight:this.velocityFilterWeight,compositeOperation:s&&"compositeOperation"in s?s.compositeOperation:this.compositeOperation}}_strokeBegin(s){if(!this.dispatchEvent(new CustomEvent("beginStroke",{detail:s,cancelable:!0})))return;const{addEventListener:y}=this._getListenerFunctions();switch(s.event.type){case"mousedown":y("mousemove",this._handleMouseMove,{passive:!1}),y("mouseup",this._handleMouseUp,{passive:!1});break;case"touchstart":y("touchmove",this._handleTouchMove,{passive:!1}),y("touchend",this._handleTouchEnd,{passive:!1}),y("touchcancel",this._handleTouchCancel,{passive:!1});break;case"pointerdown":y("pointermove",this._handlePointerMove,{passive:!1}),y("pointerup",this._handlePointerUp,{passive:!1}),y("pointercancel",this._handlePointerCancel,{passive:!1});break}this._drawingStroke=!0;const m=this._getPointGroupOptions(),b={...m,points:[]};this._data.push(b),this._reset(m),this._strokeUpdate(s)}_strokeUpdate(s){if(!this._drawingStroke)return;if(this._data.length===0){this._strokeBegin(s);return}this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:s}));const c=this._createPoint(s.x,s.y,s.pressure),y=this._data[this._data.length-1],m=y.points,b=m.length>0&&m[m.length-1],k=b?c.distanceTo(b)<=this.minDistance:!1,g=this._getPointGroupOptions(y);if(!b||!(b&&k)){const d=this._addPoint(c,g);b?d&&this._drawCurve(d,g):this._drawDot(c,g),m.push({time:c.time,x:c.x,y:c.y,pressure:c.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:s}))}_strokeEnd(s,c=!0){this._removeMoveUpEventListeners(),this._drawingStroke&&(c&&this._strokeUpdate(s),this._drawingStroke=!1,this._strokePointerId=void 0,this.dispatchEvent(new CustomEvent("endStroke",{detail:s})))}_handlePointerEvents(){this._drawingStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerDown,{passive:!1})}_handleMouseEvents(){this._drawingStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown,{passive:!1})}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart,{passive:!1})}_reset(s){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(s.minWidth+s.maxWidth)/2,this._ctx.fillStyle=s.penColor,this._ctx.globalCompositeOperation=s.compositeOperation}_createPoint(s,c,y){const m=this.canvas.getBoundingClientRect();return new We(s-m.left,c-m.top,y,new Date().getTime())}_addPoint(s,c){const{_lastPoints:y}=this;if(y.push(s),y.length>2){y.length===3&&y.unshift(y[0]);const m=this._calculateCurveWidths(y[1],y[2],c),b=zn.fromPoints(y,m);return y.shift(),b}return null}_calculateCurveWidths(s,c,y){const m=y.velocityFilterWeight*c.velocityFrom(s)+(1-y.velocityFilterWeight)*this._lastVelocity,b=this._strokeWidth(m,y),k={end:b,start:this._lastWidth};return this._lastVelocity=m,this._lastWidth=b,k}_strokeWidth(s,c){return Math.max(c.maxWidth/(s+1),c.minWidth)}_drawCurveSegment(s,c,y){const m=this._ctx;m.moveTo(s,c),m.arc(s,c,y,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(s,c){const y=this._ctx,m=s.endWidth-s.startWidth,b=Math.ceil(s.length())*2;y.beginPath(),y.fillStyle=c.penColor;for(let k=0;k<b;k+=1){const g=k/b,d=g*g,q=d*g,A=1-g,N=A*A,w=N*A;let a=w*s.startPoint.x;a+=3*N*g*s.control1.x,a+=3*A*d*s.control2.x,a+=q*s.endPoint.x;let P=w*s.startPoint.y;P+=3*N*g*s.control1.y,P+=3*A*d*s.control2.y,P+=q*s.endPoint.y;const E=Math.min(s.startWidth+q*m,c.maxWidth);this._drawCurveSegment(a,P,E)}y.closePath(),y.fill()}_drawDot(s,c){const y=this._ctx,m=c.dotSize>0?c.dotSize:(c.minWidth+c.maxWidth)/2;y.beginPath(),this._drawCurveSegment(s.x,s.y,m),y.closePath(),y.fillStyle=c.penColor,y.fill()}_fromData(s,c,y){for(const m of s){const{points:b}=m,k=this._getPointGroupOptions(m);if(b.length>1)for(let g=0;g<b.length;g+=1){const d=b[g],q=new We(d.x,d.y,d.pressure,d.time);g===0&&this._reset(k);const A=this._addPoint(q,k);A&&c(A,k)}else this._reset(k),y(b[0],k)}}toSVG({includeBackgroundColor:s=!1,includeDataUrl:c=!1}={}){const y=this._data,m=Math.max(window.devicePixelRatio||1,1),b=0,k=0,g=this.canvas.width/m,d=this.canvas.height/m,q=document.createElementNS("http://www.w3.org/2000/svg","svg");if(q.setAttribute("xmlns","http://www.w3.org/2000/svg"),q.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),q.setAttribute("viewBox",`${b} ${k} ${g} ${d}`),q.setAttribute("width",g.toString()),q.setAttribute("height",d.toString()),s&&this.backgroundColor){const A=document.createElement("rect");A.setAttribute("width","100%"),A.setAttribute("height","100%"),A.setAttribute("fill",this.backgroundColor),q.appendChild(A)}if(c&&this._dataUrl){const A=this._dataUrlOptions?.ratio||window.devicePixelRatio||1,N=this._dataUrlOptions?.width||this.canvas.width/A,w=this._dataUrlOptions?.height||this.canvas.height/A,a=this._dataUrlOptions?.xOffset||0,P=this._dataUrlOptions?.yOffset||0,E=document.createElement("image");E.setAttribute("x",a.toString()),E.setAttribute("y",P.toString()),E.setAttribute("width",N.toString()),E.setAttribute("height",w.toString()),E.setAttribute("preserveAspectRatio","none"),E.setAttribute("href",this._dataUrl),q.appendChild(E)}return this._fromData(y,(A,{penColor:N})=>{const w=document.createElement("path");if(!isNaN(A.control1.x)&&!isNaN(A.control1.y)&&!isNaN(A.control2.x)&&!isNaN(A.control2.y)){const a=`M ${A.startPoint.x.toFixed(3)},${A.startPoint.y.toFixed(3)} C ${A.control1.x.toFixed(3)},${A.control1.y.toFixed(3)} ${A.control2.x.toFixed(3)},${A.control2.y.toFixed(3)} ${A.endPoint.x.toFixed(3)},${A.endPoint.y.toFixed(3)}`;w.setAttribute("d",a),w.setAttribute("stroke-width",(A.endWidth*2.25).toFixed(3)),w.setAttribute("stroke",N),w.setAttribute("fill","none"),w.setAttribute("stroke-linecap","round"),q.appendChild(w)}},(A,{penColor:N,dotSize:w,minWidth:a,maxWidth:P})=>{const E=document.createElement("circle"),L=w>0?w:(a+P)/2;E.setAttribute("r",L.toString()),E.setAttribute("cx",A.x.toString()),E.setAttribute("cy",A.y.toString()),E.setAttribute("fill",N),q.appendChild(E)}),q.outerHTML}};const In={class:"row q-col-gutter-md"},Mn={class:"col-3"},Tn={class:"q-mb-lg"},Rn={key:0,class:"text-body1 text-capitalize text-grey"},Fn=["src"],Yn={key:2,class:"text-body1 text-capitalize text-grey"},Ln={class:"col"},On={class:"q-gutter-sm"},Bn={__name:"SignatureDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue","saved"],setup(G,{emit:s}){const c=De(),y=ge(),m=G,b=s,k=ue({get:()=>m.modelValue===m.dialogName,set:i=>{i||b("update:modelValue",null)}}),g=r(!1),d=r(null),q=async i=>{g.value=!0;try{const p=await oe.get("/employee/signature",{params:{id:i}});d.value=p.data.record.signature}catch(p){console.error("Error fetching all data:",p),K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{g.value=!1}},A=()=>{q(y.data?.id)},N=r(""),w=()=>{N.value=""},a=we({file:{type:null,msg:""}}),P=()=>{let i=!1;return(!v||v.isEmpty())&&(a.file.type=!0,a.file.msg="required",i=!0),i&&K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                <div class="text-caption">Something went wrong.</div>
            `}),!i},E=async()=>{if(!P())return;const i=v.toDataURL("image/png"),p=n(i);g.value=!0;try{const h=new FormData;h.append("file",p);const S=await oe.post(`/employee/${y.data?.id}/signature`,h,{headers:{"Content-Type":"multipart/form-data"}});b("saved"),b("update:modelValue",null),K.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${S.data.message}<div>
            `})}catch(h){h.response&&h.response.data&&(L(h.response.data),K.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{g.value=!1}},L=i=>{const p=Array.isArray(i)?i:i?.errors||[];Object.keys(a).forEach(h=>{a[h].type=null,a[h].messages=[]}),p.forEach(h=>{a[h.path]!==void 0&&(a[h.path].type=!0,a[h.path].messages.push(h.msg))})},U=r(null),R=r(null);let v=null;const j=async()=>{await ze(),F(),$(),window.addEventListener("resize",$)},I=()=>{window.removeEventListener("resize",$),v?.off?.(),v=null},F=()=>{const i=R.value;i&&(v=new An(i,{backgroundColor:"rgba(255,255,255,0)",penColor:"#000",maxWidth:4}))},$=()=>{const i=R.value,p=U.value;if(!i||!p)return;const h=Math.max(window.devicePixelRatio||1,1),{width:S,height:D}=p.getBoundingClientRect();i.width=Math.floor(S*h),i.height=Math.floor(D*h),i.style.width=`${S}px`,i.style.height=`${D}px`,i.getContext("2d").setTransform(h,0,0,h,0,0),v?.clear()},o=()=>{v?.clear()},n=(i,p="signature.png")=>{const h=i.split(","),S=h[0].match(/:(.*?);/)[1],D=atob(h[1]);let _=D.length;const C=new Uint8Array(_);for(;_--;)C[_]=D.charCodeAt(_);return new File([C],p,{type:S})};return(i,p)=>(f(),X(ve,{modelValue:k.value,"onUpdate:modelValue":p[3]||(p[3]=h=>k.value=h),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:p[4]||(p[4]=()=>{A(),w()}),onShow:j,onHide:I},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(Y,{class:"q-pa-lg"},{default:l(()=>p[5]||(p[5]=[t("div",{class:"text-h6 text-uppercase"},"signature information",-1)])),_:1,__:[5]}),e(xe,{inset:""}),e(Y,{class:"col q-pa-lg scroll"},{default:l(()=>[t("div",In,[t("div",Mn,[t("div",Tn,[d.value?(f(),O("div",Rn,"current signature")):ae("",!0),d.value?(f(),O("img",{key:1,src:d.value,width:"200"},null,8,Fn)):(f(),O("div",Yn,"no signature found"))])]),t("div",Ln,[t("div",{class:T(["text-caption text-uppercase q-mb-xs",a.file.type?"text-negative":"text-grey"])},V(a.file.type?a.file.msg:"please sign here to continue"),3),t("div",{ref_key:"containerRef",ref:U,class:"signature-container"},[t("canvas",{ref_key:"canvasRef",ref:R,class:"signature-canvas"},null,512)],512)])])]),_:1}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",On,[se(c).hasRole(["SuperAdmin","Admin","HR"])?(f(),X(H,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:p[0]||(p[0]=()=>{E()})})):ae("",!0),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"clear",onClick:p[1]||(p[1]=()=>{o()}),outline:""}),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:p[2]||(p[2]=()=>{b("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:g.value},{default:l(()=>[e(ee,{class:"no-shadow radius-md q-pa-md"},{default:l(()=>[e(Y,{class:"text-center"},{default:l(()=>[t("div",null,[e(qe,{color:"dark"})]),p[6]||(p[6]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[6]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},jn=Ne(Bn,[["__scopeId","data-v-98bfb3f0"]]),Hn={class:"text-uppercase text-body1 text-bold"},Wn={class:"row q-col-gutter-xs q-mb-sm"},Gn={class:"col-2"},Qn={class:"row q-col-gutter-xs q-mb-sm"},Xn={class:"col-2"},Jn={class:"col-2"},Zn={class:"q-gutter-sm"},Kn={class:"text-center"},er={__name:"ShiftDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(G,{emit:s}){const c=De(),y=ge(),m=G,b=s,k=ue({get:()=>m.modelValue===m.dialogName,set:S=>{S||b("update:modelValue",null)}}),g=r(!1),d=r([{id:"",shiftId:"",effectiveFrom:"",effectiveTo:"",notes:""}]),q=()=>({id:"",shiftId:"",effectiveFrom:"",effectiveTo:"",notes:""}),A=async S=>{g.value=!0;try{const D=await oe.get("/employee/schedule",{params:{id:S}});D.data.record.length?N(D.data.record):q()}catch(D){console.error("Error fetching all data:",D),K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{g.value=!1}},N=(S=[])=>{d.value=S.map(D=>({id:D.id??"",shiftId:Number(D.shift_id)??"",effectiveFrom:D.effective_from??"",effectiveTo:D.effective_to??"",notes:D.notes??""}))},w=()=>{j(),A(y.data?.id)},a=we({schedules:{shiftId:{type:[],msg:""},effectiveFrom:{type:[],msg:""},effectiveTo:{type:[],msg:""}}}),P=()=>{a.schedules.shiftId.type=d.value.map(()=>null),a.schedules.effectiveFrom.type=d.value.map(()=>null),a.schedules.effectiveTo.type=d.value.map(()=>null)},E=()=>{let S=!1;return a.schedules.shiftId={type:null,msg:""},a.schedules.effectiveFrom={type:null,msg:""},a.schedules.effectiveTo={type:null,msg:""},P(),d.value.forEach((D,_)=>{D.shiftId||(a.schedules.shiftId.type[_]=!0,a.schedules.shiftId.msg="required",S=!0),D.effectiveFrom?isNaN(new Date(D.effectiveFrom).getTime())&&(a.schedules.effectiveFrom.type[_]=!0,a.schedules.effectiveFrom.msg="invalid",S=!0):(a.schedules.effectiveFrom.type[_]=!0,a.schedules.effectiveFrom.msg="required",S=!0),D.effectiveTo&&isNaN(new Date(D.effectiveTo).getTime())&&(a.educations.effectiveTo.type[_]=!0,a.educations.effectiveTo.msg="invalid",S=!0)}),S&&K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                <div class="text-caption">Something went wrong.</div>
            `}),!S},L=r([]),U=r([]),v=((S,D)=>(_,C)=>{if(_===""){C(()=>{D.value=S.value});return}C(()=>{const u=_.toLowerCase();D.value=S.value.filter(ne=>ne.label.toLowerCase().includes(u))})})(L,U),j=async()=>{try{const{data:S}=await oe.get("/employee/option/shift");L.value=(S||[]).map(D=>({label:D.label??D.name??String(D.text??D.value??""),value:Number(D.value??D.id)})),U.value=[...L.value]}catch(S){console.error("Error fetching options:",S)}},I=()=>{d.value.push({id:"",shiftId:"",effectiveFrom:"",effectiveTo:"",notes:""})},F=S=>{d.value.splice(S,1)},$=async()=>{if(E()){g.value=!0;try{const S=await oe.post(`/employee/${y.data?.id}/schedule`,{schedules:d.value});b("update:modelValue",null),K.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${S.data.message}<div>
            `})}catch(S){S.response&&S.response.data&&(o(S.response.data),K.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{g.value=!1}}},o=S=>{const D=Array.isArray(S)?S:S?.errors||[];Object.keys(a).forEach(_=>{a[_].type=null,a[_].messages=[]}),D.forEach(_=>{a[_.path]!==void 0&&(a[_.path].type=!0,a[_.path].messages.push(_.msg))})},n=r([]),i=r([]);function p(S){ze(()=>{n.value[S]&&n.value[S].hide()})}function h(S){ze(()=>{i.value[S]&&i.value[S].hide()})}return(S,D)=>(f(),X(ve,{modelValue:k.value,"onUpdate:modelValue":D[3]||(D[3]=_=>k.value=_),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:D[4]||(D[4]=_=>w())},{default:l(()=>[e(ee,{class:"dialog-card column full-height"},{default:l(()=>[e(Y,{class:"q-pa-lg"},{default:l(()=>D[5]||(D[5]=[t("div",{class:"text-h6 text-uppercase"},"shift information",-1)])),_:1,__:[5]}),e(xe,{inset:""}),e(Y,{class:"col q-pa-lg scroll"},{default:l(()=>[(f(!0),O(re,null,ce(d.value,(_,C)=>(f(),O("div",{key:C,class:"q-mb-md"},[t("div",null,[t("span",Hn,"shift "+V(C+1),1),d.value.length>1&&se(c).hasRole(["SuperAdmin","Admin","HR"])?(f(),X(H,{key:0,round:"",icon:"bi-trash3",flat:"",unelevated:"",color:"grey",onClick:u=>F(C),size:"sm",class:"q-ml-sm"},null,8,["onClick"])):ae("",!0)]),t("div",Wn,[t("div",Gn,[t("div",{class:T(["text-caption text-uppercase q-mb-xs",a.schedules.shiftId.msg?"text-negative":"text-grey"])},V(a.schedules.shiftId.msg?a.schedules.shiftId.msg:"shift"),3),e(Ue,{outlined:"",modelValue:_.shiftId,"onUpdate:modelValue":u=>_.shiftId=u,label:"Choose Shift","emit-value":"","map-options":"","use-input":"","input-debounce":"300",options:U.value,onFilter:se(v),error:a.schedules.shiftId.type[C],"hide-dropdown-icon":"","no-error-icon":!0,class:"text-capitalize"},{"no-option":l(()=>[e(fe,null,{default:l(()=>[e(he,{class:"text-italic text-grey"},{default:l(()=>D[6]||(D[6]=[me(" No options ")])),_:1,__:[6]})]),_:1})]),option:l(u=>[e(fe,Te({ref_for:!0},u.itemProps),{default:l(()=>[e(he,null,{default:l(()=>[e(Ee,null,{default:l(()=>[me(V(S.$CapitalizeWords(u.opt.label)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:2},1032,["modelValue","onUpdate:modelValue","options","onFilter","error"])])]),t("div",Qn,[t("div",Xn,[t("div",{class:T(["text-caption text-uppercase q-mb-xs",a.schedules.effectiveFrom.msg?"text-negative":"text-grey"])},V(a.schedules.effectiveFrom.msg?a.schedules.effectiveFrom.msg:"start date (YYYY-MM-DD)"),3),e(B,{outlined:"",modelValue:_.effectiveFrom,"onUpdate:modelValue":u=>_.effectiveFrom=u,label:"Enter Date"},{default:l(()=>[e(Ve,{cover:"","transition-show":"scale","transition-hide":"scale",class:"no-shadow custom-border radius-sm",ref_for:!0,ref:u=>n.value[C]=u},{default:l(()=>[e(be,{modelValue:_.effectiveFrom,"onUpdate:modelValue":[u=>_.effectiveFrom=u,()=>p(C)],mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),t("div",Jn,[t("div",{class:T(["text-caption text-uppercase q-mb-xs",a.schedules.effectiveTo.msg?"text-negative":"text-grey"])},V(a.schedules.effectiveTo.msg?a.schedules.effectiveTo.msg:"end date (YYYY-MM-DD)"),3),e(B,{outlined:"",modelValue:_.effectiveTo,"onUpdate:modelValue":u=>_.effectiveTo=u,label:"Enter Date"},{default:l(()=>[e(Ve,{cover:"","transition-show":"scale","transition-hide":"scale",class:"no-shadow custom-border radius-sm",ref_for:!0,ref:u=>i.value[C]=u},{default:l(()=>[e(be,{modelValue:_.effectiveTo,"onUpdate:modelValue":[u=>_.effectiveTo=u,()=>h(C)],mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1032,["modelValue","onUpdate:modelValue"])])])]))),128))]),_:1}),e(ye,{class:"q-pa-lg bg"},{default:l(()=>[t("div",Zn,[se(c).hasRole(["SuperAdmin","Admin","HR"])?(f(),X(H,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:D[0]||(D[0]=()=>{$()})})):ae("",!0),se(c).hasRole(["SuperAdmin","Admin","HR"])?(f(),X(H,{key:1,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"add",onClick:D[1]||(D[1]=()=>{I()}),outline:""})):ae("",!0),e(H,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:D[2]||(D[2]=()=>{b("update:modelValue",null)}),outline:""})])]),_:1}),e(_e,{showing:g.value},{default:l(()=>[t("div",Kn,[e(ke,{size:"md"}),D[7]||(D[7]=t("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))])]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},tr={class:"profile-component"},ar={class:"row q-col-gutter-md"},lr={class:"col-3"},sr={class:"cover-photo"},or=["src"],ir=["src"],nr={class:"text-caption text-uppercase text-white"},rr={class:"text-h5 text-uppercase text-bold text-white"},dr={class:"text-body1 text-uppercase text-white"},ur={class:"text-caption text-uppercase text-white"},cr={class:"text-body1 text-bold text-white"},pr={class:"text-body1 text-bold text-white"},mr={class:"text-body1 text-capitalize text-bold text-white"},vr={class:"absolute-top-left q-ma-sm"},gr={class:"col-9"},fr={class:"card-grid"},hr={class:"text-body2 text-grey text-uppercase"},xr={id:"glass-overlay"},yr=25,_r={__name:"ProfileComponent",setup(G){const s=ge(),c=[{label:"profile",dialog:"ProfileDialog"},{label:"employment",dialog:"EmploymentDialog"},{label:"salary",dialog:"SalaryDialog"},{label:"service recrod",dialog:"ServiceDialog"},{label:"photo",dialog:"PhotoDialog"},{label:"signature",dialog:"SignatureDialog"},{label:"face recognition",dialog:"BiometricDialog"},{label:"account",dialog:"AccountDialog"},{label:"shift",dialog:"ShiftDialog"},{label:"id",dialog:"IdentificationDialog"},{label:"dtr",dialog:"AttendanceDialog"},{label:"leaves",dialog:"LeaveDialog"},{label:"overtime",dialog:"OvertimeDialog"},{label:"education",dialog:"EducationDialog"},{label:"trainings",dialog:"TrainingDialog"},{label:"experiences",dialog:"ExperienceDialog"},{label:"dependents",dialog:"DependentDialog"},{label:"documents",dialog:"DocumentDialog"},{label:"performance",dialog:"PerformanceDialog"},{label:"incidents",dialog:"IncidentDialog"},{label:"payslip",dialog:"PayslipDialog"}],y=N=>{if(!N)return"";const w=N.first_name||"",a=N.middle_name?N.middle_name.charAt(0).toUpperCase()+".":"",P=N.last_name||"",E=N.suffix?` ${N.suffix}`:"";return`${w} ${a} ${P}${E}`.trim()},m=r(null),b=N=>{m.value=N},k=r(!1),g=r([]),d=async()=>{k.value=!0;try{const N=await oe.get(`/employee/${s.data?.id}/information`);g.value=N.data.record}catch(N){console.error("Error fetching all data:",N),K.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{k.value=!1}};et(()=>{d()});const q=r("");et(()=>{const N=Math.floor(Math.random()*yr)+1;q.value=new URL(Object.assign({"../../assets/cover/1.jpg":ca,"../../assets/cover/10.jpg":ua,"../../assets/cover/11.jpg":da,"../../assets/cover/12.jpg":ra,"../../assets/cover/13.jpg":na,"../../assets/cover/14.jpg":ia,"../../assets/cover/15.jpg":oa,"../../assets/cover/16.jpg":sa,"../../assets/cover/17.jpg":la,"../../assets/cover/18.jpg":aa,"../../assets/cover/19.jpg":ta,"../../assets/cover/2.jpg":ea,"../../assets/cover/20.jpg":Kt,"../../assets/cover/21.jpg":Zt,"../../assets/cover/22.jpg":Jt,"../../assets/cover/23.jpg":Xt,"../../assets/cover/24.jpg":Qt,"../../assets/cover/25.jpg":Gt,"../../assets/cover/3.jpg":Wt,"../../assets/cover/4.jpg":Ht,"../../assets/cover/5.jpg":jt,"../../assets/cover/6.jpg":Bt,"../../assets/cover/7.jpg":Ot,"../../assets/cover/8.jpg":Lt,"../../assets/cover/9.jpg":Yt})[`../../assets/cover/${N}.jpg`],import.meta.url).href});const A=r(!0);return nt(()=>{setTimeout(()=>{A.value=!1},1e3)}),(N,w)=>(f(),O("div",tr,[t("div",ar,[t("div",lr,[e(ee,{key:"data-add",class:"card card-profile no-shadow radius-sm q-mb-sm q-pb-lg"},{default:l(()=>[t("div",sr,[t("img",{src:q.value,alt:"Cover"},null,8,or)]),e(Y,{class:"text-center profile-section"},{default:l(()=>[t("img",{src:g.value?.photo?.avatar,alt:"Profile",class:"profile-img"},null,8,ir)]),_:1}),e(Y,{class:"text-center q-pt-sm"},{default:l(()=>[t("div",nr,V(g.value?.employment?.employee_no),1),t("div",rr,V(y(g.value)),1),t("div",dr,V(g.value?.employment?.position?.name),1),t("div",ur,V(g.value?.employment?.employment_status),1)]),_:1}),e(Y,{class:"text-center"},{default:l(()=>[w[22]||(w[22]=t("div",{class:"text-caption text-uppercase text-white"},"email address",-1)),t("div",cr,V(g.value?.email),1)]),_:1,__:[22]}),e(Y,{class:"text-center"},{default:l(()=>[w[23]||(w[23]=t("div",{class:"text-caption text-uppercase text-white"},"contact number",-1)),t("div",pr,V(g.value?.contact_number),1)]),_:1,__:[23]}),e(Y,{class:"text-center"},{default:l(()=>[w[24]||(w[24]=t("div",{class:"text-caption text-uppercase text-white"},"adderss",-1)),t("div",mr,V(g.value?.address),1)]),_:1,__:[24]}),e(Y,{class:"text-center"},{default:l(()=>[e(H,{unelevated:"",size:"sm",label:"print employee data","text-color":"primary",color:"white"})]),_:1}),t("div",vr,[e(H,{round:"",size:"sm",icon:"bi-arrow-left","text-color":"primary",color:"white",onClick:w[0]||(w[0]=()=>{se(s).component="EmployeeComponent"})})])]),_:1})]),t("div",gr,[t("div",fr,[(f(),O(re,null,ce(c,(a,P)=>t("div",{key:`data-${a.id}`,class:"inner-card-anim-wrapper",style:Ce({animationDelay:`${P*100}ms`})},[e(ee,{onClick:E=>b(a.dialog),class:"card card-menu card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:l(()=>[e(Y,{class:"text-center"},{default:l(()=>[t("div",hr,V(a.label),1)]),_:2},1024)]),_:2},1032,["onClick"])],4)),64))])])]),e(as,{modelValue:m.value,"onUpdate:modelValue":w[1]||(w[1]=a=>m.value=a),"dialog-name":"ProfileDialog",onSaved:d},null,8,["modelValue"]),e(vs,{modelValue:m.value,"onUpdate:modelValue":w[2]||(w[2]=a=>m.value=a),"dialog-name":"EmploymentDialog",onSaved:d},null,8,["modelValue"]),e(ks,{modelValue:m.value,"onUpdate:modelValue":w[3]||(w[3]=a=>m.value=a),"dialog-name":"ServiceDialog"},null,8,["modelValue"]),e(Us,{modelValue:m.value,"onUpdate:modelValue":w[4]||(w[4]=a=>m.value=a),"dialog-name":"BiometricDialog"},null,8,["modelValue"]),e(Is,{modelValue:m.value,"onUpdate:modelValue":w[5]||(w[5]=a=>m.value=a),"dialog-name":"PhotoDialog",onSaved:d},null,8,["modelValue"]),e(Ws,{modelValue:m.value,"onUpdate:modelValue":w[6]||(w[6]=a=>m.value=a),"dialog-name":"EducationDialog"},null,8,["modelValue"]),e(so,{modelValue:m.value,"onUpdate:modelValue":w[7]||(w[7]=a=>m.value=a),"dialog-name":"TrainingDialog"},null,8,["modelValue"]),e(go,{modelValue:m.value,"onUpdate:modelValue":w[8]||(w[8]=a=>m.value=a),"dialog-name":"ExperienceDialog"},null,8,["modelValue"]),e(Uo,{modelValue:m.value,"onUpdate:modelValue":w[9]||(w[9]=a=>m.value=a),"dialog-name":"DependentDialog"},null,8,["modelValue"]),e(jo,{modelValue:m.value,"onUpdate:modelValue":w[10]||(w[10]=a=>m.value=a),"dialog-name":"DocumentDialog"},null,8,["modelValue"]),e(Qo,{modelValue:m.value,"onUpdate:modelValue":w[11]||(w[11]=a=>m.value=a),"dialog-name":"IdentificationDialog"},null,8,["modelValue"]),e(ci,{modelValue:m.value,"onUpdate:modelValue":w[12]||(w[12]=a=>m.value=a),"dialog-name":"AttendanceDialog"},null,8,["modelValue"]),e(Fi,{modelValue:m.value,"onUpdate:modelValue":w[13]||(w[13]=a=>m.value=a),"dialog-name":"LeaveDialog"},null,8,["modelValue"]),e(Oi,{modelValue:m.value,"onUpdate:modelValue":w[14]||(w[14]=a=>m.value=a),"dialog-name":"PerformanceDialog"},null,8,["modelValue"]),e(Hi,{modelValue:m.value,"onUpdate:modelValue":w[15]||(w[15]=a=>m.value=a),"dialog-name":"IncidentDialog"},null,8,["modelValue"]),e(Qi,{modelValue:m.value,"onUpdate:modelValue":w[16]||(w[16]=a=>m.value=a),"dialog-name":"PayslipDialog"},null,8,["modelValue"]),e(Zi,{modelValue:m.value,"onUpdate:modelValue":w[17]||(w[17]=a=>m.value=a),"dialog-name":"OvertimeDialog"},null,8,["modelValue"]),e(wn,{modelValue:m.value,"onUpdate:modelValue":w[18]||(w[18]=a=>m.value=a),"dialog-name":"SalaryDialog"},null,8,["modelValue"]),e(Pn,{modelValue:m.value,"onUpdate:modelValue":w[19]||(w[19]=a=>m.value=a),"dialog-name":"AccountDialog"},null,8,["modelValue"]),e(jn,{modelValue:m.value,"onUpdate:modelValue":w[20]||(w[20]=a=>m.value=a),"dialog-name":"SignatureDialog"},null,8,["modelValue"]),e(er,{modelValue:m.value,"onUpdate:modelValue":w[21]||(w[21]=a=>m.value=a),"dialog-name":"ShiftDialog"},null,8,["modelValue"]),e(at,{name:"glass-fade"},{default:l(()=>[Me(t("div",xr,[e(ee,{class:"no-shadow radius-md q-pa-md"},{default:l(()=>[e(Y,{class:"text-center"},{default:l(()=>[t("div",null,[e(qe,{color:"dark"})]),w[25]||(w[25]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[25]})]),_:1})],512),[[rt,A.value]])]),_:1})]))}},br={__name:"EmployeePage",setup(G){const s=ge(),c={EmployeeComponent:Al,ProfileComponent:_r};return It(()=>{s.component="EmployeeComponent"}),(y,m)=>(f(),O("div",null,[(f(),X(Mt(c[se(s).component]),{key:se(s).component}))]))}},Tr=Ne(br,[["__scopeId","data-v-06bf7d6d"]]);export{Tr as default};
