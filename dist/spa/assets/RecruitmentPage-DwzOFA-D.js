import{ax as Ue,a as ae,r as v,O as vt,V as X,W as c,X as o,Z as a,a4 as F,a6 as S,$ as t,a7 as Oe,ak as Be,a5 as f,Y as q,aa as A,a2 as d,a8 as K,a9 as te,am as fe,ap as he,ag as L,_ as Z,an as Qt,ao as Ht,a1 as se,ar as gt,ai as be,a0 as N,a3 as Se,ac as Ce,aq as oe,S as Le,d as ze,w as xt,T as ft,k as yt,ab as _t,aj as ht,af as Wt,as as je,H as $e,c as bt,b as nt,J as Jt,ay as Gt,az as Xt,aA as Kt,A as Zt,at as ea}from"./index-DwkUvebD.js";import{a as ge,Q as Qe,b as _e}from"./QSpinnerIos-D0LspzUJ.js";import{a as wt,b as Vt}from"./QResizeObserver-C7FSSitd.js";import{Q as ye,a as Dt}from"./QFooter-DdFc9JIy.js";import{T as le}from"./sweetalert-CAHudMyk.js";import{_ as we,h as me,Q as rt}from"./_plugin-vue_export-helper-n2pIy_th.js";import{Q as xe,C as $t}from"./ClosePopup-DSk8RB6H.js";import{Q as ce,a as pe}from"./QItem-DMrJlO52.js";import{Q as ke}from"./QItemLabel-CdPKGmYj.js";import{Q as qe}from"./QSelect-D1mieiHe.js";import{Q as ta}from"./QFile-BbeZHzmZ.js";import"./format-CoaQEihs.js";const aa={key:0},sa={class:"row q-col-gutter-xs"},oa={class:"col-8"},la={class:"card-grid"},ia={class:"inner-card-anim-wrapper",style:{animationDelay:"100ms"}},na={class:"text-caption text-dark text-uppercase"},ra={class:"absolute-left"},da={class:"col-4"},ua={key:0},ca={class:"q-mb-md"},pa={class:"text-caption"},ma={class:"q-mb-md"},va={class:"text-caption"},ga={class:"q-mb-md"},xa={class:"text-caption"},fa={key:1},ya={key:1},_a={class:"q-mb-md"},ha={class:"q-gutter-sm"},ba={class:"row q-col-gutter-xs q-mb-md"},wa={class:"col-2"},Va={class:"col-2"},Da={class:"row q-col-gutter-xs q-mb-md"},$a={class:"col-4"},ka={class:"q-mb-md"},qa={class:"q-mb-md"},Sa={class:"q-gutter-sm"},Ca={class:"row q-col-gutter-xs"},za={class:"col-4"},Ia={class:"row q-gutter-sm"},Aa={class:"text-caption text-uppercase text-grey"},pt=2,Ea={__name:"VacancyDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(C,{emit:B}){Ue();const O=C,z=B,E=ae({get:()=>O.modelValue===O.dialogName,set:_=>{_||z("update:modelValue",null)}}),$=()=>{re(),Ne(),We()},H=v(!1),h=v(""),R=v(""),k=v(new Date().toISOString().split("T")[0]),I=v(""),D=v(""),Y=v(""),j=v(""),Q=v(!1),w=vt({position:{type:null,msg:""},shiftId:{type:null,msg:""},employmentStatus:{type:null,msg:""},date:{type:null,msg:""},location:{type:null,msg:""},movement:{type:null,msg:""},justification:{type:null,msg:""}}),W=()=>le.fire({icon:"error",html:`
        <div class="text-h6 text-bold text-uppercase">Request Failed</div>
        <div class="text-caption">Something went wrong.</div>
        `}),P=(_,m="required")=>(w[_].type=!0,w[_].msg=m,!0),M=_=>(w[_].type=null,w[_].msg="",!1),x=(_,m)=>m?M(_):P(_,"required"),b=(_,m=3)=>{if(!_)return!0;const V=me(_).startOf("day"),ee=me().add(m,"days").startOf("day");return V.isBefore(ee)},T=()=>{let _=!1;return _||=x("position",h.value),_&&W(),!_},J=()=>{let _=!1;return _||=x("employmentStatus",D.value),_||=x("date",k.value),k.value&&b(k.value,3)?_||=P("date","invalid"):k.value&&M("date"),_||=x("shiftId",R.value),_||=x("location",I.value),_||=x("movement",Y.value),_||=x("justification",j.value),_&&W(),!_},s=v([]),re=()=>{h.value="",R.value="",k.value=new Date().toISOString().split("T")[0],I.value="",Y.value="",j.value="",Q.value=!1,D.value="",s.value=[],ie.value=0,p()},p=()=>Object.values(w).forEach(_=>{_.type=null,_.msg=null}),l=async()=>{if(!(J&&!J())){H.value=!0;try{const _=await oe.post("/socket/vacancy/create",{positionId:h.value.id,shiftId:R.value,date:k.value,location:I.value,movement:Y.value,justification:j.value,needBackgroundCheck:Q.value,employmentStatus:D.value});z("saved"),z("update:modelValue",null),le.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${_.data.message}<div>
            `})}catch(_){console.error(_.response?.data?.error),_.response&&_.response.data&&(u(_.response.data),le.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">${_.response?.data?.error}</div>
                `}))}finally{H.value=!1}}},u=_=>{const m=Array.isArray(_)?_:_?.errors||[];Object.keys(w).forEach(V=>{w[V].type=null,w[V].messages=[]}),m.forEach(V=>{w[V.path]!==void 0&&(w[V.path].type=!0,w[V.path].messages.push(V.msg))})},U=v(["Regular","Probationary","Contractual","Temporary","Intern"]),de=v([]),ue=v([]),Ie=v([]),He=((_,m)=>(V,ee)=>{if(V===""){ee(()=>{m.value=_.value});return}ee(()=>{const ne=V.toLowerCase();m.value=_.value.filter(De=>De.label.toLowerCase().includes(ne))})})(ue,Ie),We=async()=>{try{const{data:_}=await oe.get("/recruitment/option/shift");ue.value=(_||[]).map(m=>({label:m.label??m.name??String(m.text??m.value??""),value:Number(m.value??m.id)})),Ie.value=[...ue.value]}catch(_){console.error("Error fetching options:",_)}},Ne=async()=>{try{const _=await oe.get("/recruitment/option/position");de.value=_.data}catch(_){console.error("Error fetching options:",_)}},Ae=v(""),Ye=ae(()=>{const _=Ae.value.trim().toLowerCase();return _?de.value.filter(m=>String(m.label||"").toLowerCase().includes(_)):de.value}),Ve=ae(()=>Ye.value),Je=ae(()=>Ve.value.length),Ee=ae(()=>Ye.value.length),ie=v(0),Ge=[T],Xe=()=>{const _=Ge[ie.value];_&&!_()||ie.value++},Te=()=>{ie.value>0&&ie.value--},Me=_=>{if(!_)return"";const V=String(_).replace(/[^\d.,\- ]/g,"").split("-").map(ve=>ve.trim()).slice(0,2),ee=ve=>{if(!ve)return"";const Re=Number(ve.replace(/,/g,""));return isNaN(Re)?"":Ke.format(Re)},ne=ee(V[0]),De=V[1]?ee(V[1]):"";return De?`${ne} - ${De}`:ne},Ke=new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}),Fe=_=>{const m=_.time_start,V=_.time_end;if(!m&&!V)return"";const ee=m?me(m,"HH:mm:ss").format("h:mm A"):"",ne=V?me(V,"HH:mm:ss").format("h:mm A"):"";return ee&&ne?`${ee} to ${ne}`:ee||ne||""},Pe=v(null);return(_,m)=>(c(),X(Ce,{modelValue:E.value,"onUpdate:modelValue":m[17]||(m[17]=V=>E.value=V),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:m[18]||(m[18]=V=>$())},{default:o(()=>[a(F,{class:"dialog-card column full-height"},{default:o(()=>[a(S,{class:"q-pa-lg"},{default:o(()=>m[19]||(m[19]=[t("div",{class:"text-h6 text-uppercase"},"create recruitment",-1)])),_:1,__:[19]}),a(Oe,{inset:""}),a(S,{class:"col q-pa-lg scroll"},{default:o(()=>[a(Be,{name:"fade-slide",mode:"out-in"},{default:o(()=>[(c(),f("div",{key:ie.value},[ie.value===0?(c(),f("div",aa,[t("div",sa,[t("div",oa,[t("div",{class:A(["text-caption text-uppercase q-mb-sm",w.position.type?"text-negative text-italic":"text-grey"])},d(w.position.type?w.position.msg:"position"),3),t("div",la,[t("div",ia,[Ve.value.length?q("",!0):(c(),X(F,{key:0,class:"card card-menu custom-border card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:o(()=>[a(S,{class:"text-center"},{default:o(()=>m[20]||(m[20]=[t("div",{class:"text-caption text-dark text-uppercase"},"no record found",-1)])),_:1,__:[20]})]),_:1}))]),Ve.value.length?(c(!0),f(K,{key:0},te(Ve.value,(V,ee)=>(c(),f("div",{key:`data-${V.id}`,class:"inner-card-anim-wrapper",style:fe({animationDelay:`${ee*100}ms`})},[a(F,{onClick:()=>{h.value=V},class:A(["card card-menu card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm",{"card--active":h.value===V}])},{default:o(()=>[a(S,{class:"text-center"},{default:o(()=>[t("div",na,d(V.label),1)]),_:2},1024),t("div",ra,[a(he,{modelValue:h.value,"onUpdate:modelValue":m[0]||(m[0]=ne=>h.value=ne),val:V,"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",size:"xs"},null,8,["modelValue","val"])])]),_:2},1032,["onClick","class"])],4))),128)):q("",!0)])]),t("div",da,[h.value?(c(),f("div",ua,[t("div",ca,[m[21]||(m[21]=t("div",{class:"text-caption text-uppercase text-grey"},"salary range",-1)),t("div",pa,d(Me(h.value?.amount)||"N/A"),1)]),t("div",ma,[m[22]||(m[22]=t("div",{class:"text-caption text-uppercase text-grey"},"job description",-1)),t("div",va,d(h.value?.description||"N/A"),1)]),t("div",ga,[m[23]||(m[23]=t("div",{class:"text-caption text-uppercase text-grey"},"job qualification",-1)),t("div",xa,[Array.isArray(h.value?.qualification)&&h.value?.qualification.length?(c(!0),f(K,{key:0},te(h.value?.qualification,(V,ee)=>(c(),f("div",{key:ee},d(ee+1)+". "+d(V),1))),128)):(c(),f("div",fa," N/A "))])])])):q("",!0)])])])):q("",!0),ie.value===1?(c(),f("div",ya,[t("div",_a,[t("div",{class:A(["text-caption text-uppercase",w.employmentStatus.type?"text-negative text-italic":"text-grey"])},d(w.employmentStatus.type?w.employmentStatus.msg:"employment status"),3),t("div",ha,[(c(!0),f(K,null,te(U.value,V=>(c(),X(he,{modelValue:D.value,"onUpdate:modelValue":m[1]||(m[1]=ee=>D.value=ee),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:V,label:V},null,8,["modelValue","val","label"]))),256))])]),t("div",ba,[t("div",wa,[t("div",{class:A(["text-caption text-uppercase",w.date.type?"text-negative text-italic":"text-grey"])},d(w.date.type?w.date.msg:"date needed (YYYY-MM-DD)"),3),a(L,{outlined:"",modelValue:k.value,"onUpdate:modelValue":m[4]||(m[4]=V=>k.value=V),label:"Enter Date",error:w.date.type,"no-error-icon":!0},{default:o(()=>[a(xe,{cover:"","transition-show":"scale","transition-hide":"scale",ref_key:"popup",ref:Pe,class:"no-shadow custom-border radius-sm"},{default:o(()=>[a(ge,{modelValue:k.value,"onUpdate:modelValue":[m[2]||(m[2]=V=>k.value=V),m[3]||(m[3]=()=>{Pe.value.hide()})],mask:"YYYY-MM-DD"},null,8,["modelValue"])]),_:1},512)]),_:1},8,["modelValue","error"])]),t("div",Va,[t("div",{class:A(["text-caption text-uppercase",w.shiftId.type?"text-negative text-italic":"text-grey"])},d(w.shiftId.type?w.shiftId.msg:"Shift"),3),a(qe,{outlined:"",modelValue:R.value,"onUpdate:modelValue":m[5]||(m[5]=V=>R.value=V),label:"Choose Shift","emit-value":"","map-options":"","use-input":"","input-debounce":"300",options:Ie.value,onFilter:Z(He),error:w.shiftId.type,"hide-dropdown-icon":"","no-error-icon":!0,class:"text-capitalize"},{"no-option":o(()=>[a(ce,null,{default:o(()=>[a(pe,{class:"text-italic text-grey"},{default:o(()=>m[24]||(m[24]=[se(" No options ")])),_:1,__:[24]})]),_:1})]),option:o(V=>[a(ce,Qt(Ht(V.itemProps)),{default:o(()=>[a(pe,null,{default:o(()=>[a(ke,null,{default:o(()=>[se(d(_.$CapitalizeWords(V.opt.label)),1)]),_:2},1024),a(ke,{caption:""},{default:o(()=>[se(d(Fe(V.opt)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","onFilter","error"])])]),t("div",Da,[t("div",$a,[t("div",{class:A(["text-caption text-uppercase",w.location.type?"text-negative text-italic":"text-grey"])},d(w.location.type?w.location.msg:"location"),3),a(L,{modelValue:I.value,"onUpdate:modelValue":m[6]||(m[6]=V=>I.value=V),label:"Enter Location",outlined:"",error:w.location.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])])]),t("div",ka,[m[25]||(m[25]=t("div",{class:"text-caption text-uppercase text-grey"},"background check",-1)),a(gt,{"right-label":"",modelValue:Q.value,"onUpdate:modelValue":m[7]||(m[7]=V=>Q.value=V),label:"need background check?","checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",class:"text-uppercase"},null,8,["modelValue"])]),t("div",qa,[t("div",{class:A(["text-caption text-uppercase",w.movement.type?"text-negative text-italic":"text-grey"])},d(w.movement.type?w.movement.msg:"movement"),3),t("div",Sa,[a(he,{modelValue:Y.value,"onUpdate:modelValue":m[8]||(m[8]=V=>Y.value=V),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:"Addition",label:"addition to department",class:"text-uppercase"},null,8,["modelValue"]),a(he,{modelValue:Y.value,"onUpdate:modelValue":m[9]||(m[9]=V=>Y.value=V),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:"Replacement",label:"replacement",class:"text-uppercase"},null,8,["modelValue"])])]),t("div",Ca,[t("div",za,[t("div",{class:A(["text-caption text-uppercase",w.justification.type?"text-negative text-italic":"text-grey"])},d(w.justification.type?w.justification.msg:"justification"),3),a(L,{modelValue:j.value,"onUpdate:modelValue":m[10]||(m[10]=V=>j.value=V),label:"Enter Justification",outlined:"",error:w.justification.type,"no-error-icon":!0,type:"textarea"},null,8,["modelValue","error"])])])])):q("",!0)]))]),_:1})]),_:1}),a(be,{class:"q-pa-lg bg"},{default:o(()=>[t("div",Ia,[ie.value>0?(c(),X(N,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"previous",onClick:m[11]||(m[11]=()=>{Te()})})):q("",!0),ie.value<pt-1?(c(),X(N,{key:1,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"next",onClick:m[12]||(m[12]=()=>{Xe()})})):q("",!0),ie.value===pt-1?(c(),X(N,{key:2,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:m[13]||(m[13]=()=>{l()})})):q("",!0),a(N,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"clear",onClick:m[14]||(m[14]=()=>{re(),p()})}),a(N,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:m[15]||(m[15]=()=>{z("update:modelValue",null)}),outline:""}),ie.value===0?(c(),X(L,{key:3,outlined:"",dense:"",debounce:"1000",modelValue:Ae.value,"onUpdate:modelValue":m[16]||(m[16]=V=>Ae.value=V),placeholder:"Search..."},{prepend:o(()=>[a(Se,{name:"bi-search",style:{"font-size":"1rem"}})]),after:o(()=>[t("div",Aa,d(Je.value)+" of "+d(Ee.value),1)]),_:1},8,["modelValue"])):q("",!0)])]),_:1}),a(Qe,{showing:H.value},{default:o(()=>[a(F,{class:"no-shadow radius-md q-pa-md"},{default:o(()=>[a(S,{class:"text-center"},{default:o(()=>[t("div",null,[a(_e,{color:"dark"})]),m[26]||(m[26]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[26]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},Pa=we(Ea,[["__scopeId","data-v-d82e3de3"]]),Ua={class:"q-mb-md"},Na={class:"text-body1 text-uppercase"},Ya={class:"q-mb-md"},Ta={class:"text-body1 text-uppercase"},Ma={class:"q-mb-md"},Fa={class:"text-body1 text-uppercase"},Ra={class:"q-mb-md"},ja={class:"text-body1"},Oa={class:"q-mb-md"},Ba={class:"row q-col-gutter-lg q-mb-md"},La={class:"text-body1 text-capitalize"},Qa={class:"text-body1 text-capitalize"},Ha={class:"text-body1 text-capitalize"},Wa={class:"row q-col-gutter-lg q-mb-md"},Ja={class:"text-body1 text-capitalize"},Ga={class:"text-body1 text-capitalize"},Xa={class:"q-mb-md"},Ka={class:"text-body1 text-capitalize"},Za={class:"row q-col-gutter-lg q-mb-md"},es={class:"text-body1 text-capitalize"},ts={class:"text-body1"},as={class:"row q-col-gutter-xl q-mb-md q-mt-xl"},ss={class:"text-caption text-uppercase text-grey"},os={key:0},ls={class:"text-h6 text-uppercase"},is={class:"text-body1 text-uppercase text-italic"},ns={key:1},rs={key:0},ds={class:"text-grey q-mb-lg"},us={class:"text-h6 text-uppercase"},cs={class:"text-body1 text-uppercase text-italic"},ps=["src"],ms={class:"text-h6 text-uppercase"},vs={class:"text-body1 text-uppercase text-italic"},gs={class:"text-caption text-uppercase text-italic"},xs={key:1},fs=["src"],ys={class:"text-h6 text-uppercase"},_s={class:"text-body1 text-uppercase text-italic"},hs={class:"text-caption text-uppercase text-italic"},bs={key:2,class:"q-mt-md"},ws={class:"q-gutter-sm"},Vs={class:"iframe-container"},Ds=["src"],$s={__name:"VacancyInfoDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(C,{emit:B}){const O=Le(),z=Ue(),E=C,$=B,H=ae({get:()=>E.modelValue===E.dialogName,set:p=>{p||$("update:modelValue",null)}}),h=v(null),R=()=>{I()},k=v(!1),I=async()=>{k.value=!0;try{const p=await oe.get(`/recruitment/${z.data?.id}`);h.value=p.data.data}catch(p){console.error("Error fetching all data:",p),le.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{k.value=!1}},D=ae(()=>{if(!h.value?.approvals||h.value.approvals.length===0)return!1;const l=[...h.value.approvals].sort((u,U)=>u.order-U.order).find(u=>u.status==="Pending");return l?l.approver_id===O.user?.id:!1}),Y=async p=>{k.value=!0;const l=Number(O.user.id),de=h.value.approvals.find(ue=>Number(ue?.approver_id)===Number(l))?.id??null;try{const ue=await oe.post("socket/vacancy/approve",{id:p,approvalid:de});le.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${ue.data.message}<div>
            `}),$("saved"),$("update:modelValue",null)}catch{e.response&&e.response.data&&(M(e.response.data),le.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{k.value=!1}},j=(p,l="PHP")=>{if(p==null||p==="")return"N/A";const u=Number(String(p).replace(/,/g,""));return isNaN(u)?"N/A":u.toLocaleString("en-PH",{style:"currency",currency:l,minimumFractionDigits:2})},Q=p=>p?me(p).format("MMMM Do, YYYY"):"",w=p=>p?me(p,"HH:mm").format("hh:mm A"):"",W=p=>p?me(p).format("MMMM Do, YYYY hh:mm A"):"",P=p=>{if(!Array.isArray(p)||!p.length)return"N/A";const l=["","Mon","Tue","Wed","Thu","Fri","Sat","Sun"];return p.map(u=>Number(u.day_of_week)).filter(u=>u>=1&&u<=7).sort((u,U)=>u-U).map(u=>l[u]).join(", ")},M=p=>{const l=Array.isArray(p)?p:p?.errors||[];Object.keys(Errors).forEach(u=>{Errors[u].type=null,Errors[u].messages=[]}),l.forEach(u=>{Errors[u.path]!==void 0&&(Errors[u.path].type=!0,Errors[u.path].messages.push(u.msg))})},x=v(!1),b=v(null),T=async p=>{k.value=!0;try{const l=await oe.get(`/recruitment/${p}/pdf`,{responseType:"arraybuffer"}),u=new Blob([l.data],{type:"application/pdf"}),U=window.URL.createObjectURL(u)+"#view=FitW";b.value=U,x.value=!0}catch(l){console.error("Error generating PDF:",l)}finally{k.value=!1}},J=v([]),s=ae(()=>Array.isArray(J.value)&&J.value.some(p=>String(p).trim()!=="")),re=async p=>{k.value=!0;try{const l=await oe.post("/socket/vacancy/overide",{id:p,signatories:J.value});le.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${l.data.message}<div>
            `}),$("saved"),$("update:modelValue",null)}catch{e.response&&e.response.data&&(M(e.response.data),le.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{k.value=!1}};return(p,l)=>(c(),f(K,null,[a(Ce,{modelValue:H.value,"onUpdate:modelValue":l[5]||(l[5]=u=>H.value=u),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:l[6]||(l[6]=u=>R())},{default:o(()=>[a(F,{class:"dialog-card column full-height"},{default:o(()=>[a(S,{class:"q-pa-lg"},{default:o(()=>l[8]||(l[8]=[t("div",{class:"text-h6 text-uppercase"},"vacancy information",-1)])),_:1,__:[8]}),a(Oe,{inset:""}),a(S,{class:"col q-pa-lg scroll"},{default:o(()=>[t("div",Ua,[l[9]||(l[9]=t("div",{class:"text-caption text-uppercase text-grey"},"position",-1)),t("div",Na,d(h.value?.position?.name),1)]),t("div",Ya,[l[10]||(l[10]=t("div",{class:"text-caption text-uppercase text-grey"},"salary",-1)),t("div",Ta,d(j(h.value?.position?.salary_amount))+" "+d(h.value?.position?.salary_type),1)]),t("div",Ma,[l[11]||(l[11]=t("div",{class:"text-caption text-uppercase text-grey"},"status",-1)),t("div",Fa,d(h.value?.status),1)]),t("div",Ra,[l[12]||(l[12]=t("div",{class:"text-caption text-uppercase text-grey"},"job description",-1)),t("div",ja,d(h.value?.position?.description),1)]),t("div",Oa,[l[13]||(l[13]=t("div",{class:"text-caption text-uppercase text-grey"},"job qualifications",-1)),(c(!0),f(K,null,te(h.value?.position?.qualification,(u,U)=>(c(),f("div",{class:"text-body1",key:U},d(U+1)+". "+d(u||"N/A"),1))),128))]),t("div",Ba,[t("div",null,[l[14]||(l[14]=t("div",{class:"text-caption text-uppercase text-grey"},"department",-1)),t("div",La,d(h.value?.position?.department?.name),1)]),t("div",null,[l[15]||(l[15]=t("div",{class:"text-caption text-uppercase text-grey"},"shift",-1)),t("div",Qa,d(h.value?.shift?.name)+" "+d(w(h.value?.shift?.start_time))+" to "+d(w(h.value?.shift?.end_time)),1),t("div",Ha,d(P(h.value?.shift?.days)),1)])]),t("div",Wa,[t("div",null,[l[16]||(l[16]=t("div",{class:"text-caption text-uppercase text-grey"},"date needed",-1)),t("div",Ja,d(Q(h.value?.date_needed)),1)]),t("div",null,[l[17]||(l[17]=t("div",{class:"text-caption text-uppercase text-grey"},"need background check",-1)),t("div",Ga,d(h.value?.need_background_check?"Yes":"No"),1)])]),t("div",Xa,[l[18]||(l[18]=t("div",{class:"text-caption text-uppercase text-grey"},"work location",-1)),t("div",Ka,d(h.value?.location),1)]),t("div",Za,[t("div",null,[l[19]||(l[19]=t("div",{class:"text-caption text-uppercase text-grey"},"movement",-1)),t("div",es,d(h.value?.movement),1)]),t("div",null,[l[20]||(l[20]=t("div",{class:"text-caption text-uppercase text-grey"},"justification",-1)),t("div",ts,d(h.value?.justification),1)])]),t("div",as,[(c(!0),f(K,null,te(h.value?.approvals,(u,U)=>(c(),f("div",null,[t("div",ss,d(u?.status=="Pending"?"unsigned":u?.setting?.description),1),u?.status=="Pending"?(c(),f("div",os,[t("div",ls,d(u?.original_approver_name),1),t("div",is,d(u?.original_approver_position),1)])):q("",!0),u?.status=="Approved"?(c(),f("div",ns,[u?.is_overide?(c(),f("div",rs,[t("div",ds,[t("div",us,d(u?.original_approver_name),1),t("div",cs,d(u?.original_approver_position),1)]),l[21]||(l[21]=t("div",{class:"text-caption text-uppercase text-italic text-bold q-mb-lg"},"overiden by",-1)),t("img",{src:u?.override_signature,width:"150"},null,8,ps),t("div",ms,d(u?.override_name),1),t("div",vs,d(u?.override_position),1),t("div",gs,d(W(u?.signed_at)),1)])):q("",!0),u?.is_overide?q("",!0):(c(),f("div",xs,[t("img",{src:u?.original_signature,width:"150"},null,8,fs),t("div",ys,d(u?.original_approver_name),1),t("div",_s,d(u?.original_approver_position),1),t("div",hs,d(W(u?.signed_at)),1)]))])):q("",!0),u?.status=="Pending"&&Z(O).hasRole(["SuperAdmin","Management"])?(c(),f("div",bs,[a(gt,{modelValue:J.value,"onUpdate:modelValue":l[0]||(l[0]=de=>J.value=de),val:u?.id,label:"Overide","checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",size:"sm",class:"tex-caption"},null,8,["modelValue","val"])])):q("",!0)]))),256))])]),_:1}),a(be,{class:"q-pa-lg bg"},{default:o(()=>[t("div",ws,[D.value&&Z(O).hasRole(["SuperAdmin","Management","Admin","HR"])?(c(),X(N,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"approve"},{default:o(()=>[a(rt,{onBeforeShow:()=>{},"transition-show":"jump-up","transition-hide":"jump-down",offset:[0,15],class:"radius-sm",style:{"box-shadow":"rgba(0, 0, 0, 0.09) 0px 3px 12px"}},{default:o(()=>[a(F,{class:"no-shadow radius-sm q-pa-lg",style:{width:"300px"}},{default:o(()=>[a(S,null,{default:o(()=>l[22]||(l[22]=[t("div",{class:"text-h6 text-center text-uppercase"}," proceed to approve ",-1)])),_:1,__:[22]}),a(be,null,{default:o(()=>[a(N,{unelevated:"",size:"md",color:"primary",class:"full-width text-capitalize",label:"proceed",onClick:l[1]||(l[1]=u=>Y(Z(z).data?.id))})]),_:1})]),_:1})]),_:1})]),_:1})):q("",!0),Z(z).data?.status=="Requested"&&Z(O).hasRole(["SuperAdmin","Management"])?(c(),X(N,{key:1,disable:!s.value,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"overide"},{default:o(()=>[a(rt,{onBeforeShow:()=>{},"transition-show":"jump-up","transition-hide":"jump-down",offset:[0,15],class:"radius-sm",style:{"box-shadow":"rgba(0, 0, 0, 0.09) 0px 3px 12px"}},{default:o(()=>[a(F,{class:"no-shadow radius-sm q-pa-lg",style:{width:"300px"}},{default:o(()=>[a(S,null,{default:o(()=>l[23]||(l[23]=[t("div",{class:"text-h6 text-center text-uppercase"}," proceed to overide signature ",-1)])),_:1,__:[23]}),a(be,null,{default:o(()=>[a(N,{unelevated:"",size:"md",color:"primary",class:"full-width text-capitalize",label:"proceed",onClick:l[2]||(l[2]=u=>re(Z(z).data?.id))})]),_:1})]),_:1})]),_:1})]),_:1},8,["disable"])):q("",!0),a(N,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"print",onClick:l[3]||(l[3]=()=>{T(Z(z).data?.id)})}),a(N,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:l[4]||(l[4]=()=>{$("update:modelValue",null)}),outline:""})])]),_:1}),a(Qe,{showing:k.value},{default:o(()=>[a(F,{class:"no-shadow radius-md q-pa-md"},{default:o(()=>[a(S,{class:"text-center"},{default:o(()=>[t("div",null,[a(_e,{color:"dark"})]),l[24]||(l[24]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[24]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]),a(Ce,{modelValue:x.value,"onUpdate:modelValue":l[7]||(l[7]=u=>x.value=u),"full-height":"","full-width":"",class:"pdf"},{default:o(()=>[a(F,{class:"bg-white q-pa-none",style:{height:"100vh",overflow:"hidden"}},{default:o(()=>[ze(a(N,{icon:"bi-x",class:"fixed bg-white text-primary shadow-2",round:"",dense:"",style:{top:"15px",right:"15px","z-index":"999"}},null,512),[[$t]]),a(S,{class:"q-pa-none",style:{height:"100%",overflow:"hidden"}},{default:o(()=>[t("div",Vs,[b.value?(c(),f("iframe",{key:0,src:b.value,frameborder:"0"},null,8,Ds)):q("",!0)])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},ks=we($s,[["__scopeId","data-v-fd47e4fa"]]),qs={class:"card-grid"},Ss={key:0,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},Cs={key:1,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},zs={key:2,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},Is={class:"text-subtitle2 text-uppercase"},As={class:"text-caption text-uppercase"},Es={class:"text-caption text-grey"},Ps={class:"text-caption text-uppercase"},Us={id:"glass-overlay"},Ns={__name:"RequisitionComponent",setup(C){const B=Le(),O=Ue(),z=v([]),E=v({}),$=v(1),H=v(10),h=v(!1),R=v(""),k=async()=>{h.value=!0;try{const{data:M}=await oe.get("/recruitment",{params:{Page:$.value,Limit:H.value,Filter:R.value||""}});z.value=M.data,E.value=M.meta}catch(M){console.error("Error fetching all data:",M),le.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{h.value=!1}};xt(R,()=>{$.value=1,k()});const I=()=>{$.value<E.value.TotalPages&&($.value++,k())},D=()=>{$.value>1&&($.value--,k())},Y=()=>{$.value>1&&($.value=1,k())},j=()=>{$.value<E.value.TotalPages&&($.value=E.value.TotalPages,k())},Q=(M,x="PHP")=>{if(M==null||M==="")return"N/A";const b=Number(String(M).replace(/,/g,""));return isNaN(b)?"N/A":b.toLocaleString("en-PH",{style:"currency",currency:x,minimumFractionDigits:2})},w=v(null),W=M=>{w.value=M};ft(()=>{k()});const P=v(!0);return yt(()=>{setTimeout(()=>{P.value=!1},1e3)}),(M,x)=>(c(),f("div",null,[t("div",qs,[Z(B).hasRole(["SuperAdmin","Admin","Management"])?(c(),f("div",Ss,[ze((c(),X(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm",onClick:x[0]||(x[0]=()=>{W("VacancyDialog")})},{default:o(()=>[a(S,null,{default:o(()=>[a(Se,{name:"bi-plus-circle",color:"grey",size:"xl"})]),_:1})]),_:1})),[[_t]])])):q("",!0),h.value?(c(),f("div",Cs,[a(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:o(()=>[a(S,null,{default:o(()=>[a(_e,{color:"dark"}),x[6]||(x[6]=t("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))]),_:1,__:[6]})]),_:1})])):!h.value&&z.value.length===0?(c(),f("div",zs,[a(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:o(()=>[a(S,null,{default:o(()=>x[7]||(x[7]=[t("div",{class:"text-caption text-uppercase text-grey"},"no data found",-1)])),_:1,__:[7]})]),_:1})])):!h.value&&z.value.length>0?(c(!0),f(K,{key:3},te(z.value,(b,T)=>(c(),f("div",{key:`data-${b.id}`,class:"card-anim-wrapper",style:fe({animationDelay:`${T*100}ms`})},[a(F,{onClick:()=>{W("VacancyInfoDialog"),Z(O).data=b},class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:o(()=>[a(S,null,{default:o(()=>[t("div",Is,d(b?.position?.name),1)]),_:2},1024),a(S,null,{default:o(()=>[t("div",As,d(Q(b?.position?.salary_amount))+" "+d(b?.position?.salary_type),1),t("div",Es,d(b?.status),1)]),_:2},1024)]),_:2},1032,["onClick"])],4))),128)):q("",!0)]),a(Pa,{modelValue:w.value,"onUpdate:modelValue":x[1]||(x[1]=b=>w.value=b),"dialog-name":"VacancyDialog",onSaved:x[2]||(x[2]=()=>{k()})},null,8,["modelValue"]),a(ks,{modelValue:w.value,"onUpdate:modelValue":x[3]||(x[3]=b=>w.value=b),"dialog-name":"VacancyInfoDialog",onSaved:x[4]||(x[4]=()=>{k()})},null,8,["modelValue"]),a(Dt,{class:"bg-white no-shadow q-mx-lg q-mb-md q-py-sm radius-xs text-grey"},{default:o(()=>[a(wt,null,{default:o(()=>[a(Vt,{class:"text-caption text-uppercase"},{default:o(()=>x[8]||(x[8]=[t("div",null,"Â© 2025 WORKFORCE. All Rights Reserved.",-1)])),_:1,__:[8]}),a(L,{outlined:"",dense:"",debounce:"1000",modelValue:R.value,"onUpdate:modelValue":x[5]||(x[5]=b=>R.value=b),placeholder:"Search..."},{before:o(()=>[t("div",Ps,d(`page ${E.value.CurrentPage} of ${E.value.TotalPages}`),1)]),after:o(()=>[a(N,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-bar-left",disable:$.value<=1,onClick:Y},{default:o(()=>[a(ye,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:o(()=>x[9]||(x[9]=[se("First Page")])),_:1,__:[9]})]),_:1},8,["disable"]),a(N,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-left-short",disable:$.value<=1,onClick:D},{default:o(()=>[a(ye,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:o(()=>x[10]||(x[10]=[se("Previous")])),_:1,__:[10]})]),_:1},8,["disable"]),a(N,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-right-short",disable:$.value>=E.value.TotalPages,onClick:I},{default:o(()=>[a(ye,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:o(()=>x[11]||(x[11]=[se("Next")])),_:1,__:[11]})]),_:1},8,["disable"]),a(N,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-bar-right",disable:$.value>=E.value.TotalPages,onClick:j},{default:o(()=>[a(ye,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:o(()=>x[12]||(x[12]=[se("Last Page")])),_:1,__:[12]})]),_:1},8,["disable"])]),prepend:o(()=>[a(Se,{name:"bi-search",style:{"font-size":"1rem"}})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(Be,{name:"glass-fade"},{default:o(()=>[ze(t("div",Us,[a(F,{class:"no-shadow radius-md q-pa-md"},{default:o(()=>[a(S,{class:"text-center"},{default:o(()=>[t("div",null,[a(_e,{color:"dark"})]),x[13]||(x[13]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[13]})]),_:1})],512),[[ht,P.value]])]),_:1})]))}},Ys=we(Ns,[["__scopeId","data-v-dca40025"]]),kt=Wt("applicationStore",{state:()=>({component:null,data:null,isEdit:!1}),getters:{},actions:{},persist:!0}),Ts={key:0},Ms={class:"card-grid"},Fs={key:"data-none",class:"inner-card-anim-wrapper",style:{animationDelay:"120ms"}},Rs={class:"text-caption text-uppercase"},js={class:"text-caption text-grey text-uppercase"},Os={class:"text-caption text-capitalize text-grey"},Bs={class:"checkmark-overlay"},Ls={key:1},Qs={class:"row q-col-gutter-xs q-mb-md"},Hs={class:"col-2"},Ws={class:"col-2"},Js={class:"col-2"},Gs={class:"col-1"},Xs={class:"row q-col-gutter-xs q-mb-md"},Ks={class:"col-2"},Zs={class:"q-gutter-sm"},eo={class:"col-10"},to={class:"q-gutter-sm"},ao={class:"row q-col-gutter-xs q-mb-md"},so={class:"col-2"},oo={class:"col-4"},lo={class:"row q-col-gutter-xs q-mb-md"},io={class:"col-6"},no={class:"q-gutter-sm"},ro={class:"row q-col-gutter-xs q-mb-md"},uo={class:"col-2"},co={class:"col-2"},po={key:2},mo={class:"q-mb-md"},vo={class:"row q-col-gutter-xs q-mb-xs"},go={class:"col-2"},xo={class:"col-2"},fo={class:"col-2"},yo={class:"col-2"},_o={class:"col-2"},ho={class:"col-2"},bo={class:"col-2"},wo={class:"col-2"},Vo={class:"col-2"},Do={class:"col-2"},$o={class:"col-1"},ko={key:3},qo={class:"q-mb-md"},So={class:"row q-col-gutter-xs q-mb-xs"},Co={class:"col-2"},zo={class:"col-3"},Io={class:"col-2"},Ao={class:"col-2"},Eo={class:"col-1"},Po={class:"col-2"},Uo={class:"col-3"},No={class:"col-2"},Yo={class:"col-2"},To={class:"col-2"},Mo={class:"col-1"},Fo={key:4},Ro={class:"q-mb-md"},jo={class:"row q-col-gutter-xs q-mb-xs"},Oo={class:"col-3"},Bo={class:"col-4"},Lo={class:"col-2"},Qo={class:"col-2"},Ho={class:"col-3"},Wo={class:"col-4"},Jo={class:"col-2"},Go={class:"col-2"},Xo={class:"col-1"},Ko={key:5},Zo={class:"q-mb-md"},el={class:"row q-col-gutter-xs q-mb-xs"},tl={class:"col-2"},al={class:"col-3"},sl={class:"col-1"},ol={class:"row q-gutter-sm"},ll={class:"text-caption text-uppercase text-grey"},mt=6,il={__name:"ApplicationDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue","saved"],setup(C,{emit:B}){Ue();const O=C,z=B,E=ae({get:()=>O.modelValue===O.dialogName,set:n=>{n||z("update:modelValue",null)}}),$=()=>{Ye(),ee(),De(),ne(),G.value=0},H=v(!1),h=v(""),R=v(""),k=v(""),I=v(""),D=v(""),Y=v(""),j=v(""),Q=v(new Date().toISOString().split("T")[0]),w=v(""),W=v(""),P=v(""),M=v(""),x=v([{schoollevel:"",schoolId:"",courseId:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}]),b=v([{title:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],hour:"",typeId:"",conductedBy:""}]),T=v([{position:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],description:""}]),J=v([{file:""}]),s=vt({vacancyId:{type:null,msg:""},firstname:{type:null,msg:""},middlename:{type:null,msg:""},lastname:{type:null,msg:""},suffix:{type:null,msg:""},sex:{type:null,msg:""},civilstatus:{type:null,msg:""},birthdate:{type:null,msg:""},birthplace:{type:null,msg:""},address:{type:null,msg:""},email:{type:null,msg:""},contactNo:{type:null,msg:""},educations:{schoollevel:{type:[],msg:""},schoolId:{type:[],msg:""},courseId:{type:[],msg:""},startDate:{type:[],msg:""},endDate:{type:[],msg:""}},trainings:{trainingtype:{type:[],msg:""},title:{type:[],msg:""},startDate:{type:[],msg:""},endDate:{type:[],msg:""},hour:{type:[],msg:""}},experiences:{position:{type:[],msg:""},startDate:{type:[],msg:""},endDate:{type:[],msg:""},description:{type:[],msg:""}},documents:{file:{type:[],msg:""}},applicationstatus:{type:[],msg:""}}),re=()=>{s.educations.schoollevel.type=x.value.map(()=>null),s.educations.schoolId.type=x.value.map(()=>null),s.educations.courseId.type=x.value.map(()=>null),s.educations.startDate.type=x.value.map(()=>null),s.educations.endDate.type=x.value.map(()=>null),s.trainings.trainingtype.type=b.value.map(()=>null),s.trainings.title.type=b.value.map(()=>null),s.trainings.startDate.type=b.value.map(()=>null),s.trainings.endDate.type=b.value.map(()=>null),s.trainings.hour.type=b.value.map(()=>null),s.experiences.position.type=T.value.map(()=>null),s.experiences.startDate.type=T.value.map(()=>null),s.experiences.endDate.type=T.value.map(()=>null),s.experiences.description.type=T.value.map(()=>null),s.documents.file.type=J.value.map(()=>null)},p=()=>le.fire({icon:"error",html:`
        <div class="text-h6 text-bold text-uppercase">Request Failed</div>
        <div class="text-caption">Something went wrong.</div>
        `}),l=(n,r="required")=>(s[n].type=!0,s[n].msg=r,!0),u=n=>(s[n].type=null,s[n].msg="",!1),U=(n,r)=>r?u(n):l(n,"required"),de=n=>{if(!n)return!1;const r=new Date,i=new Date(n);let y=r.getFullYear()-i.getFullYear();const g=r.getMonth()-i.getMonth();return(g<0||g===0&&r.getDate()<i.getDate())&&y--,y>=15},ue=()=>{let n=!1;return n||=U("vacancyId",h.value),n&&p(),!n},Ie=()=>{const n=["SR","JR","II","III","IV","V","VI","VII","VIII","IX","X"],r=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,i=/^09\d{9}$/;let y=!1;return y||=U("firstname",R.value),y||=U("middlename",k.value),y||=U("lastname",I.value),y||=D.value&&!n.includes(D.value.trim().toUpperCase())?l("suffix","invalid"):u("suffix"),y||=U("sex",Y.value),y||=U("civilstatus",j.value),Q.value?de(Q.value)?u("birthdate"):y||=l("birthdate","invalid"):y||=l("birthdate","required"),y||=U("birthplace",w.value),P.value?r.test(P.value)?P.value.length>100?y||=l("email","invalid"):u("email"):y||=l("email","invalid"):y||=l("email","required"),M.value?i.test(M.value)?u("contactNo"):y||=l("contactNo","invalid"):y||=l("contactNo","required"),y||=U("address",W.value),y&&p(),!y},dt=()=>{let n=!1;return s.educations.schoollevel={type:null,msg:""},s.educations.schoolId={type:null,msg:""},s.educations.courseId={type:null,msg:""},s.educations.startDate={type:null,msg:""},s.educations.endDate={type:null,msg:""},re(),x.value.forEach((r,i)=>{r.schoollevel||(s.educations.schoollevel.type[i]=!0,s.educations.schoollevel.msg="school level is required",n=!0),r.schoolId||(s.educations.schoolId.type[i]=!0,s.educations.schoolId.msg="school is required",n=!0),r.courseId||(s.educations.courseId.type[i]=!0,s.educations.courseId.msg="degree is required",n=!0),r.startDate?isNaN(new Date(r.startDate).getTime())&&(s.educations.startDate.type[i]=!0,s.educations.startDate.msg="start date must be a valid date",n=!0):(s.educations.startDate.type[i]=!0,s.educations.startDate.msg="start date is required",n=!0),r.endDate?isNaN(new Date(r.endDate).getTime())&&(s.educations.endDate.type[i]=!0,s.educations.endDate.msg="end date must be a valid date",n=!0):(s.educations.endDate.type[i]=!0,s.educations.endDate.msg="end date is required",n=!0)}),n&&p(),!n},He=()=>{let n=!1;return s.trainings.trainingtype={type:null,msg:""},s.trainings.title={type:null,msg:""},s.trainings.startDate={type:null,msg:""},s.trainings.endDate={type:null,msg:""},s.trainings.hour={type:null,msg:""},re(),b.value.forEach((r,i)=>{r.trainingtype||(s.trainings.trainingtype.type[i]=!0,s.trainings.trainingtype.msg="training type is required",n=!0),r.title||(s.trainings.title.type[i]=!0,s.trainings.title.msg="title is required",n=!0),r.startDate?isNaN(new Date(r.startDate).getTime())&&(s.trainings.startDate.type[i]=!0,s.trainings.startDate.msg="start date must be a valid date",n=!0):(s.trainings.startDate.type[i]=!0,s.trainings.startDate.msg="start date is required",n=!0),r.endDate?isNaN(new Date(r.endDate).getTime())&&(s.trainings.endDate.type[i]=!0,s.trainings.endDate.msg="end date must be a valid date",n=!0):(s.trainings.endDate.type[i]=!0,s.trainings.endDate.msg="end date is required",n=!0),r.hour?(isNaN(r.hour)||r.hour<1||r.hour>23)&&(s.trainings.hour.type[i]=!0,s.trainings.hour.msg="hour/s must be a valid number between 1 to 23",n=!0):(s.trainings.hour.type[i]=!0,s.trainings.hour.msg="hour/s is required",n=!0)}),n&&p(),!n},We=()=>{let n=!1;return s.experiences.position={type:null,msg:""},s.experiences.startDate={type:null,msg:""},s.experiences.endDate={type:null,msg:""},s.experiences.description={type:null,msg:""},re(),T.value.forEach((r,i)=>{r.position||(s.experiences.position.type[i]=!0,s.experiences.position.msg="position is required",n=!0),r.startDate?isNaN(new Date(r.startDate).getTime())&&(s.experiences.startDate.type[i]=!0,s.experiences.startDate.msg="start date must be a valid date",n=!0):(s.experiences.startDate.type[i]=!0,s.experiences.startDate.msg="start date is required",n=!0),r.endDate?isNaN(new Date(r.endDate).getTime())&&(s.experiences.endDate.type[i]=!0,s.experiences.endDate.msg="end date must a valid date",n=!0):(s.experiences.endDate.type[i]=!0,s.experiences.endDate.msg="end date is required",n=!0),r.description||(s.experiences.description.type[i]=!0,s.experiences.description.msg="job description is required",n=!0)}),n&&p(),!n},Ne=()=>{let n=!1;return s.documents.file={type:null,msg:""},re(),J.value.forEach((r,i)=>{r.file?r.file.type!=="application/pdf"?(s.documents.file.type[i]=!0,s.documents.file.msg="file must be a PDF document",n=!0):r.file.size>5242880&&(s.documents.file.type[i]=!0,s.documents.file.msg="file size must not exceed to 5MB",n=!0):(s.documents.file.type[i]=!0,s.documents.file.msg="file is required",n=!0)}),n&&p(),!n},Ae=()=>{Object.keys(s).forEach(n=>{const r=s[n];r.type!==void 0&&!Array.isArray(r.type)?(r.type=null,r.msg=""):r.type!==void 0&&Array.isArray(r.type)?(r.type=[],r.msg=""):Object.keys(r).forEach(i=>{Array.isArray(r[i].type)?r[i].type=[]:r[i].type=null,r[i].msg=""})})},Ye=()=>{h.value="",R.value="",k.value="",I.value="",D.value="",Y.value="",j.value="",Q.value=new Date().toISOString().split("T")[0],w.value="",W.value="",P.value="",M.value="",x.value=[{schoollevel:"",schoolId:"",courseId:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}],b.value=[{title:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],hour:"",typeId:"",conductedBy:""}],T.value=[{position:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],description:""}],J.value=[{file:""}],Ae()},Ve=async()=>{if(!(Ne&&!Ne())){H.value=!0;try{const n=new FormData;n.append("vacancyId",h.value),n.append("firstname",R.value),n.append("middlename",k.value),n.append("lastname",I.value),n.append("suffix",D.value),n.append("sex",Y.value),n.append("civilstatus",j.value),n.append("birthdate",Q.value),n.append("birthplace",w.value),n.append("email",P.value),n.append("contactNo",M.value),n.append("address",W.value),n.append("educations",JSON.stringify(x.value)),n.append("trainings",JSON.stringify(b.value)),n.append("experiences",JSON.stringify(T.value)),J.value.forEach((i,y)=>{n.append(`documents[${y}][documentId]`,i.documentId),i.file&&n.append(`documents[${y}][file]`,i.file)});const r=await oe.post("/socket/application/create",n,{headers:{"Content-Type":"multipart/form-data"}});z("saved"),z("update:modelValue",null),le.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${r.data.message}<div>
            `})}catch(n){n.response&&n.response.data&&(Je(n.response.data),le.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{H.value=!1}}},Je=n=>{const r=Array.isArray(n)?n:n?.errors||[];Object.keys(s).forEach(i=>{s[i].type=null,s[i].messages=[]}),r.forEach(i=>{s[i.path]!==void 0&&(s[i.path].type=!0,s[i.path].messages.push(i.msg))})},Ee=v([]),ie=v(["Male","Female"]),Ge=v(["High School","Vocational","College","Graduate Studies"]),Xe=v(["Single","Married","Widowed","Divorced","Separated"]),Te=v([]),Me=v([]),Ke=v(["Managerial","Supervisory","Technical","Orientation","Compliance","Seminar","Workshop","Conference","Other"]),Fe=v([]),Pe=v([]);v([]);const _=(n,r)=>(i,y)=>{if(i===""){y(()=>{r.value=n.value});return}y(()=>{const g=i.toLowerCase();r.value=n.value.filter(Lt=>Lt.label.toLowerCase().includes(g))})},m=_(Te,Fe),V=_(Me,Pe),ee=async()=>{try{const n=await oe.get("/application/option/vacancy");Ee.value=n.data}catch(n){console.error("Error fetching options:",n)}},ne=async()=>{try{const n=await oe.get("/application/option/school");Te.value=n.data}catch(n){console.error("Error fetching options:",n)}},De=async()=>{try{const n=await oe.get("/application/option/course");Me.value=n.data}catch(n){console.error("Error fetching options:",n)}};function ve(n,r="PHP"){if(n==null||n==="")return"";const i=Number(String(n).replace(/,/g,""));return isNaN(i)?"":i.toLocaleString("en-PH",{style:"currency",currency:r,minimumFractionDigits:2,maximumFractionDigits:2})}const Re=()=>{x.value.unshift({schoollevel:"",schoolId:"",courseId:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]})},qt=n=>{x.value.splice(n,1)},St=()=>{b.value.unshift({trainingtype:"",title:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],hour:""})},Ct=n=>{b.value.splice(n,1)},zt=()=>{T.value.unshift({position:"",description:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]})},It=n=>{T.value.splice(n,1)},At=()=>{J.value.unshift({file:""})},Et=n=>{J.value.splice(n,1)},ut=v(null),Ze=v([]),et=v([]),tt=v([]),at=v([]),st=v([]),ot=v([]);function Pt(n){$e(()=>{Ze.value[n]&&Ze.value[n].hide()})}function Ut(n){$e(()=>{et.value[n]&&et.value[n].hide()})}function Nt(n){$e(()=>{tt.value[n]&&tt.value[n].hide()})}function Yt(n){$e(()=>{at.value[n]&&at.value[n].hide()})}function Tt(n){$e(()=>{st.value[n]&&st.value[n].hide()})}function Mt(n){$e(()=>{ot.value[n]&&ot.value[n].hide()})}const G=v(0),Ft=[ue,Ie,dt,He,We],Rt=()=>{const n=Ft[G.value];n&&!n()||G.value++},jt=()=>{G.value>0&&G.value--},lt=v(""),ct=ae(()=>{const n=lt.value.trim().toLowerCase();return n?Ee.value.filter(r=>String(r.position?.name||"").toLowerCase().includes(n)):Ee.value}),it=ae(()=>ct.value),Ot=ae(()=>it.value.length),Bt=ae(()=>ct.value.length);return(n,r)=>(c(),X(Ce,{modelValue:E.value,"onUpdate:modelValue":r[19]||(r[19]=i=>E.value=i),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:r[20]||(r[20]=i=>$())},{default:o(()=>[a(F,{class:"dialog-card column full-height"},{default:o(()=>[a(S,{class:"q-pa-lg"},{default:o(()=>r[21]||(r[21]=[t("div",{class:"text-h6 text-uppercase"},"create application",-1)])),_:1,__:[21]}),a(Oe,{inset:""}),a(S,{class:"col q-pa-lg scroll"},{default:o(()=>[a(Be,{name:"fade-slide",mode:"out-in"},{default:o(()=>[(c(),f("div",{key:G.value},[G.value===0?(c(),f("div",Ts,[r[23]||(r[23]=t("div",{class:"text-overline text-uppercase text-bold q-mb-md"},"position information",-1)),t("div",{class:A(["text-caption text-uppercase q-mb-sm",s.vacancyId.type?"text-negative text-italic":"text-grey"])},d(s.vacancyId.type?s.vacancyId.msg:"position"),3),t("div",Ms,[it.value.length===0?(c(),f("div",Fs,[a(F,{class:"card card-menu card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm",tag:"label"},{default:o(()=>[a(S,null,{default:o(()=>r[22]||(r[22]=[t("div",{class:"text-caption text-uppercase text-grey"},"no data found",-1)])),_:1,__:[22]})]),_:1})])):(c(!0),f(K,{key:1},te(it.value,(i,y)=>(c(),f("div",{key:`data-${i.id}`,class:"inner-card-anim-wrapper",style:fe({animationDelay:`${y*120}ms`})},[a(F,{class:A(["card card-menu card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm",{"card--active":h.value===i.id}]),tag:"label",onClick:g=>h.value=i.id},{default:o(()=>[a(S,null,{default:o(()=>[t("div",Rs,d(i?.position?.name),1),t("div",js,d(i?.position?.salary_type=="Monthly"?ve(i?.position?.monthly_salary):i?.position?.salary_type=="Daily"?ve(i?.position?.daily_salary):i?.position?.salary_type=="Hourly"?ve(i?.position?.hourly_salary):null),1)]),_:2},1024),a(S,null,{default:o(()=>[t("div",Os,d(i?.department?.name),1)]),_:2},1024),t("div",Bs,[a(he,{modelValue:h.value,"onUpdate:modelValue":r[0]||(r[0]=g=>h.value=g),val:i.id,"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",size:"xs"},null,8,["modelValue","val"])])]),_:2},1032,["class","onClick"])],4))),128))])])):q("",!0),G.value===1?(c(),f("div",Ls,[r[24]||(r[24]=t("div",{class:"text-overline text-uppercase text-bold q-mb-md"},"personal information",-1)),t("div",Qs,[t("div",Hs,[t("div",{class:A(["text-caption text-uppercase",s.firstname.type?"text-negative text-italic":"text-grey"])},d(s.firstname.type?s.firstname.msg:"firstname"),3),a(L,{modelValue:R.value,"onUpdate:modelValue":r[1]||(r[1]=i=>R.value=i),label:"Enter Firstname",outlined:"",error:s.firstname.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])]),t("div",Ws,[t("div",{class:A(["text-caption text-uppercase",s.middlename.type?"text-negative text-italic":"text-grey"])},d(s.middlename.type?s.middlename.msg:"middlename"),3),a(L,{modelValue:k.value,"onUpdate:modelValue":r[2]||(r[2]=i=>k.value=i),label:"Enter Middlename",outlined:"",error:s.middlename.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])]),t("div",Js,[t("div",{class:A(["text-caption text-uppercase",s.lastname.type?"text-negative text-italic":"text-grey"])},d(s.lastname.type?s.lastname.msg:"lastname"),3),a(L,{modelValue:I.value,"onUpdate:modelValue":r[3]||(r[3]=i=>I.value=i),label:"Enter Lastname",outlined:"",error:s.lastname.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])]),t("div",Gs,[t("div",{class:A(["text-caption text-uppercase",s.suffix.type?"text-negative text-italic":"text-grey"])},d(s.suffix.type?s.suffix.msg:"suffix"),3),a(L,{modelValue:D.value,"onUpdate:modelValue":r[4]||(r[4]=i=>D.value=i),label:"Enter Suffix",outlined:"",error:s.suffix.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])])]),t("div",Xs,[t("div",Ks,[t("div",{class:A(["text-caption text-uppercase",s.sex.type?"text-negative text-italic":"text-grey"])},d(s.sex.type?s.sex.msg:"sex"),3),t("div",Zs,[(c(!0),f(K,null,te(ie.value,i=>(c(),X(he,{modelValue:Y.value,"onUpdate:modelValue":r[5]||(r[5]=y=>Y.value=y),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:i,label:i},null,8,["modelValue","val","label"]))),256))])]),t("div",eo,[t("div",{class:A(["text-caption text-uppercase",s.civilstatus.type?"text-negative text-italic":"text-grey"])},d(s.civilstatus.type?s.civilstatus.msg:"civil status"),3),t("div",to,[(c(!0),f(K,null,te(Xe.value,i=>(c(),X(he,{modelValue:j.value,"onUpdate:modelValue":r[6]||(r[6]=y=>j.value=y),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:i,label:i},null,8,["modelValue","val","label"]))),256))])])]),t("div",ao,[t("div",so,[t("div",{class:A(["text-caption text-uppercase",s.birthdate.type?"text-negative text-italic":"text-grey"])},d(s.birthdate.type?s.birthdate.msg:"birthdate (YYYY-MM-DD)"),3),a(L,{outlined:"",modelValue:Q.value,"onUpdate:modelValue":r[9]||(r[9]=i=>Q.value=i),label:"Enter Date",error:s.birthdate.type,"no-error-icon":!0},{default:o(()=>[a(xe,{cover:"","transition-show":"scale","transition-hide":"scale",ref_key:"popup",ref:ut,class:"no-shadow custom-border radius-sm"},{default:o(()=>[a(ge,{modelValue:Q.value,"onUpdate:modelValue":[r[7]||(r[7]=i=>Q.value=i),r[8]||(r[8]=()=>{ut.value.hide()})],mask:"YYYY-MM-DD"},null,8,["modelValue"])]),_:1},512)]),_:1},8,["modelValue","error"])]),t("div",oo,[t("div",{class:A(["text-caption text-uppercase",s.birthplace.type?"text-negative text-italic":"text-grey"])},d(s.birthplace.type?s.birthplace.msg:"birthplace"),3),a(L,{modelValue:w.value,"onUpdate:modelValue":r[10]||(r[10]=i=>w.value=i),label:"Enter Birthplace",outlined:"",error:s.birthplace.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])])]),t("div",lo,[t("div",io,[t("div",{class:A(["text-caption text-uppercase",s.address.type?"text-negative text-italic":"text-grey"])},d(s.address.type?s.address.msg:"address"),3),t("div",no,[a(L,{modelValue:W.value,"onUpdate:modelValue":r[11]||(r[11]=i=>W.value=i),label:"Enter Address",outlined:"",error:s.address.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])])])]),t("div",ro,[t("div",uo,[t("div",{class:A(["text-caption text-uppercase",s.email.type?"text-negative text-italic":"text-grey"])},d(s.email.type?s.email.msg:"email address"),3),a(L,{modelValue:P.value,"onUpdate:modelValue":r[12]||(r[12]=i=>P.value=i),label:"Enter Email Address",outlined:"",error:s.email.type,"no-error-icon":!0},null,8,["modelValue","error"])]),t("div",co,[t("span",{class:A(["text-caption text-uppercase",s.contactNo.type?"text-negative text-italic":"text-grey"])},d(s.contactNo.type?s.contactNo.msg:"contact number"),3),a(L,{modelValue:M.value,"onUpdate:modelValue":r[13]||(r[13]=i=>M.value=i),label:"Enter Contact No.",outlined:"",error:s.contactNo.type,"no-error-icon":!0,mask:"###########"},null,8,["modelValue","error"])])])])):q("",!0),G.value===2?(c(),f("div",po,[r[28]||(r[28]=t("div",{class:"text-overline text-uppercase text-bold q-mb-md"},"education information",-1)),t("div",mo,[t("div",vo,[t("div",go,[t("div",{class:A(["text-caption text-uppercase",s.educations.schoollevel.msg?"text-negative text-italic":"text-grey"])},d(s.educations.schoollevel.msg?s.educations.schoollevel.msg:"school level"),3)]),t("div",xo,[t("div",{class:A(["text-caption text-uppercase",s.educations.schoolId.msg?"text-negative text-italic":"text-grey"])},d(s.educations.schoolId.msg?s.educations.schoolId.msg:"school"),3)]),t("div",fo,[t("div",{class:A(["text-caption text-uppercase",s.educations.courseId.msg?"text-negative text-italic":"text-grey"])},d(s.educations.courseId.msg?s.educations.courseId.msg:"degree"),3)]),t("div",yo,[t("div",{class:A(["text-caption text-uppercase",s.educations.startDate.msg?"text-negative text-italic":"text-grey"])},d(s.educations.startDate.msg?s.educations.startDate.msg:"start date (YYYY-MM-DD)"),3)]),t("div",_o,[t("div",{class:A(["text-caption text-uppercase",s.educations.endDate.msg?"text-negative text-italic":"text-grey"])},d(s.educations.endDate.msg?s.educations.endDate.msg:"end date (YYYY-MM-DD)"),3)])]),(c(!0),f(K,null,te(x.value,(i,y)=>(c(),f("div",{class:"row q-col-gutter-xs q-mb-xs",key:y},[t("div",ho,[a(qe,{outlined:"",modelValue:i.schoollevel,"onUpdate:modelValue":g=>i.schoollevel=g,label:"Choose School Level","input-debounce":"300",options:Ge.value,error:s.educations.schoollevel.type[y],"hide-dropdown-icon":"","no-error-icon":!0},{"no-option":o(()=>[a(ce,null,{default:o(()=>[a(pe,{class:"text-italic text-grey"},{default:o(()=>r[25]||(r[25]=[se(" No options ")])),_:1,__:[25]})]),_:1})]),option:o(g=>[a(ce,je({ref_for:!0},g.itemProps),{default:o(()=>[a(pe,null,{default:o(()=>[a(ke,null,{default:o(()=>[se(d(n.$CapitalizeWords(g.opt)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:2},1032,["modelValue","onUpdate:modelValue","options","error"])]),t("div",bo,[a(qe,{outlined:"",modelValue:i.schoolId,"onUpdate:modelValue":g=>i.schoolId=g,label:"Choose School","emit-value":"","map-options":"","use-input":"","input-debounce":"300",options:Fe.value,onFilter:Z(m),error:s.educations.schoolId.type[y],"hide-dropdown-icon":"","no-error-icon":!0},{"no-option":o(()=>[a(ce,null,{default:o(()=>[a(pe,{class:"text-italic text-grey"},{default:o(()=>r[26]||(r[26]=[se(" No options ")])),_:1,__:[26]})]),_:1})]),option:o(g=>[a(ce,je({ref_for:!0},g.itemProps),{default:o(()=>[a(pe,null,{default:o(()=>[a(ke,null,{default:o(()=>[se(d(n.$CapitalizeWords(g.opt.label)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:2},1032,["modelValue","onUpdate:modelValue","options","onFilter","error"])]),t("div",wo,[a(qe,{outlined:"",modelValue:i.courseId,"onUpdate:modelValue":g=>i.courseId=g,label:"Choose Degree","emit-value":"","map-options":"","use-input":"","input-debounce":"300",options:Pe.value,onFilter:Z(V),error:s.educations.courseId.type[y],"hide-dropdown-icon":"","no-error-icon":!0},{"no-option":o(()=>[a(ce,null,{default:o(()=>[a(pe,{class:"text-italic text-grey"},{default:o(()=>r[27]||(r[27]=[se(" No options ")])),_:1,__:[27]})]),_:1})]),option:o(g=>[a(ce,je({ref_for:!0},g.itemProps),{default:o(()=>[a(pe,null,{default:o(()=>[a(ke,null,{default:o(()=>[se(d(n.$CapitalizeWords(g.opt.label)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:2},1032,["modelValue","onUpdate:modelValue","options","onFilter","error"])]),t("div",Vo,[a(L,{outlined:"",modelValue:i.startDate,"onUpdate:modelValue":g=>i.startDate=g,label:"Enter Date",error:s.educations.startDate.type[y],"no-error-icon":!0},{default:o(()=>[a(xe,{cover:"","transition-show":"scale","transition-hide":"scale",class:"no-shadow custom-border radius-sm",ref_for:!0,ref:g=>Ze.value[y]=g},{default:o(()=>[a(ge,{modelValue:i.startDate,"onUpdate:modelValue":[g=>i.startDate=g,()=>Pt(y)],mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1032,["modelValue","onUpdate:modelValue","error"])]),t("div",Do,[a(L,{outlined:"",modelValue:i.endDate,"onUpdate:modelValue":g=>i.endDate=g,label:"Enter Date",error:s.educations.endDate.type[y],"no-error-icon":!0},{default:o(()=>[a(xe,{cover:"","transition-show":"scale","transition-hide":"scale",class:"no-shadow custom-border radius-sm",ref_for:!0,ref:g=>et.value[y]=g},{default:o(()=>[a(ge,{modelValue:i.endDate,"onUpdate:modelValue":[g=>i.endDate=g,()=>Ut(y)],mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1032,["modelValue","onUpdate:modelValue","error"])]),t("div",$o,[x.value.length>1?(c(),X(N,{key:0,round:"",icon:"bi-trash3",flat:"",unelevated:"",color:"grey",onClick:g=>qt(y),size:"sm",class:"q-mt-md"},null,8,["onClick"])):q("",!0)])]))),128))])])):q("",!0),G.value===3?(c(),f("div",ko,[r[30]||(r[30]=t("div",{class:"text-overline text-uppercase text-bold q-mb-md"},"training information",-1)),t("div",qo,[t("div",So,[t("div",Co,[t("div",{class:A(["text-caption text-uppercase",s.trainings.trainingtype.msg?"text-negative text-italic":"text-grey"])},d(s.trainings.trainingtype.msg?s.trainings.trainingtype.msg:"training type"),3)]),t("div",zo,[t("div",{class:A(["text-caption text-uppercase",s.trainings.title.msg?"text-negative text-italic":"text-grey"])},d(s.trainings.title.msg?s.trainings.title.msg:"title"),3)]),t("div",Io,[t("div",{class:A(["text-caption text-uppercase",s.trainings.startDate.msg?"text-negative text-italic":"text-grey"])},d(s.trainings.startDate.msg?s.trainings.startDate.msg:"start date (YYYY-MM-DD)"),3)]),t("div",Ao,[t("div",{class:A(["text-caption text-uppercase",s.trainings.endDate.msg?"text-negative text-italic":"text-grey"])},d(s.trainings.endDate.msg?s.trainings.endDate.msg:"end date (YYYY-MM-DD)"),3)]),t("div",Eo,[t("div",{class:A(["text-caption text-uppercase",s.trainings.hour.msg?"text-negative text-italic":"text-grey"])},d(s.trainings.hour.msg?s.trainings.hour.msg:"hour/s"),3)])]),(c(!0),f(K,null,te(b.value,(i,y)=>(c(),f("div",{class:"row q-col-gutter-xs q-mb-xs",key:y},[t("div",Po,[a(qe,{outlined:"",modelValue:i.trainingtype,"onUpdate:modelValue":g=>i.trainingtype=g,label:"Choose Training Type","input-debounce":"300",options:Ke.value,error:s.trainings.trainingtype.type[y],"hide-dropdown-icon":"","no-error-icon":!0},{"no-option":o(()=>[a(ce,null,{default:o(()=>[a(pe,{class:"text-italic text-grey"},{default:o(()=>r[29]||(r[29]=[se(" No options ")])),_:1,__:[29]})]),_:1})]),option:o(g=>[a(ce,je({ref_for:!0},g.itemProps),{default:o(()=>[a(pe,null,{default:o(()=>[a(ke,null,{default:o(()=>[se(d(n.$CapitalizeWords(g.opt)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:2},1032,["modelValue","onUpdate:modelValue","options","error"])]),t("div",Uo,[a(L,{modelValue:i.title,"onUpdate:modelValue":g=>i.title=g,label:"Enter Title",outlined:"",error:s.trainings.title.type[y],"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",No,[a(L,{outlined:"",modelValue:i.startDate,"onUpdate:modelValue":g=>i.startDate=g,label:"Enter Date",error:s.trainings.startDate.type[y],"no-error-icon":!0},{default:o(()=>[a(xe,{cover:"","transition-show":"scale","transition-hide":"scale",class:"no-shadow custom-border radius-sm",ref_for:!0,ref:g=>tt.value[y]=g},{default:o(()=>[a(ge,{modelValue:i.startDate,"onUpdate:modelValue":[g=>i.startDate=g,()=>Nt(y)],mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1032,["modelValue","onUpdate:modelValue","error"])]),t("div",Yo,[a(L,{outlined:"",modelValue:i.endDate,"onUpdate:modelValue":g=>i.endDate=g,label:"Enter Date",error:s.trainings.endDate.type[y],"no-error-icon":!0},{default:o(()=>[a(xe,{cover:"","transition-show":"scale","transition-hide":"scale",class:"no-shadow custom-border radius-sm",ref_for:!0,ref:g=>at.value[y]=g},{default:o(()=>[a(ge,{modelValue:i.endDate,"onUpdate:modelValue":[g=>i.endDate=g,()=>Yt(y)],mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1032,["modelValue","onUpdate:modelValue","error"])]),t("div",To,[a(L,{modelValue:i.hour,"onUpdate:modelValue":g=>i.hour=g,label:"Enter Hour/s",outlined:"",error:s.trainings.hour.type[y],"no-error-icon":!0},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",Mo,[b.value.length>1?(c(),X(N,{key:0,round:"",icon:"bi-trash3",flat:"",unelevated:"",color:"grey",onClick:g=>Ct(y),size:"sm",class:"q-mt-md"},null,8,["onClick"])):q("",!0)])]))),128))])])):q("",!0),G.value===4?(c(),f("div",Fo,[r[31]||(r[31]=t("div",{class:"text-overline text-uppercase text-bold q-mb-md"},"experience information",-1)),t("div",Ro,[t("div",jo,[t("div",Oo,[t("div",{class:A(["text-caption text-uppercase",s.experiences.position.msg?"text-negative text-italic":"text-grey"])},d(s.experiences.position.msg?s.experiences.position.msg:"position"),3)]),t("div",Bo,[t("div",{class:A(["text-caption text-uppercase",s.experiences.description.msg?"text-negative text-italic":"text-grey"])},d(s.experiences.description.msg?s.experiences.description.msg:"job description"),3)]),t("div",Lo,[t("div",{class:A(["text-caption text-uppercase",s.experiences.startDate.msg?"text-negative text-italic":"text-grey"])},d(s.experiences.startDate.msg?s.experiences.startDate.msg:"start date (YYYY-MM-DD)"),3)]),t("div",Qo,[t("div",{class:A(["text-caption text-uppercase",s.experiences.endDate.msg?"text-negative text-italic":"text-grey"])},d(s.experiences.endDate.msg?s.experiences.endDate.msg:"end date (YYYY-MM-DD)"),3)])]),(c(!0),f(K,null,te(T.value,(i,y)=>(c(),f("div",{class:"row q-col-gutter-xs q-mb-xs",key:y},[t("div",Ho,[a(L,{modelValue:i.position,"onUpdate:modelValue":g=>i.position=g,label:"Enter Position",outlined:"",error:s.experiences.position.type[y],"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",Wo,[a(L,{modelValue:i.description,"onUpdate:modelValue":g=>i.description=g,label:"EnterJob Description",outlined:"",error:s.experiences.description.type[y],"no-error-icon":!0},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",Jo,[a(L,{outlined:"",modelValue:i.startDate,"onUpdate:modelValue":g=>i.startDate=g,label:"Enter Date",error:s.experiences.startDate.type[y],"no-error-icon":!0},{default:o(()=>[a(xe,{cover:"","transition-show":"scale","transition-hide":"scale",class:"no-shadow custom-border radius-sm",ref_for:!0,ref:g=>st.value[y]=g},{default:o(()=>[a(ge,{modelValue:i.startDate,"onUpdate:modelValue":[g=>i.startDate=g,()=>Tt(y)],mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1032,["modelValue","onUpdate:modelValue","error"])]),t("div",Go,[a(L,{outlined:"",modelValue:i.endDate,"onUpdate:modelValue":g=>i.endDate=g,label:"Enter Date",error:s.experiences.endDate.type[y],"no-error-icon":!0},{default:o(()=>[a(xe,{cover:"","transition-show":"scale","transition-hide":"scale",class:"no-shadow custom-border radius-sm",ref_for:!0,ref:g=>ot.value[y]=g},{default:o(()=>[a(ge,{modelValue:i.endDate,"onUpdate:modelValue":[g=>i.endDate=g,()=>Mt(y)],mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1032,["modelValue","onUpdate:modelValue","error"])]),t("div",Xo,[T.value.length>1?(c(),X(N,{key:0,round:"",icon:"bi-trash3",flat:"",unelevated:"",color:"grey",onClick:g=>It(y),size:"sm",class:"q-mt-md"},null,8,["onClick"])):q("",!0)])]))),128))])])):q("",!0),G.value===5?(c(),f("div",Ko,[r[32]||(r[32]=t("div",{class:"text-overline text-uppercase text-bold q-mb-md"},"document information",-1)),t("div",Zo,[t("div",el,[t("div",tl,[t("div",{class:A(["text-caption text-uppercase",s.documents.file.msg?"text-negative":"text-grey"])},d(s.documents.file.msg?s.documents.file.msg:"documents"),3)])]),(c(!0),f(K,null,te(J.value,(i,y)=>(c(),f("div",{class:"row q-col-gutter-xs q-mb-xs",key:y},[t("div",al,[a(ta,{modelValue:i.file,"onUpdate:modelValue":g=>i.file=g,label:"Upload File",outlined:"",error:s.documents.file.type[y],"no-error-icon":!0},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",sl,[J.value.length>1?(c(),X(N,{key:0,round:"",icon:"bi-trash3",flat:"",unelevated:"",color:"grey",onClick:g=>Et(y),size:"sm",class:"q-mt-md"},null,8,["onClick"])):q("",!0)])]))),128))])])):q("",!0)]))]),_:1})]),_:1}),a(be,{class:"q-pa-lg bg"},{default:o(()=>[t("div",ol,[G.value>0?(c(),X(N,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"previous",onClick:r[14]||(r[14]=()=>{jt()})})):q("",!0),G.value<mt-1?(c(),X(N,{key:1,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"next",onClick:r[15]||(r[15]=()=>{Rt()})})):q("",!0),G.value===mt-1?(c(),X(N,{key:2,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:Ve})):q("",!0),G.value===2||G.value===3||G.value===4||G.value===5?(c(),X(N,{key:3,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"add",onClick:r[16]||(r[16]=()=>{G.value===2?Re():G.value===3?St():G.value===4?zt():G.value===5&&At()}),outline:""})):q("",!0),a(N,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:r[17]||(r[17]=()=>{z("update:modelValue",null)}),outline:""}),G.value===0?(c(),X(L,{key:4,outlined:"",dense:"",debounce:"1000",modelValue:lt.value,"onUpdate:modelValue":r[18]||(r[18]=i=>lt.value=i),placeholder:"Search..."},{prepend:o(()=>[a(Se,{name:"bi-search",style:{"font-size":"1rem"}})]),after:o(()=>[t("div",ll,d(Ot.value)+" of "+d(Bt.value),1)]),_:1},8,["modelValue"])):q("",!0)])]),_:1}),a(Qe,{showing:H.value},{default:o(()=>[a(F,{class:"no-shadow radius-md q-pa-md"},{default:o(()=>[a(S,{class:"text-center"},{default:o(()=>[t("div",null,[a(_e,{color:"dark"})]),r[33]||(r[33]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[33]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},nl=we(il,[["__scopeId","data-v-1eba5d3f"]]),rl=bt({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(C,{slots:B}){const O=ae(()=>{const z=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(E=>C[E]===!0).map(E=>`q-btn-group--${E}`).join(" ");return`q-btn-group row no-wrap${z.length!==0?" "+z:""}`+(C.spread===!0?" q-btn-group--spread":" inline")});return()=>nt("div",{class:O.value},Jt(B.default))}}),dl=bt({name:"QBtnToggle",props:{...Gt,modelValue:{required:!0},options:{type:Array,required:!0,validator:C=>C.every(B=>("label"in B||"icon"in B||"slot"in B)&&"value"in B)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(C,{slots:B,emit:O}){const z=ae(()=>C.options.find(Y=>Y.value===C.modelValue)!==void 0),E=ae(()=>({type:"hidden",name:C.name,value:C.modelValue})),$=Kt(E),H=ae(()=>Xt(C)),h=ae(()=>({rounded:C.rounded,dense:C.dense,...H.value})),R=ae(()=>C.options.map((Y,j)=>{const{attrs:Q,value:w,slot:W,...P}=Y;return{slot:W,props:{key:j,"aria-pressed":w===C.modelValue?"true":"false",...Q,...P,...h.value,disable:C.disable===!0||P.disable===!0,color:w===C.modelValue?I(P,"toggleColor"):I(P,"color"),textColor:w===C.modelValue?I(P,"toggleTextColor"):I(P,"textColor"),noCaps:I(P,"noCaps")===!0,noWrap:I(P,"noWrap")===!0,size:I(P,"size"),padding:I(P,"padding"),ripple:I(P,"ripple"),stack:I(P,"stack")===!0,stretch:I(P,"stretch")===!0,onClick(M){k(w,Y,M)}}}}));function k(Y,j,Q){C.readonly!==!0&&(C.modelValue===Y?C.clearable===!0&&(O("update:modelValue",null,null),O("clear")):O("update:modelValue",Y,j),O("click",Q))}function I(Y,j){return Y[j]===void 0?C[j]:Y[j]}function D(){const Y=R.value.map(j=>nt(N,j.props,j.slot!==void 0?B[j.slot]:void 0));return C.name!==void 0&&C.disable!==!0&&z.value===!0&&$(Y,"push"),Zt(B.default,Y)}return()=>nt(rl,{class:"q-btn-toggle",...H.value,rounded:C.rounded,stretch:C.stretch,glossy:C.glossy,spread:C.spread},D)}}),ul={class:"q-mt-md"},cl={key:0},pl={class:"row q-col-gutter-xs q-mb-md"},ml={class:"col-4"},vl={class:"q-mb-md"},gl={class:"text-body1 text-uppercase"},xl={class:"q-mb-md"},fl={class:"text-body1 text-uppercase"},yl={class:"q-mb-md"},_l={class:"text-body1 text-uppercase"},hl={class:"q-mb-md"},bl={class:"text-body1 text-capitalize"},wl={class:"text-body1 text-capitalize"},Vl={class:"q-mb-md"},Dl={class:"text-body1 text-capitalize"},$l={class:"col-8"},kl={class:"q-mb-md"},ql={class:"text-body1"},Sl={class:"q-mb-md"},Cl={class:"row q-col-gutter-lg q-mb-md"},zl={class:"text-body1"},Il={class:"text-body1"},Al={class:"text-body1"},El={class:"q-mb-md"},Pl={class:"text-body1"},Ul={key:1},Nl={class:"q-mb-md"},Yl={class:"text-body1 text-uppercase"},Tl={class:"q-mb-md"},Ml={class:"text-body1 text-uppercase"},Fl={class:"row q-col-gutter-lg q-mb-mb"},Rl={class:"q-mb-md"},jl={class:"text-body1 text-uppercase"},Ol={class:"q-mb-md"},Bl={class:"text-body1 text-uppercase"},Ll={class:"q-mb-md"},Ql={class:"text-body1 text-uppercase"},Hl={class:"q-mb-md"},Wl={class:"text-body1 text-uppercase"},Jl={class:"q-mb-md"},Gl={class:"text-body1 text-uppercase"},Xl={class:"row q-col-gutter-lg q-mb-mb"},Kl={class:"q-mb-md"},Zl={class:"text-body1 text-uppercase"},ei={class:"q-mb-md"},ti={class:"text-body1 text-uppercase"},ai={key:2},si={class:"card-grid"},oi={class:"text-caption text-uppercase"},li={class:"text-caption"},ii={class:"text-caption text-grey"},ni={key:3},ri={class:"card-grid"},di={class:"text-subtitle1 text-uppercase"},ui={class:"text-caption text-grey"},ci={key:4},pi={class:"card-grid"},mi={class:"text-subtitle1 text-uppercase"},vi={class:"text-caption text-uppercase"},gi={class:"text-caption text-grey"},xi={class:"text-caption text-grey"},fi={key:5},yi={class:"card-grid"},_i={class:"text-caption"},hi={class:"row q-col-gutter-sm"},bi={key:0},wi={key:1},Vi={class:"q-gutter-sm"},Di={class:"iframe-container"},$i=["src"],ki={__name:"ApplicationInfoDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue","saved"],setup(C,{emit:B}){const O=Le(),z=kt(),E=C,$=B,H=ae({get:()=>E.modelValue===E.dialogName,set:p=>{p||$("update:modelValue",null)}}),h=v("vacancy"),R=v(""),k=["Pooling","Shortlisted","Interview","Hired","Rejected","Withdrawn"],I=v(!1),D=v([]),Y=async()=>{I.value=!0;try{const p=await oe.get(`/application/${z.data?.id}/details`);D.value=p.data.data,R.value=D.value.status}catch(p){console.error("Error fetching options:",p)}finally{I.value=!1}},j=()=>{Y()},Q=async()=>{I.value=!0;try{const p=await oe.post("/socket/application/update",{id:z.data?.id,status:R.value});$("saved"),$("update:modelValue",null),le.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${p.data.message}<div>
            `})}catch{e.response&&e.response.data&&(w(e.response.data),le.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{I.value=!1}},w=p=>{const l=Array.isArray(p)?p:p?.errors||[];Object.keys(Errors).forEach(u=>{Errors[u].type=null,Errors[u].messages=[]}),l.forEach(u=>{Errors[u.path]!==void 0&&(Errors[u.path].type=!0,Errors[u.path].messages.push(u.msg))})},W=p=>{const l=`https://hris-ccmi.com${p.document}`;window.open(l,"_blank")},P=v(!1),M=v(null),x=async()=>{I.value=!0;try{const p=await oe.get(`/application/${z.data?.id}/pdf`,{responseType:"arraybuffer"}),l=new Blob([p.data],{type:"application/pdf"}),u=window.URL.createObjectURL(l)+"#view=FitW";M.value=u,P.value=!0}catch(p){console.error("Error generating PDF:",p)}finally{I.value=!1}};function b(p,l="PHP"){if(p==null||p==="")return"";const u=Number(String(p).replace(/,/g,""));return isNaN(u)?"":u.toLocaleString("en-PH",{style:"currency",currency:l,minimumFractionDigits:2,maximumFractionDigits:2})}const T=p=>p?me(p).format("MMMM Do, YYYY"):"",J=p=>p?me(p,"HH:mm").format("hh:mm A"):"",s=p=>{if(!Array.isArray(p)||!p.length)return"N/A";const l=["","Mon","Tue","Wed","Thu","Fri","Sat","Sun"];return p.map(u=>Number(u.day_of_week)).filter(u=>u>=1&&u<=7).sort((u,U)=>u-U).map(u=>l[u]).join(", ")},re=p=>{if(!p)return"";const l=p.first_name||"",u=p.middle_name?p.middle_name.charAt(0).toUpperCase()+".":"",U=p.last_name||"",de=p.suffix?` ${p.suffix}`:"";return`${l} ${u} ${U}${de}`.trim()};return(p,l)=>(c(),f(K,null,[a(Ce,{modelValue:H.value,"onUpdate:modelValue":l[5]||(l[5]=u=>H.value=u),"full-height":"",position:"right",persistent:"",square:"",class:"dialog",onBeforeShow:l[6]||(l[6]=u=>j())},{default:o(()=>[a(F,{class:"dialog-card column full-height"},{default:o(()=>[a(S,{class:"q-pa-lg"},{default:o(()=>l[8]||(l[8]=[t("div",{class:"text-h6 text-uppercase"},"application information",-1)])),_:1,__:[8]}),a(Oe,{inset:""}),a(S,{class:"col q-pa-lg scroll"},{default:o(()=>[a(dl,{unelevated:"",size:"xs",modelValue:h.value,"onUpdate:modelValue":l[0]||(l[0]=u=>h.value=u),"toggle-color":"primary",options:[{label:"vacancy information",value:"vacancy"},{label:"applicant information",value:"applicant"},{label:"education",value:"education"},{label:"experience",value:"experience"},{label:"training",value:"training"},{label:"document",value:"document"}]},null,8,["modelValue"]),t("div",ul,[h.value==="vacancy"?(c(),f("div",cl,[l[20]||(l[20]=t("div",{class:"text-subtitle2 text-uppercase text-bold q-mb-md"},"vacancy information",-1)),t("div",pl,[t("div",ml,[t("div",vl,[l[9]||(l[9]=t("div",{class:"text-caption text-uppercase text-grey"},"position",-1)),t("div",gl,d(D.value?.vacancy?.position?.name),1)]),t("div",xl,[l[10]||(l[10]=t("div",{class:"text-caption text-uppercase text-grey"},"salary",-1)),t("div",fl,d(b(D.value?.vacancy?.position?.salary_amount)),1)]),t("div",yl,[l[11]||(l[11]=t("div",{class:"text-caption text-uppercase text-grey"},"department",-1)),t("div",_l,d(D.value?.vacancy?.department?.name),1)]),t("div",hl,[l[12]||(l[12]=t("div",{class:"text-caption text-uppercase text-grey"},"shift",-1)),t("div",bl,d(D.value?.vacancy?.shift?.name)+" "+d(J(D.value?.vacancy?.shift?.start_time))+" to "+d(J(D.value?.vacancy?.shift?.end_time)),1),t("div",wl,d(s(D.value?.vacancy?.shift?.days)),1)]),t("div",Vl,[l[13]||(l[13]=t("div",{class:"text-caption text-uppercase text-grey"},"work location",-1)),t("div",Dl,d(D.value?.vacancy?.location),1)])]),t("div",$l,[t("div",kl,[l[14]||(l[14]=t("div",{class:"text-caption text-uppercase text-grey"},"job description",-1)),t("div",ql,d(D.value?.vacancy?.position?.description),1)]),t("div",Sl,[l[15]||(l[15]=t("div",{class:"text-caption text-uppercase text-grey"},"job qualifications",-1)),(c(!0),f(K,null,te(D.value?.vacancy?.position?.qualification,(u,U)=>(c(),f("div",{class:"text-body1",key:U},d(U+1)+". "+d(u||"N/A"),1))),128))])])]),t("div",Cl,[t("div",null,[l[16]||(l[16]=t("div",{class:"text-caption text-uppercase text-grey"},"date needed",-1)),t("div",zl,d(T(D.value?.vacancy?.date_needed)),1)]),t("div",null,[l[17]||(l[17]=t("div",{class:"text-caption text-uppercase text-grey"},"need background check",-1)),t("div",Il,d(D.value?.vacancy?.need_background_check?"Yes":"No"),1)]),t("div",null,[l[18]||(l[18]=t("div",{class:"text-caption text-uppercase text-grey"},"movement",-1)),t("div",Al,d(D.value?.vacancy?.movement),1)])]),t("div",El,[l[19]||(l[19]=t("div",{class:"text-caption text-uppercase text-grey"},"justification",-1)),t("div",Pl,d(D.value?.vacancy?.justification),1)])])):q("",!0),h.value==="applicant"?(c(),f("div",Ul,[l[30]||(l[30]=t("div",{class:"text-subtitle2 text-uppercase text-bold q-mb-md"},"applicant information",-1)),t("div",Nl,[l[21]||(l[21]=t("div",{class:"text-caption text-uppercase text-grey"},"name",-1)),t("div",Yl,d(re(D.value)),1)]),t("div",Tl,[l[22]||(l[22]=t("div",{class:"text-caption text-uppercase text-grey"},"status",-1)),t("div",Ml,d(D.value?.status),1)]),t("div",Fl,[t("div",Rl,[l[23]||(l[23]=t("div",{class:"text-caption text-uppercase text-grey"},"sex",-1)),t("div",jl,d(D.value?.sex),1)]),t("div",Ol,[l[24]||(l[24]=t("div",{class:"text-caption text-uppercase text-grey"},"marital status",-1)),t("div",Bl,d(D.value?.civil_status),1)]),t("div",Ll,[l[25]||(l[25]=t("div",{class:"text-caption text-uppercase text-grey"},"bithdate",-1)),t("div",Ql,d(D.value?.birthdate),1)]),t("div",Hl,[l[26]||(l[26]=t("div",{class:"text-caption text-uppercase text-grey"},"birthplace",-1)),t("div",Wl,d(D.value?.birthplace),1)])]),t("div",Jl,[l[27]||(l[27]=t("div",{class:"text-caption text-uppercase text-grey"},"address",-1)),t("div",Gl,d(D.value?.address),1)]),t("div",Xl,[t("div",Kl,[l[28]||(l[28]=t("div",{class:"text-caption text-uppercase text-grey"},"email",-1)),t("div",Zl,d(D.value?.email),1)]),t("div",ei,[l[29]||(l[29]=t("div",{class:"text-caption text-uppercase text-grey"},"contact number",-1)),t("div",ti,d(D.value?.contact_number),1)])])])):q("",!0),h.value==="education"?(c(),f("div",ai,[l[31]||(l[31]=t("div",{class:"text-subtitle2 text-uppercase text-bold q-mb-sm"},"educational attainment",-1)),t("div",si,[(c(!0),f(K,null,te(D.value?.educations,(u,U)=>(c(),f("div",{key:`data-${u.id}`,class:"inner-card-anim-wrapper",style:fe({animationDelay:`${U*120}ms`})},[a(F,{class:"card card-hover-animate flex flex-center no-shadow cursor-pointer radius-sm q-mr-sm q-mb-sm"},{default:o(()=>[a(S,{class:"text-center full-width"},{default:o(()=>[t("div",oi,d(u?.course?.name),1)]),_:2},1024),a(S,{class:"text-center full-width"},{default:o(()=>[t("div",li,d(u?.school_level),1),t("div",ii,d(u?.start_date)+" to "+d(u?.end_date),1)]),_:2},1024)]),_:2},1024)],4))),128))])])):q("",!0),h.value==="experience"?(c(),f("div",ni,[l[32]||(l[32]=t("div",{class:"text-subtitle2 text-uppercase text-bold q-mb-sm"},"work experiences",-1)),t("div",ri,[(c(!0),f(K,null,te(D.value?.experiences,(u,U)=>(c(),f("div",{key:`data-${u.id}`,class:"inner-card-anim-wrapper",style:fe({animationDelay:`${U*120}ms`})},[a(F,{class:"card card-hover-animate flex flex-center no-shadow cursor-pointer radius-sm q-mr-sm q-mb-sm"},{default:o(()=>[a(S,{class:"text-center full-width"},{default:o(()=>[t("div",di,d(u?.position),1)]),_:2},1024),a(S,{class:"text-center full-width"},{default:o(()=>[t("div",ui,d(u?.start_date)+" to "+d(u?.end_date),1)]),_:2},1024)]),_:2},1024)],4))),128))])])):q("",!0),h.value==="training"?(c(),f("div",ci,[l[33]||(l[33]=t("div",{class:"text-subtitle2 text-uppercase text-bold q-mb-sm"},"trainings",-1)),t("div",pi,[(c(!0),f(K,null,te(D.value?.trainings,(u,U)=>(c(),f("div",{key:`data-${u.id}`,class:"inner-card-anim-wrapper",style:fe({animationDelay:`${U*120}ms`})},[a(F,{class:"card card-hover-animate flex flex-center no-shadow cursor-pointer radius-sm q-mr-sm q-mb-sm"},{default:o(()=>[a(S,{class:"text-center full-width"},{default:o(()=>[t("div",mi,d(u?.title),1),t("div",vi,d(u?.type),1)]),_:2},1024),a(S,{class:"text-center full-width"},{default:o(()=>[t("div",gi,d(u?.start_date)+" to "+d(u?.end_date),1),t("div",xi,d(u?.hour)+"hr/s",1)]),_:2},1024)]),_:2},1024)],4))),128))])])):q("",!0),h.value==="document"?(c(),f("div",fi,[l[34]||(l[34]=t("div",{class:"text-subtitle2 text-uppercase text-bold q-mb-sm"},"documents uploaded",-1)),t("div",yi,[(c(!0),f(K,null,te(D.value?.documents,(u,U)=>(c(),f("div",{key:`data-${u.id}`,class:"inner-card-anim-wrapper",style:fe({animationDelay:`${U*120}ms`})},[a(F,{class:"card card-hover-animate flex flex-center no-shadow cursor-pointer radius-sm q-mr-sm q-mb-sm",onClick:()=>{W(u)}},{default:o(()=>[a(S,{class:"text-center"},{default:o(()=>[t("div",_i,d(u?.filename),1)]),_:2},1024)]),_:2},1032,["onClick"])],4))),128))])])):q("",!0)])]),_:1}),a(be,{class:"q-pa-lg bg"},{default:o(()=>[t("div",hi,[D.value?.status!=="Hired"&&D.value?.status!=="Rejected"&&D.value?.status!=="Withdrawn"&&Z(O).hasRole(["SuperAdmin","Admin","HR"])&&Z(z).data?.vacancy?.status==="Approved"?(c(),f("div",bi,[a(qe,{outlined:"",modelValue:R.value,"onUpdate:modelValue":l[1]||(l[1]=u=>R.value=u),"input-debounce":"300","use-input":"",options:k,"hide-dropdown-icon":"","no-error-icon":!0,dense:""},null,8,["modelValue"])])):q("",!0),D.value?.status!=="Hired"&&D.value?.status!=="Rejected"&&D.value?.status!=="Withdrawn"&&Z(O).hasRole(["SuperAdmin","Admin","HR"])&&Z(z).data?.vacancy?.status==="Approved"?(c(),f("div",wi,[a(N,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"update"},{default:o(()=>[a(rt,{"transition-show":"jump-up","transition-hide":"jump-down",offset:[0,15],class:"radius-sm",style:{"box-shadow":"rgba(0, 0, 0, 0.09) 0px 3px 12px"}},{default:o(()=>[a(F,{class:"no-shadow radius-sm q-pa-lg",style:{width:"300px"}},{default:o(()=>[a(S,null,{default:o(()=>l[35]||(l[35]=[t("div",{class:"text-h6 text-center text-uppercase"}," proceed to update status ",-1)])),_:1,__:[35]}),a(be,null,{default:o(()=>[a(N,{unelevated:"",size:"md",color:"primary",class:"full-width text-capitalize",label:"proceed",onClick:l[2]||(l[2]=()=>{Q()})})]),_:1})]),_:1})]),_:1})]),_:1})])):q("",!0),t("div",Vi,[a(N,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"print",onClick:l[3]||(l[3]=()=>{x()})}),a(N,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:l[4]||(l[4]=()=>{$("update:modelValue",null)}),outline:""})])])]),_:1}),a(Qe,{showing:I.value},{default:o(()=>[a(F,{class:"no-shadow radius-md q-pa-md"},{default:o(()=>[a(S,{class:"text-center"},{default:o(()=>[t("div",null,[a(_e,{color:"dark"})]),l[36]||(l[36]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[36]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]),a(Ce,{modelValue:P.value,"onUpdate:modelValue":l[7]||(l[7]=u=>P.value=u),"full-height":"","full-width":"",class:"pdf"},{default:o(()=>[a(F,{class:"bg-white q-pa-none",style:{height:"100vh",overflow:"hidden"}},{default:o(()=>[ze(a(N,{icon:"close",class:"fixed bg-white text-primary shadow-2",round:"",dense:"",style:{top:"15px",right:"15px","z-index":"999"}},null,512),[[$t]]),a(S,{class:"q-pa-none",style:{height:"100%",overflow:"hidden"}},{default:o(()=>[t("div",Di,[M.value?(c(),f("iframe",{key:0,src:M.value,frameborder:"0"},null,8,$i)):q("",!0)])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},qi=we(ki,[["__scopeId","data-v-86c4c890"]]),Si={class:"card-grid"},Ci={key:0,class:"card-anim-wrapper"},zi={key:1,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},Ii={key:2,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},Ai={class:"text-subtitle2 text-uppercase"},Ei={class:"text-caption text-uppercase"},Pi={class:"text-caption text-grey"},Ui={class:"text-caption text-uppercase"},Ni={class:"text-caption text-grey"},Yi={class:"text-caption text-uppercase"},Ti={id:"glass-overlay"},Mi={__name:"ApplicationComponent",setup(C){const B=Le(),O=kt(),z=v([]),E=v({}),$=v(1),H=v(10),h=v(!1),R=v(""),k=async()=>{h.value=!0;try{const{data:x}=await oe.get("/application",{params:{Page:$.value,Limit:H.value,Filter:R.value||""}});z.value=x.data,E.value=x.meta}catch(x){console.error("Error fetching all data:",x),le.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{h.value=!1}};xt(R,()=>{$.value=1,k()});const I=()=>{$.value<E.value.TotalPages&&($.value++,k())},D=()=>{$.value>1&&($.value--,k())},Y=()=>{$.value>1&&($.value=1,k())},j=()=>{$.value<E.value.TotalPages&&($.value=E.value.TotalPages,k())},Q=x=>x?me(x).format("MMMM Do, YYYY"):"",w=x=>{if(!x)return"";const b=x.first_name||"",T=x.middle_name?x.middle_name.charAt(0).toUpperCase()+".":"",J=x.last_name||"",s=x.suffix?` ${x.suffix}`:"";return`${b} ${T} ${J}${s}`.trim()};ft(()=>{k()});const W=v(null),P=x=>{W.value=x},M=v(!0);return yt(()=>{setTimeout(()=>{M.value=!1},1e3)}),(x,b)=>(c(),f("div",null,[t("div",Si,[Z(B).hasRole(["SuperAdmin","Admin","HR"])?(c(),f("div",Ci,[ze((c(),X(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm",onClick:b[0]||(b[0]=()=>{P("ApplicationDialog")})},{default:o(()=>[a(S,null,{default:o(()=>[a(Se,{name:"bi-plus-circle",color:"grey",size:"xl"})]),_:1})]),_:1})),[[_t]])])):q("",!0),h.value?(c(),f("div",zi,[a(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:o(()=>[a(S,null,{default:o(()=>[a(_e,{color:"dark"}),b[6]||(b[6]=t("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))]),_:1,__:[6]})]),_:1})])):!h.value&&z.value.length===0?(c(),f("div",Ii,[a(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:o(()=>[a(S,null,{default:o(()=>b[7]||(b[7]=[t("div",{class:"text-caption text-uppercase text-grey"},"no data found",-1)])),_:1,__:[7]})]),_:1})])):(c(!0),f(K,{key:3},te(z.value,(T,J)=>(c(),f("div",{key:`data-${T.id}`,class:"card-anim-wrapper",style:fe({animationDelay:`${J*120}ms`})},[a(F,{onClick:()=>{P("ApplicationInfoDialog"),Z(O).data=T},class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:o(()=>[a(S,null,{default:o(()=>[t("div",Ai,d(w(T)),1),t("div",Ei,d(T?.vacancy?.position?.name),1),t("div",Pi,d(T?.vacancy?.salary_range),1)]),_:2},1024),a(S,null,{default:o(()=>[t("div",Ui,d(T?.status),1),t("div",Ni,d(Q(T?.createdAt)),1)]),_:2},1024)]),_:2},1032,["onClick"])],4))),128))]),a(nl,{modelValue:W.value,"onUpdate:modelValue":b[1]||(b[1]=T=>W.value=T),"dialog-name":"ApplicationDialog",onSaved:b[2]||(b[2]=()=>{k()})},null,8,["modelValue"]),a(qi,{modelValue:W.value,"onUpdate:modelValue":b[3]||(b[3]=T=>W.value=T),"dialog-name":"ApplicationInfoDialog",onSaved:b[4]||(b[4]=()=>{k()})},null,8,["modelValue"]),a(Dt,{class:"bg-white no-shadow q-mx-lg q-mb-md q-py-sm radius-xs text-grey"},{default:o(()=>[a(wt,null,{default:o(()=>[a(Vt,{class:"text-caption text-uppercase"},{default:o(()=>b[8]||(b[8]=[t("div",null,"Â© 2025 WORKFORCE. All Rights Reserved.",-1)])),_:1,__:[8]}),a(L,{outlined:"",dense:"",debounce:"1000",modelValue:R.value,"onUpdate:modelValue":b[5]||(b[5]=T=>R.value=T),placeholder:"Search..."},{before:o(()=>[t("div",Yi,d(`page ${E.value.CurrentPage} of ${E.value.TotalPages}`),1)]),after:o(()=>[a(N,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-bar-left",disable:$.value<=1,onClick:Y},{default:o(()=>[a(ye,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:o(()=>b[9]||(b[9]=[se("First Page")])),_:1,__:[9]})]),_:1},8,["disable"]),a(N,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-left-short",disable:$.value<=1,onClick:D},{default:o(()=>[a(ye,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:o(()=>b[10]||(b[10]=[se("Previous")])),_:1,__:[10]})]),_:1},8,["disable"]),a(N,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-right-short",disable:$.value>=E.value.TotalPages,onClick:I},{default:o(()=>[a(ye,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:o(()=>b[11]||(b[11]=[se("Next")])),_:1,__:[11]})]),_:1},8,["disable"]),a(N,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-bar-right",disable:$.value>=E.value.TotalPages,onClick:j},{default:o(()=>[a(ye,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:o(()=>b[12]||(b[12]=[se("Last Page")])),_:1,__:[12]})]),_:1},8,["disable"])]),prepend:o(()=>[a(Se,{name:"bi-search",style:{"font-size":"1rem"}})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(Be,{name:"glass-fade"},{default:o(()=>[ze(t("div",Ti,[a(F,{class:"no-shadow radius-md q-pa-md"},{default:o(()=>[a(S,{class:"text-center"},{default:o(()=>[t("div",null,[a(_e,{color:"dark"})]),b[13]||(b[13]=t("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[13]})]),_:1})],512),[[ht,M.value]])]),_:1})]))}},Fi=we(Mi,[["__scopeId","data-v-1b30b561"]]),Ri={class:"q-gutter-xs"},ji={class:"q-mt-md"},Oi={__name:"RecruitmentPage",setup(C){const B=Ue(),O={RequisitionComponent:Ys,ApplicationComponent:Fi},z=[{component:"RequisitionComponent",label:"vacancy"},{component:"ApplicationComponent",label:"application"}];return(E,$)=>(c(),f("div",null,[a(F,{class:"no-shadow radius-xs"},{default:o(()=>[a(S,null,{default:o(()=>[t("div",Ri,[(c(),f(K,null,te(z,(H,h)=>a(N,{unelevated:"",class:A(Z(B).component===`${H.component}`?"bg-primary text-white":"bg-accent"),onClick:R=>Z(B).component=`${H.component}`,size:"xs",label:H.label},null,8,["class","onClick","label"])),64))])]),_:1})]),_:1}),t("div",ji,[(c(),X(ea(O[Z(B).component]),{key:Z(B).component}))])]))}},an=we(Oi,[["__scopeId","data-v-74c0737e"]]);export{an as default};
