import{T as at,r as l,w as be,Y as Fe,n as we,aa as A,$ as r,a4 as a,a2 as e,a0 as t,ab as $,a9 as F,ad as me,ae as fe,ao as ke,j as re,ag as ve,_ as K,a1 as ie,a7 as y,a3 as Oe,ap as Pe,af as Y,ak as te,a8 as ue,a5 as z,a6 as H,am as Le,an as De,aq as W,W as $e,O as Ce,ac as Ee,ar as Ae,ah as Se,as as Je,at as lt,au as st,I as ot,b as Ze,av as rt,aw as nt}from"./index-DUj6Qat5.js";import{a as pe,Q as ye}from"./QInnerLoading-BjTJWTbo.js";import{a as ze,b as qe}from"./QResizeObserver-DvN4Q8-d.js";import{Q as J,a as Ve}from"./QFooter-B2YPwZ7w.js";import{h as dt}from"./moment-BVHJYo2c.js";import{T}from"./sweetalert-CVlrw-cm.js";import{_ as tt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{Q as ut}from"./QDate-Dbu_svyZ.js";import{Q as Be,C as Ye}from"./ClosePopup-B7_6mH7x.js";import{Q as Xe}from"./QAvatar-DsvaOgES.js";import{Q as Te}from"./QSpinnerPuff-CjcpssDc.js";import{Q as Qe,a as Me,b as We}from"./QItem-Bma97t3C.js";import{Q as et}from"./QSelect-De-kUDd9.js";import{Q as Ge}from"./QTime-CFRY-gxn.js";import"./format-CoaQEihs.js";import"./TouchPan-BqeUlPzf.js";const ct={class:"card-grid"},pt={key:0,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},vt={key:1,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},mt={class:"text-subtitle2 text-uppercase"},ft={class:"text-caption text-uppercase"},xt={class:"text-caption text-grey text-uppercase"},gt={key:0,class:"absolute-right"},yt={class:"text-caption text-uppercase"},ht={id:"glass-overlay"},_t={__name:"UserComponent",setup(_e){const h=at(),b=l([]),S=l({}),_=l(1),w=l(10),k=l(!1),d=l(""),f=async()=>{k.value=!0;try{const{data:N}=await W.get("/user",{params:{Page:_.value,Limit:w.value,Filter:d.value||""}});b.value=N.data,S.value=N.meta}catch(N){console.error("Error fetching all data:",N),T.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{k.value=!1}};be(d,()=>{_.value=1,f()});const s=()=>{_.value<S.value.TotalPages&&(_.value++,f())},P=()=>{_.value>1&&(_.value--,f())},x=()=>{_.value>1&&(_.value=1,f())},v=()=>{_.value<S.value.TotalPages&&(_.value=S.value.TotalPages,f())},C=N=>{const I=Array.isArray(N)?N:N?.errors||[];Object.keys(Errors).forEach(Z=>{Errors[Z].type=null,Errors[Z].msg=""}),I.forEach(Z=>{Errors[Z.path]!==void 0&&(Errors[Z.path].type=!0,Errors[Z.path].msg=Z.msg)})},n=N=>N?.status==="Active",D=N=>{if(c(N))return;const I=N.status!=="Active";X(N,I)},c=N=>N.role==="SuperAdmin",X=async(N,I)=>{const Z=N.status,oe=I?"Active":"Suspended";N.status=oe;try{await W.post(`/user/${N.id}/status`,{status:oe}),f(),T.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">Status updated to ${oe}<div>
            `})}catch(le){N.status=Z,le.response&&le.response.data&&(C(le.response.data),T.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}};Fe(()=>{f()});const ae=l(!0);return we(()=>{setTimeout(()=>{ae.value=!1},1e3)}),(N,I)=>(r(),A("div",null,[a("div",ct,[k.value?(r(),A("div",pt,[e(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:t(()=>[e($,null,{default:t(()=>[e(pe,{color:"dark"}),I[1]||(I[1]=a("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))]),_:1,__:[1]})]),_:1})])):!k.value&&b.value.length===0?(r(),A("div",vt,[e(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:t(()=>[e($,null,{default:t(()=>I[2]||(I[2]=[a("div",{class:"text-caption text-uppercase text-grey"},"no data found",-1)])),_:1,__:[2]})]),_:1})])):(r(!0),A(me,{key:2},fe(b.value,(Z,oe)=>(r(),A("div",{key:`data-${Z.id}`,class:"card-anim-wrapper",style:ke({animationDelay:`${oe*120}ms`})},[re((r(),K(F,{class:Y([{"disabled-card":c(Z)},"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"]),onClick:le=>!c(Z)&&D(Z)},{default:t(()=>[e($,null,{default:t(()=>[a("div",mt,y(Z.name),1),a("div",ft,y(Z.role),1)]),_:2},1024),e($,null,{default:t(()=>[a("div",xt,y(Z.status),1)]),_:2},1024),Oe(h).hasRole(["SuperAdmin","Admin"])&&Z.role!=="SuperAdmin"?(r(),A("div",gt,[e(Pe,{"model-value":n(Z),"onUpdate:modelValue":le=>X(Z,le),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle"},null,8,["model-value","onUpdate:modelValue"])])):ie("",!0)]),_:2},1032,["class","onClick"])),[[ve,!c(Z)]])],4))),128))]),e(Ve,{class:"bg-white no-shadow q-mx-lg q-mb-md q-py-sm radius-xs text-grey"},{default:t(()=>[e(ze,null,{default:t(()=>[e(qe,{class:"text-caption text-uppercase"},{default:t(()=>I[3]||(I[3]=[a("div",null,"© 2025 WORKFORCE. All Rights Reserved.",-1)])),_:1,__:[3]}),e(te,{outlined:"",dense:"",debounce:"1000",modelValue:d.value,"onUpdate:modelValue":I[0]||(I[0]=Z=>d.value=Z),placeholder:"Search..."},{before:t(()=>[a("div",yt,y(`page ${S.value.CurrentPage} of ${S.value.TotalPages}`),1)]),after:t(()=>[e(z,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-bar-left",disable:_.value<=1,onClick:x},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>I[4]||(I[4]=[H("First Page")])),_:1,__:[4]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-left-short",disable:_.value<=1,onClick:P},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>I[5]||(I[5]=[H("Previous")])),_:1,__:[5]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-right-short",disable:_.value>=S.value.TotalPages,onClick:s},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>I[6]||(I[6]=[H("Next")])),_:1,__:[6]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-bar-right",disable:_.value>=S.value.TotalPages,onClick:v},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>I[7]||(I[7]=[H("Last Page")])),_:1,__:[7]})]),_:1},8,["disable"])]),prepend:t(()=>[e(ue,{name:"bi-search",style:{"font-size":"1rem"}})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(De,{name:"glass-fade"},{default:t(()=>[re(a("div",ht,[e(F,{class:"no-shadow radius-md q-pa-md"},{default:t(()=>[e($,{class:"text-center"},{default:t(()=>[a("div",null,[e(pe,{color:"dark"})]),I[8]||(I[8]=a("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[8]})]),_:1})],512),[[Le,ae.value]])]),_:1})]))}},bt=tt(_t,[["__scopeId","data-v-5369e18e"]]),wt={class:"card-grid"},kt={class:"card-anim-wrapper"},$t={key:0,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},zt={key:1,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},qt={class:"text-subtitle2 text-uppercase"},Vt={class:"text-caption text-capitalize"},Pt={class:"text-caption"},Ct={class:"text-h6 text-uppercase"},Et={class:"row q-col-gutter-xs q-mb-xs"},At={class:"col-2"},St={class:"col-2"},Rt={class:"col-1"},Tt={class:"q-gutter-sm"},Ut={class:"text-caption text-uppercase"},Ft={id:"glass-overlay"},Lt={__name:"HolidayComponent",setup(_e){$e();const h=l(!1),b=l(!1),S=l(!1),_=l(""),w=l(""),k=l(new Date().toISOString().split("T")[0]),d=l(""),f=l(!1),s=Ce({name:{type:null,msg:""},date:{type:null,msg:""},multiplier:{type:null,msg:""}}),P=()=>{let u=!1;return w.value?s.name.type=null:(s.name.type=!0,s.name.msg="required",u=!0),k.value?s.date.type=null:(s.date.type=!0,s.date.msg="required",u=!0),d.value?s.multiplier.type=null:(s.multiplier.type=!0,s.multiplier.msg="required",u=!0),u&&T.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                <div class="text-caption">Something went wrong.</div>
            `}),!u},x=l([]),v=l({}),C=l(1),n=l(10),D=l(!1),c=l(""),X=async()=>{D.value=!0;try{const{data:u}=await W.get("/holiday",{params:{Page:C.value,Limit:n.value,Filter:c.value||""}});x.value=u.data,v.value=u.meta}catch(u){console.error("Error fetching all data:",u),T.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{D.value=!1}};be(c,()=>{C.value=1,X()});const ae=()=>{C.value<v.value.TotalPages&&(C.value++,X())},N=()=>{C.value>1&&(C.value--,X())},I=()=>{C.value>1&&(C.value=1,X())},Z=()=>{C.value<v.value.TotalPages&&(C.value=v.value.TotalPages,X())},oe=()=>{ne(),h.value=!0,b.value=!1},le=async u=>{ne(),h.value=!0,b.value=!0,_.value=u.id,w.value=u.name,k.value=u.date,d.value=u.multiplier,f.value=!!u.isActive},ne=()=>{_.value="",w.value="",k.value=new Date().toISOString().split("T")[0],d.value="",f.value=!1,de()},de=()=>Object.values(s).forEach(u=>{u.type=null,u.msg=null}),ce=async()=>{if(P()){S.value=!0;try{const u=_.value&&b?await W.post(`/holiday/${_.value}/update`,{name:w.value,date:k.value,multiplier:d.value}):await W.post("/holiday",{name:w.value,date:k.value,multiplier:d.value});h.value=!1,_.value&&b?V(u.data.holiday):X(),T.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${u.data.message}<div>
            `})}catch(u){u.response&&u.response.data&&(q(u.response.data),T.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{S.value=!1}}},q=u=>{const g=Array.isArray(u)?u:u?.errors||[];Object.keys(s).forEach(m=>{s[m].type=null,s[m].msg=""}),g.forEach(m=>{s[m.path]!==void 0&&(s[m.path].type=!0,s[m.path].msg=m.msg)})},V=u=>{const g=x.value.findIndex(m=>m.id===u.id);g!==-1&&(x.value[g]=u)},i=async()=>{S.value=!0;try{const u=f.value?await W.post(`/holiday/${_.value}/disable`):await W.post(`/holiday/${_.value}/enable`);h.value=!1,V(u.data.holiday),T.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${u.data.message}<div>
            `})}catch(u){u.response&&u.response.data&&(q(u.response.data),T.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{S.value=!1}},p=u=>u?dt(u).format("MMMM Do, YYYY"):"",o=l(null);Fe(()=>{X()});const E=l(!0);return we(()=>{setTimeout(()=>{E.value=!1},1e3)}),(u,g)=>(r(),A("div",null,[a("div",wt,[a("div",kt,[re((r(),K(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm",onClick:g[0]||(g[0]=m=>oe())},{default:t(()=>[e($,null,{default:t(()=>[e(ue,{color:"grey",name:"bi-plus-circle",size:"xl"})]),_:1})]),_:1})),[[ve]])]),D.value?(r(),A("div",$t,[e(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:t(()=>[e($,null,{default:t(()=>[e(pe,{color:"dark"}),g[9]||(g[9]=a("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))]),_:1,__:[9]})]),_:1})])):!D.value&&x.value.length===0?(r(),A("div",zt,[e(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:t(()=>[e($,null,{default:t(()=>g[10]||(g[10]=[a("div",{class:"text-caption text-uppercase text-grey"},"no data found",-1)])),_:1,__:[10]})]),_:1})])):ie("",!0),(r(!0),A(me,null,fe(x.value,(m,j)=>(r(),A("div",{key:`data-${m.id}`,class:"card-anim-wrapper",style:ke({animationDelay:`${j*120}ms`})},[re((r(),K(F,{onClick:se=>le(m),class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:t(()=>[e($,null,{default:t(()=>[a("div",qt,y(m.name),1),a("div",Vt,y(p(m?.date)),1)]),_:2},1024),e($,null,{default:t(()=>[a("div",Pt,y(m.multiplier),1),g[11]||(g[11]=a("div",{class:"text-caption text-uppercase text-grey"},"multiplier",-1))]),_:2,__:[11]},1024),a("div",{class:Y(["absolute-top-left q-ma-sm",m.isActive?"bg-positive":"bg-negative"]),style:{width:"7px",height:"7px","border-radius":"50%"}},null,2)]),_:2},1032,["onClick"])),[[ve]])],4))),128))]),e(Se,{modelValue:h.value,"onUpdate:modelValue":g[7]||(g[7]=m=>h.value=m),"full-height":"",position:"right",persistent:"",square:"",class:"dialog"},{default:t(()=>[e(F,{class:"dialog-card column full-height"},{default:t(()=>[e($,{class:"q-pa-lg"},{default:t(()=>[a("div",Ct,y(b.value?"modify holiday":"create new holiday"),1)]),_:1}),e(Ee,{inset:""}),e($,{class:"col q-pa-lg scroll"},{default:t(()=>[a("div",Et,[a("div",At,[a("div",{class:Y(["text-caption text-uppercase q-mb-xs",s.name.type?"text-negative":"text-grey"])},y(s.name.type?s.name.msg:"name"),3),e(te,{modelValue:w.value,"onUpdate:modelValue":g[1]||(g[1]=m=>w.value=m),label:"Enter Name",outlined:"",error:s.name.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])]),a("div",St,[a("div",{class:Y(["text-caption text-uppercase q-mb-xs",s.date.type?"text-negative":"text-grey"])},y(s.date.type?s.date.msg:"date (YYYY-MM-DD)"),3),e(te,{outlined:"",modelValue:k.value,"onUpdate:modelValue":g[4]||(g[4]=m=>k.value=m),label:"Enter Date",error:s.date.type,"no-error-icon":!0},{default:t(()=>[e(Be,{cover:"","transition-show":"scale","transition-hide":"scale",ref_key:"popup",ref:o,class:"no-shadow custom-border radius-sm"},{default:t(()=>[e(ut,{modelValue:k.value,"onUpdate:modelValue":[g[2]||(g[2]=m=>k.value=m),g[3]||(g[3]=()=>{o.value.hide()})],mask:"YYYY-MM-DD"},null,8,["modelValue"])]),_:1},512)]),_:1},8,["modelValue","error"])]),a("div",Rt,[a("div",{class:Y(["text-caption text-uppercase q-mb-xs",s.name.type?"text-negative":"text-grey"])},y(s.multiplier.type?s.multiplier.msg:"multiplier"),3),e(te,{modelValue:d.value,"onUpdate:modelValue":g[5]||(g[5]=m=>d.value=m),label:"Enter Multiplier",outlined:"",error:s.multiplier.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])])])]),_:1}),e(Ae,{class:"q-pa-lg bg"},{default:t(()=>[a("div",Tt,[!b.value||f.value?(r(),K(z,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:ce})):ie("",!0),b.value?(r(),K(z,{key:1,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:f.value?"disable":"enable",onClick:i},null,8,["label"])):ie("",!0),e(z,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:g[6]||(g[6]=()=>{h.value=!1}),outline:""})])]),_:1}),e(ye,{showing:S.value},{default:t(()=>[e(F,{class:"no-shadow radius-md q-pa-md"},{default:t(()=>[e($,{class:"text-center"},{default:t(()=>[a("div",null,[e(pe,{color:"dark"})]),g[12]||(g[12]=a("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[12]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]),e(Ve,{class:"bg-white no-shadow q-mx-lg q-mb-md q-py-sm radius-xs text-grey"},{default:t(()=>[e(ze,null,{default:t(()=>[e(qe,{class:"text-caption text-uppercase"},{default:t(()=>g[13]||(g[13]=[a("div",null,"© 2025 WORKFORCE. All Rights Reserved.",-1)])),_:1,__:[13]}),e(te,{outlined:"",dense:"",debounce:"1000",modelValue:c.value,"onUpdate:modelValue":g[8]||(g[8]=m=>c.value=m),placeholder:"Search..."},{before:t(()=>[a("div",Ut,y(`page ${v.value.CurrentPage} of ${v.value.TotalPages}`),1)]),after:t(()=>[e(z,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-bar-left",disable:C.value<=1,onClick:I},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>g[14]||(g[14]=[H("First Page")])),_:1,__:[14]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-left-short",disable:C.value<=1,onClick:N},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>g[15]||(g[15]=[H("Previous")])),_:1,__:[15]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-right-short",disable:C.value>=v.value.TotalPages,onClick:ae},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>g[16]||(g[16]=[H("Next")])),_:1,__:[16]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-bar-right",disable:C.value>=v.value.TotalPages,onClick:Z},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>g[17]||(g[17]=[H("Last Page")])),_:1,__:[17]})]),_:1},8,["disable"])]),prepend:t(()=>[e(ue,{name:"bi-search",style:{"font-size":"1rem"}})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(De,{name:"glass-fade"},{default:t(()=>[re(a("div",Ft,[e(F,{class:"no-shadow radius-md q-pa-md"},{default:t(()=>[e($,{class:"text-center"},{default:t(()=>[a("div",null,[e(pe,{color:"dark"})]),g[18]||(g[18]=a("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[18]})]),_:1})],512),[[Le,E.value]])]),_:1})]))}},Dt={class:"card-grid"},Nt={class:"card-anim-wrapper"},Ot={key:0,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},jt={key:1,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},It={class:"text-subtitle2 text-uppercase"},Qt={class:"text-caption text-grey text-uppercase"},Mt={class:"text-h6 text-uppercase"},Ht={class:"row q-col-gutter-xs q-mb-md"},Wt={class:"col-4"},Bt={class:"q-mb-md"},Kt={class:"q-gutter-xs"},Yt={class:"row q-col-gutter-xs q-mb-md"},Gt={class:"col-2"},Jt={class:"col-2"},Xt={class:"q-gutter-sm"},Zt={class:"text-caption text-uppercase"},ea={id:"glass-overlay"},ta={__name:"SchoolComponent",setup(_e){$e();const h=l(!1),b=l(!1),S=l(!1),_=l(""),w=l(""),k=l(""),d=l(""),f=l(""),s=l(!1),P=Ce({name:{type:null,msg:""},type:{type:null,msg:""}}),x=()=>{let u=!1;return w.value?P.name.type=null:(P.name.type=!0,P.name.msg="required",u=!0),k.value?P.type.type=null:(P.type.type=!0,P.type.msg="required",u=!0),u&&T.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                <div class="text-caption">Something went wrong.</div>
            `}),!u},v=l([]),C=l({}),n=l(1),D=l(10),c=l(!1),X=l(""),ae=async()=>{c.value=!0;try{const{data:u}=await W.get("/school",{params:{Page:n.value,Limit:D.value,Filter:X.value||""}});v.value=u.data,C.value=u.meta}catch(u){console.error("Error fetching all data:",u),T.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{c.value=!1}};be(X,()=>{n.value=1,ae()});const N=()=>{n.value<C.value.TotalPages&&(n.value++,ae())},I=()=>{n.value>1&&(n.value--,ae())},Z=()=>{n.value>1&&(n.value=1,ae())},oe=()=>{n.value<C.value.TotalPages&&(n.value=C.value.TotalPages,ae())},le=()=>{de(),h.value=!0,b.value=!1},ne=async u=>{de(),h.value=!0,b.value=!0,_.value=u.id,w.value=u.name,k.value=u.type,d.value=u.website,f.value=u.contactNo,s.value=!!u.isActive},de=()=>{_.value="",w.value="",k.value="",d.value="",f.value="",s.value=!1,ce()},ce=()=>Object.values(P).forEach(u=>{u.type=null,u.msg=null}),q=async()=>{if(x()){S.value=!0;try{const u=_.value&&b?await W.post(`/school/${_.value}/update`,{name:w.value,type:k.value,website:d.value,contactNo:f.value}):await W.post("/school",{name:w.value,type:k.value,website:d.value,contactNo:f.value});h.value=!1,_.value&&b?i(u.data.school):ae(),T.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${u.data.message}<div>
            `})}catch(u){u.response&&u.response.data&&(V(u.response.data),T.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{S.value=!1}}},V=u=>{const g=Array.isArray(u)?u:u?.errors||[];Object.keys(P).forEach(m=>{P[m].type=null,P[m].msg=""}),g.forEach(m=>{P[m.path]!==void 0&&(P[m.path].type=!0,P[m.path].msg=m.msg)})},i=u=>{const g=v.value.findIndex(m=>m.id===u.id);g!==-1&&(v.value[g]=u)},p=async()=>{S.value=!0;try{const u=s.value?await W.post(`/school/${_.value}/disable`):await W.post(`/school/${_.value}/enable`);h.value=!1,i(u.data.school),T.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${u.data.message}<div>
            `})}catch(u){u.response&&u.response.data&&(V(u.response.data),T.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{S.value=!1}},o=l(["Private","Public","SUC","LUC"]);Fe(()=>{ae()});const E=l(!0);return we(()=>{setTimeout(()=>{E.value=!1},1e3)}),(u,g)=>(r(),A("div",null,[a("div",Dt,[a("div",Nt,[re((r(),K(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm",onClick:g[0]||(g[0]=m=>le())},{default:t(()=>[e($,null,{default:t(()=>[e(ue,{color:"grey",name:"bi-plus-circle",size:"xl"})]),_:1})]),_:1})),[[ve]])]),c.value?(r(),A("div",Ot,[e(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:t(()=>[e($,null,{default:t(()=>[e(pe,{color:"dark"}),g[8]||(g[8]=a("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))]),_:1,__:[8]})]),_:1})])):!c.value&&v.value.length===0?(r(),A("div",jt,[e(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:t(()=>[e($,null,{default:t(()=>g[9]||(g[9]=[a("div",{class:"text-caption text-uppercase text-grey"},"no data found",-1)])),_:1,__:[9]})]),_:1})])):ie("",!0),(r(!0),A(me,null,fe(v.value,(m,j)=>(r(),A("div",{key:`data-${m.id}`,class:"card-anim-wrapper",style:ke({animationDelay:`${j*120}ms`})},[re((r(),K(F,{onClick:se=>ne(m),class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:t(()=>[e($,null,{default:t(()=>[a("div",It,y(m.name),1)]),_:2},1024),e($,null,{default:t(()=>[a("div",Qt,y(m.type),1)]),_:2},1024),a("div",{class:Y(["absolute-top-left q-ma-sm",m.isActive?"bg-positive":"bg-negative"]),style:{width:"7px",height:"7px","border-radius":"50%"}},null,2)]),_:2},1032,["onClick"])),[[ve]])],4))),128))]),e(Se,{modelValue:h.value,"onUpdate:modelValue":g[6]||(g[6]=m=>h.value=m),"full-height":"",position:"right",persistent:"",square:"",class:"dialog"},{default:t(()=>[e(F,{class:"dialog-card column full-height"},{default:t(()=>[e($,{class:"q-pa-lg"},{default:t(()=>[a("div",Mt,y(b.value?"modify school":"create new school"),1)]),_:1}),e(Ee,{inset:""}),e($,{class:"col q-pa-lg scroll"},{default:t(()=>[a("div",Ht,[a("div",Wt,[a("div",{class:Y(["text-caption text-uppercase",P.name.type?"text-negative text-italic":"text-grey"])},y(P.name.type?P.name.msg:"name"),3),e(te,{modelValue:w.value,"onUpdate:modelValue":g[1]||(g[1]=m=>w.value=m),label:"Enter Name",outlined:"",error:P.name.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])])]),a("div",Bt,[a("div",{class:Y(["text-caption text-uppercase",P.type.type?"text-negative text-italic":"text-grey"])},y(P.type.type?P.type.msg:"type"),3),a("div",Kt,[(r(!0),A(me,null,fe(o.value,m=>(r(),K(Je,{"right-label":"",modelValue:k.value,"onUpdate:modelValue":g[2]||(g[2]=j=>k.value=j),label:m,val:m,"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",class:"text-capitalize"},null,8,["modelValue","label","val"]))),256))])]),a("div",Yt,[a("div",Gt,[g[10]||(g[10]=a("div",{class:"text-caption text-uppercase text-grey"},"website",-1)),e(te,{modelValue:d.value,"onUpdate:modelValue":g[3]||(g[3]=m=>d.value=m),label:"Enter Website",outlined:"","input-class":"text-capitalize"},null,8,["modelValue"])]),a("div",Jt,[g[11]||(g[11]=a("div",{class:"text-caption text-uppercase text-grey"},"contact no.",-1)),e(te,{modelValue:f.value,"onUpdate:modelValue":g[4]||(g[4]=m=>f.value=m),label:"Enter Contact No.",outlined:"","input-class":"text-capitalize"},null,8,["modelValue"])])])]),_:1}),e(Ae,{class:"q-pa-lg bg"},{default:t(()=>[a("div",Xt,[!b.value||s.value?(r(),K(z,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:q})):ie("",!0),b.value?(r(),K(z,{key:1,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:s.value?"disable":"enable",onClick:p},null,8,["label"])):ie("",!0),e(z,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:g[5]||(g[5]=()=>{h.value=!1}),outline:""})])]),_:1}),e(ye,{showing:S.value},{default:t(()=>[e(F,{class:"no-shadow radius-md q-pa-md"},{default:t(()=>[e($,{class:"text-center"},{default:t(()=>[a("div",null,[e(pe,{color:"dark"})]),g[12]||(g[12]=a("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[12]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]),e(Ve,{class:"bg-white no-shadow q-mx-lg q-mb-md q-py-sm radius-xs text-grey"},{default:t(()=>[e(ze,null,{default:t(()=>[e(qe,{class:"text-caption text-uppercase"},{default:t(()=>g[13]||(g[13]=[a("div",null,"© 2025 WORKFORCE. All Rights Reserved.",-1)])),_:1,__:[13]}),e(te,{outlined:"",dense:"",debounce:"1000",modelValue:X.value,"onUpdate:modelValue":g[7]||(g[7]=m=>X.value=m),placeholder:"Search..."},{before:t(()=>[a("div",Zt,y(`page ${C.value.CurrentPage} of ${C.value.TotalPages}`),1)]),after:t(()=>[e(z,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-bar-left",disable:n.value<=1,onClick:Z},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>g[14]||(g[14]=[H("First Page")])),_:1,__:[14]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-left-short",disable:n.value<=1,onClick:I},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>g[15]||(g[15]=[H("Previous")])),_:1,__:[15]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-right-short",disable:n.value>=C.value.TotalPages,onClick:N},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>g[16]||(g[16]=[H("Next")])),_:1,__:[16]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-bar-right",disable:n.value>=C.value.TotalPages,onClick:oe},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>g[17]||(g[17]=[H("Last Page")])),_:1,__:[17]})]),_:1},8,["disable"])]),prepend:t(()=>[e(ue,{name:"bi-search",style:{"font-size":"1rem"}})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(De,{name:"glass-fade"},{default:t(()=>[re(a("div",ea,[e(F,{class:"no-shadow radius-md q-pa-md"},{default:t(()=>[e($,{class:"text-center"},{default:t(()=>[a("div",null,[e(pe,{color:"dark"})]),g[18]||(g[18]=a("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[18]})]),_:1})],512),[[Le,E.value]])]),_:1})]))}},aa={class:"card-grid"},la={class:"card-anim-wrapper"},sa={class:"text-subtitle2 text-uppercase"},ia={class:"text-h6 text-uppercase"},oa={class:"row q-col-gutter-xs q-mb-md"},ra={class:"col-3"},na={class:"q-mb-xs"},da={key:1,class:"text-capitalize"},ua={class:"q-gutter-sm"},ca={class:"text-center"},pa={class:"text-caption text-uppercase"},va={__name:"IncidentClassComponent",setup(_e){$e();const h=l(!1),b=l(!1),S=l(!1),_=l(""),w=l(""),k=l(!1),d=Ce({name:{type:null,messages:[]}}),f=()=>{let q=!1;return Object.keys(d).forEach(V=>{d[V].type=null,d[V].messages=[]}),w.value?d.name.type=null:(d.name.type=!0,d.name.messages.push("Name is required"),q=!0),q&&T.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                <div class="text-caption">Something went wrong.</div>
            `}),!q},s=l([]),P=l({}),x=l(1),v=l(10),C=l(!1),n=l(""),D=async()=>{C.value=!0;try{const{data:q}=await W.get("/incidentclass",{params:{Page:x.value,Limit:v.value,Filter:n.value||""}});s.value=q.data,P.value=q.meta,s.value.length||T.fire({icon:"info",html:`
                <div class="text-h6 text-bold text-uppercase">Notice</div>
                <div class="text-caption text-capitalize;">No records found!</div>
                `})}catch(q){console.error("Error fetching all data:",q),T.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{C.value=!1}};be(n,()=>{x.value=1,D()});const c=()=>{x.value<P.value.TotalPages&&(x.value++,D())},X=()=>{x.value>1&&(x.value--,D())},ae=()=>{x.value>1&&(x.value=1,D())},N=()=>{x.value<P.value.TotalPages&&(x.value=P.value.TotalPages,D())},I=()=>{oe(),h.value=!0,b.value=!1},Z=q=>{oe(),h.value=!0,b.value=!0,_.value=q.id,w.value=q.name,k.value=!!q.isActive},oe=()=>{_.value="",w.value="",k.value=!1,d.name.type=null},le=async()=>{if(f()){S.value=!0;try{const q=_.value&&b?await W.post(`/incidentclass/${_.value}/update`,{name:w.value}):await W.post("/incidentclass",{name:w.value});h.value=!1,_.value&&b?de(q.data.incidentclass):D(),T.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${q.data.message}<div>
            `})}catch(q){q.response&&q.response.data&&(ne(q.response.data),T.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{S.value=!1}}},ne=q=>{const V=Array.isArray(q)?q:q?.errors||[];Object.keys(d).forEach(i=>{d[i].type=null,d[i].messages=[]}),V.forEach(i=>{d[i.path]!==void 0&&(d[i.path].type=!0,d[i.path].messages.push(i.msg))})},de=q=>{const V=s.value.findIndex(i=>i.id===q.id);V!==-1&&(s.value[V]=q)},ce=async()=>{S.value=!0;try{const q=k.value?await W.post(`/incidentclass/${_.value}/disable`):await W.post(`/incidentclass/${_.value}/enable`);h.value=!1,de(q.data.incidentclass),T.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${q.data.message}<div>
            `})}catch(q){q.response&&q.response.data&&(ne(q.response.data),T.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{S.value=!1}};return we(()=>{D()}),(q,V)=>(r(),A("div",null,[a("div",aa,[a("div",la,[re((r(),K(F,{key:"data-add",class:"card card-hover-animate flex flex-center q-pa-md no-shadow cursor-pointer radius-sm",onClick:V[0]||(V[0]=i=>I())},{default:t(()=>[e($,{class:"text-center"},{default:t(()=>[e(Xe,{size:"75px","font-size":"52px",color:"grey","text-color":"white",icon:"add"})]),_:1})]),_:1})),[[ve]])]),(r(!0),A(me,null,fe(s.value,(i,p)=>(r(),A("div",{key:`data-${i.id}`,class:"card-anim-wrapper",style:ke({animationDelay:`${p*120}ms`})},[re((r(),K(F,{onClick:o=>Z(i),class:"card card-hover-animate flex flex-center q-pa-md no-shadow cursor-pointer radius-sm"},{default:t(()=>[e($,{class:"text-center full-width"},{default:t(()=>[a("div",sa,y(i.name),1)]),_:2},1024),a("div",{class:Y(["absolute-top-left q-ma-sm",i.isActive?"bg-positive":"bg-negative"]),style:{width:"7px",height:"7px","border-radius":"50%"}},null,2)]),_:2},1032,["onClick"])),[[ve]])],4))),128))]),e(Se,{modelValue:h.value,"onUpdate:modelValue":V[3]||(V[3]=i=>h.value=i),"full-height":"",position:"right",persistent:"",square:"",class:"dialog"},{default:t(()=>[e(F,{class:"dialog-card column full-height"},{default:t(()=>[e($,{class:"q-pa-lg"},{default:t(()=>[a("div",ia,y(b.value?"modify incident class":"create new incident class"),1)]),_:1}),e(Ee,{inset:""}),e($,{class:"col q-pa-lg scroll"},{default:t(()=>[a("div",oa,[a("div",ra,[a("div",na,[V[6]||(V[6]=a("span",{class:"text-caption text-uppercase text-grey q-mr-sm"},"class name",-1)),e(ue,{name:d.name.type?"error":"info",color:d.name.type?"negative":"grey",class:"cursor-pointer",size:"xs"},{default:t(()=>[e(J,{anchor:"top middle",self:"center middle",class:Y(d.name.type?"bg-negative":"bg-grey")},{default:t(()=>[d.name.type?(r(!0),A(me,{key:0},fe(d.name.messages,(i,p)=>(r(),A("div",{key:p,class:"text-capitalize"},[e(ue,{name:"error",color:"white",size:"xs"}),H(" "+y(i||"Invalid input"),1)]))),128)):(r(),A("div",da,[e(ue,{name:"info",color:"white",size:"xs"}),V[5]||(V[5]=H(" Required "))]))]),_:1},8,["class"])]),_:1},8,["name","color"])]),e(te,{modelValue:w.value,"onUpdate:modelValue":V[1]||(V[1]=i=>w.value=i),outlined:"",error:d.name.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])])])]),_:1}),e(Ae,{class:"q-pa-lg bg"},{default:t(()=>[a("div",ua,[!b.value||k.value?(r(),K(z,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:le})):ie("",!0),b.value?(r(),K(z,{key:1,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:k.value?"disable":"enable",onClick:ce},null,8,["label"])):ie("",!0),e(z,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:V[2]||(V[2]=()=>{h.value=!1}),outline:""})])]),_:1}),e(ye,{showing:S.value},{default:t(()=>[a("div",ca,[e(Te,{size:"md"}),V[7]||(V[7]=a("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))])]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]),e(Ve,{class:"bg-white no-shadow q-mx-lg q-mb-md q-py-sm radius-xs text-grey"},{default:t(()=>[e(ze,null,{default:t(()=>[e(qe,{class:"text-caption text-uppercase"},{default:t(()=>V[8]||(V[8]=[a("div",null,"© 2025 WORKFORCE. All Rights Reserved.",-1)])),_:1,__:[8]}),e(te,{outlined:"",dense:"",debounce:"1000",modelValue:n.value,"onUpdate:modelValue":V[4]||(V[4]=i=>n.value=i),placeholder:"Search..."},{before:t(()=>[a("div",pa,y(`page ${P.value.CurrentPage} of ${P.value.TotalPages}`),1)]),after:t(()=>[e(z,{unelevated:"",size:"xs",round:"",color:"primary",icon:"first_page",disable:x.value<=1,onClick:ae},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>V[9]||(V[9]=[H("First Page")])),_:1,__:[9]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"xs",round:"",color:"primary",icon:"arrow_back",disable:x.value<=1,onClick:X},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>V[10]||(V[10]=[H("Previous")])),_:1,__:[10]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"xs",round:"",color:"primary",icon:"arrow_forward",disable:x.value>=P.value.TotalPages,onClick:c},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>V[11]||(V[11]=[H("Next")])),_:1,__:[11]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"xs",round:"",color:"primary",icon:"last_page",disable:x.value>=P.value.TotalPages,onClick:N},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>V[12]||(V[12]=[H("Last Page")])),_:1,__:[12]})]),_:1},8,["disable"])]),prepend:t(()=>[e(ue,{name:"search",style:{"font-size":"1rem"}})]),_:1},8,["modelValue"]),e(ye,{showing:C.value},{default:t(()=>[e(Te,{size:"md"})]),_:1},8,["showing"])]),_:1})]),_:1})]))}},ma={class:"card-grid"},fa={class:"card-anim-wrapper"},xa={class:"text-subtitle2 text-uppercase"},ga={class:"text-h6 text-uppercase"},ya={class:"row q-col-gutter-xs q-mb-md"},ha={class:"col-3"},_a={class:"q-mb-xs"},ba={key:1,class:"text-capitalize"},wa={class:"q-gutter-sm"},ka={class:"text-center"},$a={class:"text-caption text-uppercase"},za={__name:"IncidentRoleComponent",setup(_e){$e();const h=l(!1),b=l(!1),S=l(!1),_=l(""),w=l(""),k=l(!1),d=Ce({name:{type:null,messages:null}}),f=()=>{let q=!1;return Object.keys(d).forEach(V=>{d[V].type=null,d[V].messages=[]}),w.value?d.name.type=null:(d.name.type=!0,d.name.messages.push("Name is required"),q=!0),q&&T.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                <div class="text-caption">Something went wrong.</div>
            `}),!q},s=l([]),P=l({}),x=l(1),v=l(10),C=l(!1),n=l(""),D=async()=>{C.value=!0;try{const{data:q}=await W.get("/incidentrole",{params:{Page:x.value,Limit:v.value,Filter:n.value||""}});s.value=q.data,P.value=q.meta,s.value.length||T.fire({icon:"info",html:`
                <div class="text-h6 text-bold text-uppercase">Notice</div>
                <div class="text-caption text-capitalize;">No records found!</div>
                `})}catch(q){console.error("Error fetching all data:",q),T.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{C.value=!1}};be(n,()=>{x.value=1,D()});const c=()=>{x.value<P.value.TotalPages&&(x.value++,D())},X=()=>{x.value>1&&(x.value--,D())},ae=()=>{x.value>1&&(x.value=1,D())},N=()=>{x.value<P.value.TotalPages&&(x.value=P.value.TotalPages,D())},I=()=>{oe(),h.value=!0,b.value=!1},Z=q=>{oe(),h.value=!0,b.value=!0,_.value=q.id,w.value=q.name,k.value=!!q.isActive},oe=()=>{_.value="",w.value="",k.value=!1,d.name.type=null},le=async()=>{if(f()){S.value=!0;try{const q=_.value&&b?await W.post(`/incidentrole/${_.value}/update`,{name:w.value}):await W.post("/incidentrole",{name:w.value});h.value=!1,_.value&&b?de(q.data.incidentrole):D(),T.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${q.data.message}<div>
            `})}catch(q){q.response&&q.response.data&&(ne(q.response.data),T.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{S.value=!1}}},ne=q=>{const V=Array.isArray(q)?q:q?.errors||[];Object.keys(d).forEach(i=>{d[i].type=null,d[i].messages=[]}),V.forEach(i=>{d[i.path]!==void 0&&(d[i.path].type=!0,d[i.path].messages.push(i.msg))})},de=q=>{const V=s.value.findIndex(i=>i.id===q.id);V!==-1&&(s.value[V]=q)},ce=async()=>{S.value=!0;try{const q=k.value?await W.post(`/incidentrole/${_.value}/disable`):await W.post(`/incidentrole/${_.value}/enable`);h.value=!1,de(q.data.incidentrole),T.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${q.data.message}<div>
            `})}catch(q){q.response&&q.response.data&&(ne(q.response.data),T.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{S.value=!1}};return we(()=>{D()}),(q,V)=>(r(),A("div",null,[a("div",ma,[a("div",fa,[re((r(),K(F,{key:"data-add",class:"card card-hover-animate flex flex-center q-pa-md no-shadow cursor-pointer radius-sm",onClick:V[0]||(V[0]=i=>I())},{default:t(()=>[e($,{class:"text-center"},{default:t(()=>[e(Xe,{size:"75px","font-size":"52px",color:"grey","text-color":"white",icon:"add"})]),_:1})]),_:1})),[[ve]])]),(r(!0),A(me,null,fe(s.value,(i,p)=>(r(),A("div",{key:`data-${i.id}`,class:"card-anim-wrapper",style:ke({animationDelay:`${p*120}ms`})},[re((r(),K(F,{onClick:o=>Z(i),class:"card card-hover-animate flex flex-center q-pa-md no-shadow cursor-pointer radius-sm"},{default:t(()=>[e($,{class:"text-center full-width"},{default:t(()=>[a("div",xa,y(i.name),1)]),_:2},1024),a("div",{class:Y(["absolute-top-left q-ma-sm",i.isActive?"bg-positive":"bg-negative"]),style:{width:"7px",height:"7px","border-radius":"50%"}},null,2)]),_:2},1032,["onClick"])),[[ve]])],4))),128))]),e(Se,{modelValue:h.value,"onUpdate:modelValue":V[3]||(V[3]=i=>h.value=i),"full-height":"",position:"right",persistent:"",square:"",class:"dialog"},{default:t(()=>[e(F,{class:"dialog-card column full-height"},{default:t(()=>[e($,{class:"q-pa-lg"},{default:t(()=>[a("div",ga,y(b.value?"modify incident role":"create new incident role"),1)]),_:1}),e(Ee,{inset:""}),e($,{class:"col q-pa-lg scroll"},{default:t(()=>[a("div",ya,[a("div",ha,[a("div",_a,[V[6]||(V[6]=a("span",{class:"text-caption text-uppercase text-grey q-mr-sm"},"role name",-1)),e(ue,{name:d.name.type?"error":"info",color:d.name.type?"negative":"grey",class:"cursor-pointer",size:"xs"},{default:t(()=>[e(J,{anchor:"top middle",self:"center middle",class:Y(d.name.type?"bg-negative":"bg-grey")},{default:t(()=>[d.name.type?(r(!0),A(me,{key:0},fe(d.name.messages,(i,p)=>(r(),A("div",{key:p,class:"text-capitalize"},[e(ue,{name:"error",color:"white",size:"xs"}),H(" "+y(i||"Invalid input"),1)]))),128)):(r(),A("div",ba,[e(ue,{name:"info",color:"white",size:"xs"}),V[5]||(V[5]=H(" Required "))]))]),_:1},8,["class"])]),_:1},8,["name","color"])]),e(te,{modelValue:w.value,"onUpdate:modelValue":V[1]||(V[1]=i=>w.value=i),outlined:"",error:d.name.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])])])]),_:1}),e(Ae,{class:"q-pa-lg bg"},{default:t(()=>[a("div",wa,[!b.value||k.value?(r(),K(z,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:le})):ie("",!0),b.value?(r(),K(z,{key:1,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:k.value?"disable":"enable",onClick:ce},null,8,["label"])):ie("",!0),e(z,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:V[2]||(V[2]=()=>{h.value=!1}),outline:""})])]),_:1}),e(ye,{showing:S.value},{default:t(()=>[a("div",ka,[e(Te,{size:"md"}),V[7]||(V[7]=a("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))])]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]),e(Ve,{class:"bg-white no-shadow q-mx-lg q-mb-md q-py-sm radius-xs text-grey"},{default:t(()=>[e(ze,null,{default:t(()=>[e(qe,{class:"text-caption text-uppercase"},{default:t(()=>V[8]||(V[8]=[a("div",null,"© 2025 WORKFORCE. All Rights Reserved.",-1)])),_:1,__:[8]}),e(te,{outlined:"",dense:"",debounce:"1000",modelValue:n.value,"onUpdate:modelValue":V[4]||(V[4]=i=>n.value=i),placeholder:"Search..."},{before:t(()=>[a("div",$a,y(`page ${P.value.CurrentPage} of ${P.value.TotalPages}`),1)]),after:t(()=>[e(z,{unelevated:"",size:"xs",round:"",color:"primary",icon:"first_page",disable:x.value<=1,onClick:ae},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>V[9]||(V[9]=[H("First Page")])),_:1,__:[9]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"xs",round:"",color:"primary",icon:"arrow_back",disable:x.value<=1,onClick:X},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>V[10]||(V[10]=[H("Previous")])),_:1,__:[10]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"xs",round:"",color:"primary",icon:"arrow_forward",disable:x.value>=P.value.TotalPages,onClick:c},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>V[11]||(V[11]=[H("Next")])),_:1,__:[11]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"xs",round:"",color:"primary",icon:"last_page",disable:x.value>=P.value.TotalPages,onClick:N},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>V[12]||(V[12]=[H("Last Page")])),_:1,__:[12]})]),_:1},8,["disable"])]),prepend:t(()=>[e(ue,{name:"search",style:{"font-size":"1rem"}})]),_:1},8,["modelValue"]),e(ye,{showing:C.value},{default:t(()=>[e(Te,{size:"md"})]),_:1},8,["showing"])]),_:1})]),_:1})]))}},qa={class:"card-grid"},Va={class:"card-anim-wrapper"},Pa={key:0,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},Ca={key:1,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},Ea={class:"text-subtitle2 text-uppercase"},Aa={class:"text-caption text-grey"},Sa={class:"text-h6 text-uppercase"},Ra={class:"row q-col-gutter-xs q-mb-md"},Ta={class:"col-1"},Ua={class:"col-3"},Fa={class:"q-gutter-sm"},La={class:"text-caption text-uppercase"},Da={id:"glass-overlay"},Na={__name:"DepartmentComponent",setup(_e){$e();const h=l(!1),b=l(!1),S=l(!1),_=l(""),w=l(""),k=l(""),d=l(!1),f=Ce({name:{type:null,msg:""},alias:{type:null,msg:""}}),s=()=>{let p=!1;return w.value?f.name.type=null:(f.name.type=!0,f.name.msg="required",p=!0),k.value?f.alias.type=null:(f.alias.type=!0,f.alias.msg="required",p=!0),p&&T.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                <div class="text-caption">Something went wrong.</div>
            `}),!p},P=l([]),x=l({}),v=l(1),C=l(10),n=l(!1),D=l(""),c=async()=>{n.value=!0;try{const{data:p}=await W.get("/department",{params:{Page:v.value,Limit:C.value,Filter:D.value||""}});P.value=p.data,x.value=p.meta}catch(p){console.error("Error fetching all data:",p),T.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{n.value=!1}};be(D,()=>{v.value=1,c()});const X=()=>{v.value<x.value.TotalPages&&(v.value++,c())},ae=()=>{v.value>1&&(v.value--,c())},N=()=>{v.value>1&&(v.value=1,c())},I=()=>{v.value<x.value.TotalPages&&(v.value=x.value.TotalPages,c())},Z=()=>{le(),h.value=!0,b.value=!1},oe=p=>{le(),h.value=!0,b.value=!0,_.value=p.id,w.value=p.name,k.value=p.alias,d.value=!!p.is_active},le=()=>{_.value="",w.value="",k.value="",d.value=!1,ne()},ne=()=>{Object.keys(f).forEach(p=>{f[p].type=null,f[p].msg=""})},de=async()=>{if(s()){S.value=!0;try{const p=_.value&&b?await W.post(`/department/${_.value}/update`,{name:w.value,alias:k.value}):await W.post("/department",{name:w.value,alias:k.value});h.value=!1,c(),T.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${p.data.message}<div>
            `})}catch(p){p.response&&p.response.data&&(ce(p.response.data),T.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{S.value=!1}}},ce=p=>{const o=Array.isArray(p)?p:p?.errors||[];Object.keys(f).forEach(E=>{f[E].type=null,f[E].messages=[]}),o.forEach(E=>{f[E.path]!==void 0&&(f[E.path].type=!0,f[E.path].messages.push(E.msg))})},q=p=>{const o=P.value.findIndex(E=>E.id===p.id);o!==-1&&(P.value[o]=p)},V=async()=>{S.value=!0;try{const p=d.value?await W.post(`/department/${_.value}/disable`):await W.post(`/department/${_.value}/enable`);h.value=!1,q(p.data.department),T.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${p.data.message}<div>
            `})}catch(p){p.response&&p.response.data&&(ce(p.response.data),T.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{S.value=!1}};Fe(()=>{c()});const i=l(!0);return we(()=>{setTimeout(()=>{i.value=!1},1e3)}),(p,o)=>(r(),A("div",null,[a("div",qa,[a("div",Va,[re((r(),K(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm",onClick:o[0]||(o[0]=E=>Z())},{default:t(()=>[e($,null,{default:t(()=>[e(ue,{name:"bi-plus-circle",color:"grey",size:"xl"})]),_:1})]),_:1})),[[ve]])]),n.value?(r(),A("div",Pa,[e(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:t(()=>[e($,null,{default:t(()=>[e(pe,{color:"dark"}),o[6]||(o[6]=a("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))]),_:1,__:[6]})]),_:1})])):!n.value&&P.value.length===0?(r(),A("div",Ca,[e(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:t(()=>[e($,null,{default:t(()=>o[7]||(o[7]=[a("div",{class:"text-caption text-uppercase text-grey"},"no data found",-1)])),_:1,__:[7]})]),_:1})])):ie("",!0),(r(!0),A(me,null,fe(P.value,(E,u)=>(r(),A("div",{key:`data-${E.id}`,class:"card-anim-wrapper",style:ke({animationDelay:`${u*120}ms`})},[re((r(),K(F,{onClick:g=>oe(E),class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:t(()=>[e($,null,{default:t(()=>[a("div",Ea,y(E.name),1)]),_:2},1024),e($,null,{default:t(()=>[a("div",Aa,y(E.alias),1)]),_:2},1024),a("div",{class:Y(["absolute-top-left q-ma-sm",E.is_active?"bg-positive":"bg-negative"]),style:{width:"7px",height:"7px","border-radius":"50%"}},null,2)]),_:2},1032,["onClick"])),[[ve]])],4))),128))]),e(Se,{modelValue:h.value,"onUpdate:modelValue":o[4]||(o[4]=E=>h.value=E),"full-height":"",position:"right",persistent:"",square:"",class:"dialog"},{default:t(()=>[e(F,{class:"dialog-card column full-height"},{default:t(()=>[e($,{class:"q-pa-lg"},{default:t(()=>[a("div",Sa,y(b.value?"modify department":"create new department"),1)]),_:1}),e(Ee,{inset:""}),e($,{class:"col q-pa-lg scroll"},{default:t(()=>[a("div",Ra,[a("div",Ta,[a("div",{class:Y(["text-caption text-uppercase q-mb-xs",f.alias.type?"text-negative":"text-grey"])},y(f.alias.type?f.alias.msg:"code"),3),e(te,{modelValue:k.value,"onUpdate:modelValue":o[1]||(o[1]=E=>k.value=E),label:"Enter Code",outlined:"",error:f.alias.type,"no-error-icon":!0,class:"text-capitalize"},null,8,["modelValue","error"])]),a("div",Ua,[a("div",{class:Y(["text-caption text-uppercase q-mb-xs",f.name.type?"text-negative":"text-grey"])},y(f.name.type?f.name.msg:"name"),3),e(te,{modelValue:w.value,"onUpdate:modelValue":o[2]||(o[2]=E=>w.value=E),label:"Enter Name",outlined:"",error:f.name.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])])])]),_:1}),e(Ae,{class:"q-pa-lg bg"},{default:t(()=>[a("div",Fa,[!b.value||d.value?(r(),K(z,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:de})):ie("",!0),b.value?(r(),K(z,{key:1,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:d.value?"disable":"enable",onClick:V},null,8,["label"])):ie("",!0),e(z,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:o[3]||(o[3]=()=>{h.value=!1}),outline:""})])]),_:1}),e(ye,{showing:S.value},{default:t(()=>[e(F,{class:"no-shadow radius-md q-pa-md"},{default:t(()=>[e($,{class:"text-center"},{default:t(()=>[a("div",null,[e(pe,{color:"dark"})]),o[8]||(o[8]=a("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[8]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]),e(Ve,{class:"bg-white no-shadow q-mx-lg q-mb-md q-py-sm radius-xs text-grey"},{default:t(()=>[e(ze,null,{default:t(()=>[e(qe,{class:"text-caption text-uppercase"},{default:t(()=>o[9]||(o[9]=[a("div",null,"© 2025 WORKFORCE. All Rights Reserved.",-1)])),_:1,__:[9]}),e(te,{outlined:"",dense:"",debounce:"1000",modelValue:D.value,"onUpdate:modelValue":o[5]||(o[5]=E=>D.value=E),placeholder:"Search..."},{before:t(()=>[a("div",La,y(`page ${x.value.CurrentPage} of ${x.value.TotalPages}`),1)]),after:t(()=>[e(z,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-bar-left",disable:v.value<=1,onClick:N},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>o[10]||(o[10]=[H("First Page")])),_:1,__:[10]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-left-short",disable:v.value<=1,onClick:ae},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>o[11]||(o[11]=[H("Previous")])),_:1,__:[11]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-right-short",disable:v.value>=x.value.TotalPages,onClick:X},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>o[12]||(o[12]=[H("Next")])),_:1,__:[12]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-bar-right",disable:v.value>=x.value.TotalPages,onClick:I},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>o[13]||(o[13]=[H("Last Page")])),_:1,__:[13]})]),_:1},8,["disable"])]),prepend:t(()=>[e(ue,{name:"search",style:{"font-size":"1rem"}})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(De,{name:"glass-fade"},{default:t(()=>[re(a("div",Da,[e(F,{class:"no-shadow radius-md q-pa-md"},{default:t(()=>[e($,{class:"text-center"},{default:t(()=>[a("div",null,[e(pe,{color:"dark"})]),o[14]||(o[14]=a("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[14]})]),_:1})],512),[[Le,i.value]])]),_:1})]))}},Oa={class:"card-grid"},ja={class:"card-anim-wrapper"},Ia={key:0,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},Qa={key:1,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},Ma={class:"text-subtitle2 text-uppercase"},Ha={class:"text-h6 text-uppercase"},Wa={class:"row q-col-gutter-xs q-mb-md"},Ba={class:"col-3"},Ka={class:"q-mb-xs"},Ya={class:"row q-col-gutter-xs q-mb-md"},Ga={class:"col-3"},Ja={class:"q-mb-xs"},Xa={class:"q-gutter-sm"},Za={class:"text-center"},el={class:"text-caption text-uppercase"},tl={__name:"CompanyComponent",setup(_e){$e();const h=l(!1),b=l(!1),S=l(!1),_=l(""),w=l(""),k=l(""),d=l(!1),f=Ce({name:{type:null,msg:""},description:{type:null,msg:""}}),s=()=>{let i=!1;return w.value?f.name.type=null:(f.name.type=!0,f.name.msg="Name is required",i=!0),k.value?f.description.type=null:(f.description.type=!0,f.description.msg="description is required",i=!0),i&&T.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                <div class="text-caption">Something went wrong.</div>
            `}),!i},P=l([]),x=l({}),v=l(1),C=l(10),n=l(!1),D=l(""),c=async()=>{n.value=!0;try{const{data:i}=await W.get("/company",{params:{Page:v.value,Limit:C.value,Filter:D.value||""}});P.value=i.data,x.value=i.meta}catch(i){console.error("Error fetching all data:",i),T.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{n.value=!1}};be(D,()=>{v.value=1,c()});const X=()=>{v.value<x.value.TotalPages&&(v.value++,c())},ae=()=>{v.value>1&&(v.value--,c())},N=()=>{v.value>1&&(v.value=1,c())},I=()=>{v.value<x.value.TotalPages&&(v.value=x.value.TotalPages,c())},Z=()=>{le(),h.value=!0,b.value=!1},oe=i=>{le(),h.value=!0,b.value=!0,_.value=i.id,w.value=i.name,k.value=i.description,d.value=!!i.is_active},le=()=>{_.value="",w.value="",k.value="",d.value=!1,ne()},ne=()=>{Object.keys(f).forEach(i=>{f[i].type=null,f[i].msg=""})},de=async()=>{if(s()){S.value=!0;try{const i=_.value&&b?await W.post(`/company/${_.value}/update`,{name:w.value,description:k.value}):await W.post("/company",{name:w.value,description:k.value});h.value=!1,_.value&&b?q(i.data.company):c(),T.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${i.data.message}<div>
            `})}catch(i){i.response&&i.response.data&&(ce(i.response.data),T.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{S.value=!1}}},ce=i=>{const p=Array.isArray(i)?i:i?.errors||[];Object.keys(f).forEach(o=>{f[o].type=null,f[o].messages=[]}),p.forEach(o=>{f[o.path]!==void 0&&(f[o.path].type=!0,f[o.path].messages.push(o.msg))})},q=i=>{const p=P.value.findIndex(o=>o.id===i.id);p!==-1&&(P.value[p]=i)},V=async()=>{S.value=!0;try{const i=d.value?await W.post(`/company/${_.value}/disable`):await W.post(`/company/${_.value}/enable`);h.value=!1,q(i.data.company),T.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${i.data.message}<div>
            `})}catch(i){i.response&&i.response.data&&(ce(i.response.data),T.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{S.value=!1}};return we(()=>{c()}),(i,p)=>(r(),A("div",null,[a("div",Oa,[a("div",ja,[re((r(),K(F,{key:"data-add",class:"card card-hover-animate flex flex-center q-pa-md no-shadow cursor-pointer radius-sm",onClick:p[0]||(p[0]=o=>Z())},{default:t(()=>[e($,{class:"text-center"},{default:t(()=>[e(Xe,{size:"75px","font-size":"52px",color:"grey","text-color":"white",icon:"add"})]),_:1})]),_:1})),[[ve]])]),n.value?(r(),A("div",Ia,[e(F,{key:"data-add",class:"card card-hover-animate flex flex-center q-pa-md no-shadow cursor-pointer radius-sm"},{default:t(()=>[e($,{class:"text-center"},{default:t(()=>[e(Te,{size:"md"}),p[6]||(p[6]=a("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))]),_:1,__:[6]})]),_:1})])):!n.value&&P.value.length===0?(r(),A("div",Qa,[e(F,{key:"data-add",class:"card card-hover-animate flex flex-center q-pa-md no-shadow cursor-pointer radius-sm"},{default:t(()=>[e($,{class:"text-center"},{default:t(()=>p[7]||(p[7]=[a("div",{class:"text-caption text-uppercase text-grey"},"no data found",-1)])),_:1,__:[7]})]),_:1})])):ie("",!0),(r(!0),A(me,null,fe(P.value,(o,E)=>(r(),A("div",{key:`data-${o.id}`,class:"card-anim-wrapper",style:ke({animationDelay:`${E*120}ms`})},[re((r(),K(F,{onClick:u=>oe(o),class:"card card-hover-animate flex flex-center q-pa-md no-shadow cursor-pointer radius-sm"},{default:t(()=>[e($,{class:"text-center full-width"},{default:t(()=>[a("div",Ma,y(o.name),1)]),_:2},1024),a("div",{class:Y(["absolute-top-left q-ma-sm",o.is_active?"bg-positive":"bg-negative"]),style:{width:"7px",height:"7px","border-radius":"50%"}},null,2)]),_:2},1032,["onClick"])),[[ve]])],4))),128))]),e(Se,{modelValue:h.value,"onUpdate:modelValue":p[4]||(p[4]=o=>h.value=o),"full-height":"",position:"right",persistent:"",square:"",class:"dialog"},{default:t(()=>[e(F,{class:"dialog-card column full-height"},{default:t(()=>[e($,{class:"q-pa-lg"},{default:t(()=>[a("div",Ha,y(b.value?"modify company":"create new company"),1)]),_:1}),e(Ee,{inset:""}),e($,{class:"col q-pa-lg scroll"},{default:t(()=>[a("div",Wa,[a("div",Ba,[a("div",Ka,[a("span",{class:Y(["text-caption text-uppercase",f.name.msg?"text-negative":"text-grey"])},y(f.name.msg?f.name.msg:"company name"),3)]),e(te,{modelValue:w.value,"onUpdate:modelValue":p[1]||(p[1]=o=>w.value=o),label:"Enter Company Name",outlined:"",error:f.name.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])])]),a("div",Ya,[a("div",Ga,[a("div",Ja,[a("span",{class:Y(["text-caption text-uppercase",f.description.msg?"text-negative":"text-grey"])},y(f.description.msg?f.description.msg:"description"),3)]),e(te,{modelValue:k.value,"onUpdate:modelValue":p[2]||(p[2]=o=>k.value=o),label:"Enter Description",outlined:"",error:f.description.type,type:"textarea","no-error-icon":!0},null,8,["modelValue","error"])])])]),_:1}),e(Ae,{class:"q-pa-lg bg"},{default:t(()=>[a("div",Xa,[!b.value||d.value?(r(),K(z,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:de})):ie("",!0),b.value?(r(),K(z,{key:1,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:d.value?"disable":"enable",onClick:V},null,8,["label"])):ie("",!0),e(z,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:p[3]||(p[3]=()=>{h.value=!1}),outline:""})])]),_:1}),e(ye,{showing:S.value},{default:t(()=>[a("div",Za,[e(Te,{size:"md"}),p[8]||(p[8]=a("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))])]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]),e(Ve,{class:"bg-white no-shadow q-mx-lg q-mb-md q-py-sm radius-xs text-grey"},{default:t(()=>[e(ze,null,{default:t(()=>[e(qe,{class:"text-caption text-uppercase"},{default:t(()=>p[9]||(p[9]=[a("div",null,"© 2025 WORKFORCE. All Rights Reserved.",-1)])),_:1,__:[9]}),e(te,{outlined:"",dense:"",debounce:"1000",modelValue:D.value,"onUpdate:modelValue":p[5]||(p[5]=o=>D.value=o),placeholder:"Search..."},{before:t(()=>[a("div",el,y(`page ${x.value.CurrentPage} of ${x.value.TotalPages}`),1)]),after:t(()=>[e(z,{unelevated:"",size:"xs",round:"",color:"primary",icon:"first_page",disable:v.value<=1,onClick:N},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>p[10]||(p[10]=[H("First Page")])),_:1,__:[10]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"xs",round:"",color:"primary",icon:"arrow_back",disable:v.value<=1,onClick:ae},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>p[11]||(p[11]=[H("Previous")])),_:1,__:[11]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"xs",round:"",color:"primary",icon:"arrow_forward",disable:v.value>=x.value.TotalPages,onClick:X},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>p[12]||(p[12]=[H("Next")])),_:1,__:[12]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"xs",round:"",color:"primary",icon:"last_page",disable:v.value>=x.value.TotalPages,onClick:I},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>p[13]||(p[13]=[H("Last Page")])),_:1,__:[13]})]),_:1},8,["disable"])]),prepend:t(()=>[e(ue,{name:"search",style:{"font-size":"1rem"}})]),_:1},8,["modelValue"]),e(ye,{showing:n.value},{default:t(()=>[e(Te,{size:"md"})]),_:1},8,["showing"])]),_:1})]),_:1})]))}},al={class:"card-grid"},ll={class:"card-anim-wrapper"},sl={key:0,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},il={key:1,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},ol={class:"text-subtitle2 text-uppercase"},rl={class:"text-caption text-uppercase"},nl={class:"text-caption text-capitalize"},dl={class:"text-caption text-grey text-uppercase"},ul={class:"text-h6 text-uppercase"},cl={class:"row q-col-gutter-xs q-mb-md"},pl={class:"col-2"},vl={class:"col-2"},ml={class:"row q-col-gutter-xs q-mb-md"},fl={class:"col-4"},xl={class:"row q-col-gutter-xs q-mb-md"},gl={class:"col-4"},yl={class:"q-mb-md"},hl={class:"q-gutter-sm"},_l={class:"row q-col-gutter-xs q-mb-md"},bl={class:"col-2"},wl={class:"col-2"},kl={class:"col-2"},$l={class:"q-gutter-sm"},zl={class:"text-caption text-uppercase"},ql={id:"glass-overlay"},Vl={__name:"PositionComponent",setup(_e){$e();const h=l(!1),b=l(!1),S=l(!1),_=l(""),w=l(""),k=l(""),d=l(""),f=l(""),s=l(""),P=l(""),x=l(""),v=l([""]),C=l(!1),n=Ce({name:{type:null,msg:""},departmentId:{type:null,msg:""},monthly:{type:null,msg:""},daily:{type:null,msg:""},hourly:{type:null,msg:""},salarytype:{type:null,msg:""},description:{type:null,msg:""},qualifications:{name:{type:[],msg:""}}}),D=()=>{n.qualifications.name.type=v.value.map(()=>null)},c=()=>{let O=!1;return n.qualifications.name={type:null,msg:""},w.value?n.name.type=null:(n.name.type=!0,n.name.msg="required",O=!0),k.value?n.departmentId.type=null:(n.departmentId.type=!0,n.departmentId.msg="required",O=!0),d.value?n.monthly.type=null:(n.monthly.type=!0,n.monthly.msg="required",O=!0),f.value?n.daily.type=null:(n.daily.type=!0,n.daily.msg="required",O=!0),s.value?n.hourly.type=null:(n.hourly.type=!0,n.hourly.msg="required",O=!0),P.value?n.salarytype.type=null:(n.salarytype.type=!0,n.salarytype.msg="required",O=!0),x.value?n.description.type=null:(n.description.type=!0,n.description.msg="required",O=!0),D(),v.value.forEach((B,G)=>{B||(n.qualifications.name.type[G]=!0,n.qualifications.name.msg="required",O=!0)}),O&&T.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                <div class="text-caption">Something went wrong.</div>
            `}),!O},X=l([]),ae=l({}),N=l(1),I=l(10),Z=l(!1),oe=l(""),le=async()=>{Z.value=!0;try{const{data:O}=await W.get("/position",{params:{Page:N.value,Limit:I.value,Filter:oe.value||""}});X.value=O.data,ae.value=O.meta}catch(O){console.error("Error fetching all data:",O),T.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{Z.value=!1}};be(oe,()=>{N.value=1,le()});const ne=()=>{N.value<ae.value.TotalPages&&(N.value++,le())},de=()=>{N.value>1&&(N.value--,le())},ce=()=>{N.value>1&&(N.value=1,le())},q=()=>{N.value<ae.value.TotalPages&&(N.value=ae.value.TotalPages,le())},V=()=>{p(),h.value=!0,b.value=!1},i=async O=>{p(),h.value=!0,b.value=!0,_.value=O.id,w.value=O.name,k.value=Number(O.department_id),d.value=O.monthly_salary,f.value=O.daily_salary,s.value=O.hourly_salary,P.value=O.salary_type,x.value=O.description,v.value=O.qualification,C.value=!!O.is_active},p=()=>{_.value="",k.value="",w.value="",d.value="",f.value="",s.value="",P.value="",x.value="",v.value=[""],o()},o=()=>Object.values(n).forEach(O=>{O.type=null,O.msg=null}),E=async()=>{if(c()){S.value=!0;try{const O=_.value&&b?await W.post(`/position/${_.value}/update`,{name:w.value,departmentId:k.value,monthly:d.value,daily:f.value,hourly:s.value,salarytype:P.value,description:x.value,qualifications:v.value}):await W.post("/position",{name:w.value,departmentId:k.value,monthly:d.value,daily:f.value,hourly:s.value,salarytype:P.value,description:x.value,qualifications:v.value});h.value=!1,le(),T.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${O.data.message}<div>
            `})}catch(O){O.response&&O.response.data&&(u(O.response.data),T.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{S.value=!1}}},u=O=>{const B=Array.isArray(O)?O:O?.errors||[];Object.keys(n).forEach(G=>{n[G].type=null,n[G].msg=null}),B.forEach(G=>{n[G.path]!==void 0&&(n[G.path].type=!0,n[G.path].msg=G.msg)})},g=O=>{const B=X.value.findIndex(G=>G.id===O.id);B!==-1&&(X.value[B]=O)},m=async()=>{S.value=!0;try{const O=C.value?await W.post(`/position/${_.value}/disable`):await W.post(`/position/${_.value}/enable`);h.value=!1,g(O.data.position),T.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${O.data.message}<div>
            `})}catch(O){O.response&&O.response.data&&(u(O.response.data),T.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{S.value=!1}},j=l(["Monthly","Daily","Hourly"]),se=(O,B="PHP")=>{if(!O)return"";let G=0;switch(O.salary_type){case"Monthly":G=O.monthly_salary;break;case"Daily":G=O.daily_salary;break;case"Hourly":G=O.hourly_salary;break;default:return""}return`${new Intl.NumberFormat("en-PH",{style:"currency",currency:B,minimumFractionDigits:2}).format(Number(G))} | ${O.salary_type}`},Re=l([]),M=async()=>{v.value.unshift(""),await ot(),Re.value[0]&&Re.value[0].focus()},R=O=>{v.value.splice(O,1)};Fe(()=>{le(),Ie()});const Q=l([]),Ue=l([]),je=((O,B)=>(G,ge)=>{if(G===""){ge(()=>{B.value=O.value});return}ge(()=>{const Ne=G.toLowerCase();B.value=O.value.filter(L=>L.label.toLowerCase().includes(Ne))})})(Q,Ue),Ie=async()=>{try{const{data:O}=await W.get("/position/option/department");Q.value=(O||[]).map(B=>({label:B.label??B.name??String(B.text??B.value??""),value:Number(B.value??B.id)})),Ue.value=[...Q.value]}catch(O){console.error("Error fetching options:",O)}},Ke=l(!0);return we(()=>{setTimeout(()=>{Ke.value=!1},1e3)}),(O,B)=>(r(),A("div",null,[a("div",al,[a("div",ll,[re((r(),K(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm",onClick:B[0]||(B[0]=G=>V())},{default:t(()=>[e($,null,{default:t(()=>[e(ue,{name:"bi-plus-circle",size:"xl",color:"grey"})]),_:1})]),_:1})),[[ve]])]),Z.value?(r(),A("div",sl,[e(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:t(()=>[e($,null,{default:t(()=>[e(pe,{color:"dark"}),B[11]||(B[11]=a("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))]),_:1,__:[11]})]),_:1})])):!Z.value&&X.value.length===0?(r(),A("div",il,[e(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:t(()=>[e($,{class:"text-center"},{default:t(()=>B[12]||(B[12]=[a("div",{class:"text-caption text-uppercase text-grey"},"no data found",-1)])),_:1,__:[12]})]),_:1})])):ie("",!0),(r(!0),A(me,null,fe(X.value,(G,ge)=>(r(),A("div",{key:`data-${G.id}`,class:"card-anim-wrapper",style:ke({animationDelay:`${ge*120}ms`})},[re((r(),K(F,{onClick:Ne=>i(G),class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:t(()=>[e($,null,{default:t(()=>[a("div",ol,y(G.name),1),a("div",rl,y(se(G)),1)]),_:2},1024),e($,null,{default:t(()=>[a("div",nl,y(G.department?.name),1),a("div",dl,y(G?.status),1)]),_:2},1024),a("div",{class:Y(["absolute-top-left q-ma-sm",G.is_active?"bg-positive":"bg-negative"]),style:{width:"7px",height:"7px","border-radius":"50%"}},null,2)]),_:2},1032,["onClick"])),[[ve]])],4))),128))]),e(Se,{modelValue:h.value,"onUpdate:modelValue":B[9]||(B[9]=G=>h.value=G),"full-height":"",position:"right",persistent:"",square:"",class:"dialog"},{default:t(()=>[e(F,{class:"dialog-card column full-height"},{default:t(()=>[e($,{class:"q-pa-lg"},{default:t(()=>[a("div",ul,y(b.value?"modify position":"create new position"),1)]),_:1}),e(Ee,{inset:""}),e($,{class:"col q-pa-lg scroll"},{default:t(()=>[a("div",cl,[a("div",pl,[a("div",{class:Y(["text-caption text-uppercase",n.name.type?"text-negative text-italic":"text-grey"])},y(n.name.type?n.name.msg:"position"),3),e(te,{modelValue:w.value,"onUpdate:modelValue":B[1]||(B[1]=G=>w.value=G),label:"Enter Position",outlined:"",error:n.name.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])]),a("div",vl,[a("div",{class:Y(["text-caption text-uppercase",n.departmentId.type?"text-negative text-italic":"text-grey"])},y(n.departmentId.type?n.departmentId.msg:"department"),3),e(et,{outlined:"",modelValue:k.value,"onUpdate:modelValue":B[2]||(B[2]=G=>k.value=G),label:"Choose Department","emit-value":"","map-options":"","use-input":"","input-debounce":"300",options:Ue.value,onFilter:Oe(je),error:n.departmentId.type,"hide-dropdown-icon":"","no-error-icon":!0,class:"text-capitalize"},{"no-option":t(()=>[e(Qe,null,{default:t(()=>[e(Me,{class:"text-italic text-grey"},{default:t(()=>B[13]||(B[13]=[H(" No options ")])),_:1,__:[13]})]),_:1})]),option:t(G=>[e(Qe,lt(st(G.itemProps)),{default:t(()=>[e(Me,null,{default:t(()=>[e(We,null,{default:t(()=>[H(y(O.$CapitalizeWords(G.opt.label)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","onFilter","error"])])]),a("div",ml,[a("div",fl,[a("div",{class:Y(["text-caption text-uppercase",n.description.type?"text-negative text-italic":"text-grey"])},y(n.description.type?n.description.msg:"job description"),3),e(te,{modelValue:x.value,"onUpdate:modelValue":B[3]||(B[3]=G=>x.value=G),label:"Enter Job Description",outlined:"",error:n.description.type,type:"textarea","no-error-icon":!0},null,8,["modelValue","error"])])]),a("div",xl,[a("div",gl,[a("div",{class:Y(["text-caption text-uppercase",n.qualifications.name.msg?"text-negative text-italic":"text-grey"])},y(n.qualifications.name.msg?n.qualifications.name.msg:"job qualification"),3),(r(!0),A(me,null,fe(v.value,(G,ge)=>(r(),A("div",{key:ge,class:"q-mb-xs"},[e(te,{modelValue:v.value[ge],"onUpdate:modelValue":Ne=>v.value[ge]=Ne,label:"Enter Qualification",outlined:"",error:n.qualifications.name.type[ge],"no-error-icon":!0},{append:t(()=>[v.value.length>1?(r(),K(z,{key:0,flat:"",unelevated:"",round:"",icon:"bi-trash3",size:"sm",onClick:Ne=>R(ge)},null,8,["onClick"])):ie("",!0)]),_:2},1032,["modelValue","onUpdate:modelValue","error"])]))),128))])]),a("div",yl,[a("div",{class:Y(["text-caption text-uppercase",n.salarytype.type?"text-negative text-italic":"text-grey"])},y(n.salarytype.type?n.salarytype.msg:"salary type"),3),a("div",hl,[(r(!0),A(me,null,fe(j.value,G=>(r(),K(Je,{modelValue:P.value,"onUpdate:modelValue":B[4]||(B[4]=ge=>P.value=ge),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:G,label:G},null,8,["modelValue","val","label"]))),256))])]),a("div",_l,[a("div",bl,[a("div",{class:Y(["text-caption text-uppercase",n.monthly.type?"text-negative text-italic":"text-grey"])},y(n.monthly.type?n.monthly.msg:"monthly salary"),3),e(te,{modelValue:d.value,"onUpdate:modelValue":B[5]||(B[5]=G=>d.value=G),label:"Enter Amount",outlined:"",error:n.monthly.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])]),a("div",wl,[a("div",{class:Y(["text-caption text-uppercase",n.daily.type?"text-negative text-italic":"text-grey"])},y(n.daily.type?n.daily.msg:"daily salary"),3),e(te,{modelValue:f.value,"onUpdate:modelValue":B[6]||(B[6]=G=>f.value=G),label:"Enter Amount",outlined:"",error:n.daily.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])]),a("div",kl,[a("div",{class:Y(["text-caption text-uppercase",n.hourly.type?"text-negative text-italic":"text-grey"])},y(n.hourly.type?n.hourly.msg:"hourly salary"),3),e(te,{modelValue:s.value,"onUpdate:modelValue":B[7]||(B[7]=G=>s.value=G),label:"Enter Amount",outlined:"",error:n.hourly.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])])])]),_:1}),e(Ae,{class:"q-pa-lg bg"},{default:t(()=>[a("div",$l,[!b.value||C.value?(r(),K(z,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:E})):ie("",!0),b.value?(r(),K(z,{key:1,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:C.value?"disable":"enable",onClick:m},null,8,["label"])):ie("",!0),!b.value||C.value?(r(),K(z,{key:2,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"add",onClick:M,outline:""})):ie("",!0),e(z,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:B[8]||(B[8]=()=>{h.value=!1}),outline:""})])]),_:1}),e(ye,{showing:S.value},{default:t(()=>[e(F,{class:"no-shadow radius-md q-pa-md"},{default:t(()=>[e($,{class:"text-center"},{default:t(()=>[a("div",null,[e(pe,{color:"dark"})]),B[14]||(B[14]=a("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[14]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]),e(Ve,{class:"bg-white no-shadow q-mx-lg q-mb-md q-py-sm radius-xs text-grey"},{default:t(()=>[e(ze,null,{default:t(()=>[e(qe,{class:"text-caption text-uppercase"},{default:t(()=>B[15]||(B[15]=[a("div",null,"© 2025 WORKFORCE. All Rights Reserved.",-1)])),_:1,__:[15]}),e(te,{outlined:"",dense:"",debounce:"1000",modelValue:oe.value,"onUpdate:modelValue":B[10]||(B[10]=G=>oe.value=G),placeholder:"Search..."},{before:t(()=>[a("div",zl,y(`page ${ae.value.CurrentPage} of ${ae.value.TotalPages}`),1)]),after:t(()=>[e(z,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-bar-left",disable:N.value<=1,onClick:ce},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>B[16]||(B[16]=[H("First Page")])),_:1,__:[16]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-left-short",disable:N.value<=1,onClick:de},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>B[17]||(B[17]=[H("Previous")])),_:1,__:[17]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-right-short",disable:N.value>=ae.value.TotalPages,onClick:ne},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>B[18]||(B[18]=[H("Next")])),_:1,__:[18]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-bar-right",disable:N.value>=ae.value.TotalPages,onClick:q},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>B[19]||(B[19]=[H("Last Page")])),_:1,__:[19]})]),_:1},8,["disable"])]),prepend:t(()=>[e(ue,{name:"bi-search",style:{"font-size":"1rem"}})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(De,{name:"glass-fade"},{default:t(()=>[re(a("div",ql,[e(F,{class:"no-shadow radius-md q-pa-md"},{default:t(()=>[e($,{class:"text-center"},{default:t(()=>[a("div",null,[e(pe,{color:"dark"})]),B[20]||(B[20]=a("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[20]})]),_:1})],512),[[Le,Ke.value]])]),_:1})]))}},Pl={class:"card-grid"},Cl={class:"card-anim-wrapper"},El={key:0,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},Al={key:1,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},Sl={class:"text-subtitle2 text-uppercase"},Rl={class:"text-caption text-grey"},Tl={class:"text-h6 text-uppercase"},Ul={class:"row q-col-gutter-xs q-mb-md"},Fl={class:"col-3"},Ll={class:"q-mb-xs"},Dl={class:"col-2"},Nl={class:"row items-center justify-end"},Ol={class:"col-2"},jl={class:"row items-center justify-end"},Il={class:"q-gutter-sm"},Ql={class:"text-center"},Ml={class:"text-caption text-uppercase"},Hl={__name:"ScheduleComponent",setup(_e){$e();const h=l(!1),b=l(!1),S=l(!1),_=l(""),w=l(""),k=l(""),d=l(""),f=l(!1),s=Ce({name:{type:null,msg:""},timeStart:{type:null,msg:""},timeEnd:{type:null,msg:""}}),P=()=>{let o=!1;return w.value?s.name.type=null:(s.name.type=!0,s.name.msg="schedule name is required",o=!0),k.value?s.timeStart.type=null:(s.timeStart.type=!0,s.timeStart.msg="time start is required",o=!0),d.value?s.timeEnd.type=null:(s.timeEnd.type=!0,s.timeEnd.msg="time end is required",o=!0),o&&T.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                <div class="text-caption">Something went wrong.</div>
            `}),!o},x=l([]),v=l({}),C=l(1),n=l(10),D=l(!1),c=l(""),X=async()=>{D.value=!0;try{const{data:o}=await W.get("/schedule",{params:{Page:C.value,Limit:n.value,Filter:c.value||""}});x.value=o.data,v.value=o.meta}catch(o){console.error("Error fetching all data:",o),T.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{D.value=!1}};be(c,()=>{C.value=1,X()});const ae=()=>{C.value<v.value.TotalPages&&(C.value++,X())},N=()=>{C.value>1&&(C.value--,X())},I=()=>{C.value>1&&(C.value=1,X())},Z=()=>{C.value<v.value.TotalPages&&(C.value=v.value.TotalPages,X())},oe=()=>{ne(),h.value=!0,b.value=!1},le=o=>{ne(),h.value=!0,b.value=!0,_.value=o.id,w.value=o.name,k.value=o.time_start,d.value=o.time_end,f.value=!!o.is_active},ne=()=>{_.value="",w.value="",k.value="",d.value="",f.value=!1,de()},de=()=>{Object.keys(s).forEach(o=>{s[o].type=null,s[o].msg=""})},ce=async()=>{if(P()){S.value=!0;try{const o=_.value&&b?await W.post(`/schedule/${_.value}/update`,{name:w.value,timeStart:k.value,timeEnd:d.value}):await W.post("/schedule",{name:w.value,timeStart:k.value,timeEnd:d.value});h.value=!1,_.value&&b?V(o.data.schedule):X(),T.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${o.data.message}<div>
            `})}catch(o){o.response&&o.response.data&&(q(o.response.data),T.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{S.value=!1}}},q=o=>{const E=Array.isArray(o)?o:o?.errors||[];Object.keys(s).forEach(u=>{s[u].type=null,s[u].messages=[]}),E.forEach(u=>{s[u.path]!==void 0&&(s[u.path].type=!0,s[u.path].messages.push(u.msg))})},V=o=>{const E=x.value.findIndex(u=>u.id===o.id);E!==-1&&(x.value[E]=o)},i=async()=>{S.value=!0;try{const o=f.value?await W.post(`/schedule/${_.value}/disable`):await W.post(`/schedule/${_.value}/enable`);h.value=!1,V(o.data.schedule),T.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${o.data.message}<div>
            `})}catch(o){o.response&&o.response.data&&(q(o.response.data),T.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{S.value=!1}},p=o=>{if(!o?.time_start||!o?.time_end)return"";const E=u=>{const[g,m]=u.split(":").map(Number),j=g>=12?"PM":"AM";return`${g%12||12}:${m.toString().padStart(2,"0")} ${j}`};return`${E(o?.time_start)} to ${E(o?.time_end)}`};return we(()=>{X()}),(o,E)=>(r(),A("div",null,[a("div",Pl,[a("div",Cl,[re((r(),K(F,{key:"data-add",class:"card card-hover-animate flex flex-center q-pa-md no-shadow cursor-pointer radius-sm",onClick:E[0]||(E[0]=u=>oe())},{default:t(()=>[e($,{class:"text-center"},{default:t(()=>[e(Xe,{size:"75px","font-size":"52px",color:"grey","text-color":"white",icon:"add"})]),_:1})]),_:1})),[[ve]])]),D.value?(r(),A("div",El,[e(F,{key:"data-add",class:"card card-hover-animate flex flex-center q-pa-md no-shadow cursor-pointer radius-sm"},{default:t(()=>[e($,{class:"text-center"},{default:t(()=>[e(Te,{size:"md"}),E[9]||(E[9]=a("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))]),_:1,__:[9]})]),_:1})])):!D.value&&x.value.length===0?(r(),A("div",Al,[e(F,{key:"data-add",class:"card card-hover-animate flex flex-center q-pa-md no-shadow cursor-pointer radius-sm"},{default:t(()=>[e($,{class:"text-center"},{default:t(()=>E[10]||(E[10]=[a("div",{class:"text-caption text-uppercase text-grey"},"no data found",-1)])),_:1,__:[10]})]),_:1})])):ie("",!0),(r(!0),A(me,null,fe(x.value,(u,g)=>(r(),A("div",{key:`data-${u.id}`,class:"card-anim-wrapper",style:ke({animationDelay:`${g*120}ms`})},[re((r(),K(F,{onClick:m=>le(u),class:"card card-hover-animate flex flex-center q-pa-md no-shadow cursor-pointer radius-sm"},{default:t(()=>[e($,{class:"text-center full-width"},{default:t(()=>[a("div",Sl,y(u.name),1)]),_:2},1024),e($,{class:"full-width"},{default:t(()=>[a("div",Rl,y(p(u)),1)]),_:2},1024),a("div",{class:Y(["absolute-top-left q-ma-sm",u.is_active?"bg-positive":"bg-negative"]),style:{width:"7px",height:"7px","border-radius":"50%"}},null,2)]),_:2},1032,["onClick"])),[[ve]])],4))),128))]),e(Se,{modelValue:h.value,"onUpdate:modelValue":E[7]||(E[7]=u=>h.value=u),"full-height":"",position:"right",persistent:"",square:"",class:"dialog"},{default:t(()=>[e(F,{class:"dialog-card column full-height"},{default:t(()=>[e($,{class:"q-pa-lg"},{default:t(()=>[a("div",Tl,y(b.value?"modify schedule shift":"create new schedule shift"),1)]),_:1}),e(Ee,{inset:""}),e($,{class:"col q-pa-lg scroll"},{default:t(()=>[a("div",Ul,[a("div",Fl,[a("div",Ll,[a("span",{class:Y(["text-caption text-uppercase",s.name.msg?"text-negative":"text-grey"])},y(s.name.msg?s.name.msg:"schedule name"),3)]),e(te,{modelValue:w.value,"onUpdate:modelValue":E[1]||(E[1]=u=>w.value=u),label:"Enter Name",outlined:"",error:s.name.type,"no-error-icon":!0,class:"text-capitalize"},null,8,["modelValue","error"])]),a("div",Dl,[a("div",{class:Y(["text-caption text-uppercase q-mb-xs",s.timeStart.msg?"text-negative":"text-grey"])},y(s.timeStart.msg?s.timeStart.msg:"time start"),3),e(te,{outlined:"",modelValue:k.value,"onUpdate:modelValue":E[3]||(E[3]=u=>k.value=u),label:"Enter Time",error:s.timeStart.type,"no-error-icon":!0,mask:"##:##","fill-mask":""},{default:t(()=>[e(Be,{cover:"","transition-show":"scale","transition-hide":"scale",ref:"popup",class:"no-shadow custom-border radius-sm"},{default:t(()=>[e(Ge,{modelValue:k.value,"onUpdate:modelValue":E[2]||(E[2]=u=>k.value=u),mask:"HH:mm"},{default:t(()=>[a("div",Nl,[re(e(z,{label:"Okay",color:"primary",flat:""},null,512),[[Ye]])])]),_:1},8,["modelValue"])]),_:1},512)]),_:1},8,["modelValue","error"])]),a("div",Ol,[a("div",{class:Y(["text-caption text-uppercase q-mb-xs",s.timeEnd.msg?"text-negative":"text-grey"])},y(s.timeEnd.msg?s.timeEnd.msg:"time end"),3),e(te,{outlined:"",modelValue:d.value,"onUpdate:modelValue":E[5]||(E[5]=u=>d.value=u),label:"Enter Time",error:s.timeEnd.type,"no-error-icon":!0,mask:"##:##","fill-mask":""},{default:t(()=>[e(Be,{cover:"","transition-show":"scale","transition-hide":"scale",ref:"popup",class:"no-shadow custom-border radius-sm"},{default:t(()=>[e(Ge,{modelValue:d.value,"onUpdate:modelValue":E[4]||(E[4]=u=>d.value=u),mask:"HH:mm"},{default:t(()=>[a("div",jl,[re(e(z,{label:"Okay",color:"primary",flat:""},null,512),[[Ye]])])]),_:1},8,["modelValue"])]),_:1},512)]),_:1},8,["modelValue","error"])])])]),_:1}),e(Ae,{class:"q-pa-lg bg"},{default:t(()=>[a("div",Il,[!b.value||f.value?(r(),K(z,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:ce})):ie("",!0),b.value?(r(),K(z,{key:1,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:f.value?"disable":"enable",onClick:i},null,8,["label"])):ie("",!0),e(z,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:E[6]||(E[6]=()=>{h.value=!1}),outline:""})])]),_:1}),e(ye,{showing:S.value},{default:t(()=>[a("div",Ql,[e(Te,{size:"md"}),E[11]||(E[11]=a("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))])]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]),e(Ve,{class:"bg-white no-shadow q-mx-lg q-mb-md q-py-sm radius-xs text-grey"},{default:t(()=>[e(ze,null,{default:t(()=>[e(qe,{class:"text-caption text-uppercase"},{default:t(()=>E[12]||(E[12]=[a("div",null,"© 2025 WORKFORCE. All Rights Reserved.",-1)])),_:1,__:[12]}),e(te,{outlined:"",dense:"",debounce:"1000",modelValue:c.value,"onUpdate:modelValue":E[8]||(E[8]=u=>c.value=u),placeholder:"Search..."},{before:t(()=>[a("div",Ml,y(`page ${v.value.CurrentPage} of ${v.value.TotalPages}`),1)]),after:t(()=>[e(z,{unelevated:"",size:"xs",round:"",color:"primary",icon:"first_page",disable:C.value<=1,onClick:I},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>E[13]||(E[13]=[H("First Page")])),_:1,__:[13]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"xs",round:"",color:"primary",icon:"arrow_back",disable:C.value<=1,onClick:N},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>E[14]||(E[14]=[H("Previous")])),_:1,__:[14]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"xs",round:"",color:"primary",icon:"arrow_forward",disable:C.value>=v.value.TotalPages,onClick:ae},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>E[15]||(E[15]=[H("Next")])),_:1,__:[15]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"xs",round:"",color:"primary",icon:"last_page",disable:C.value>=v.value.TotalPages,onClick:Z},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>E[16]||(E[16]=[H("Last Page")])),_:1,__:[16]})]),_:1},8,["disable"])]),prepend:t(()=>[e(ue,{name:"search",style:{"font-size":"1rem"}})]),_:1},8,["modelValue"]),e(ye,{showing:D.value},{default:t(()=>[e(Te,{size:"md"})]),_:1},8,["showing"])]),_:1})]),_:1})]))}},Wl={class:"card-grid"},Bl={class:"card-anim-wrapper"},Kl={key:0,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},Yl={key:1,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},Gl={class:"text-subtitle2 text-uppercase"},Jl={class:"text-caption"},Xl={class:"text-h6 text-uppercase"},Zl={class:"row q-col-gutter-xs q-mb-md"},es={class:"col-1"},ts={class:"col-2"},as={class:"col-1"},ls={class:"q-mb-md"},ss={class:"q-mb-md"},is={class:"q-mb-md"},os={class:"q-gutter-sm"},rs={class:"text-caption text-uppercase"},ns={id:"glass-overlay"},ds={__name:"LeaveComponent",setup(_e){$e();const h=l(!1),b=l(!1),S=l(!1),_=l(""),w=l(""),k=l(""),d=l(""),f=l(""),s=l(!1),P=l(!1),x=l(!1),v=Ce({code:{type:null,msg:""},name:{type:null,msg:""},credit:{type:null,msg:""},loatype:{type:null,msg:""}}),C=()=>{let m=!1;const j=/^[0-9]+(\.[0-9]+)?$/;return w.value?v.code.type=null:(v.code.type=!0,v.code.msg="required",m=!0),k.value?v.name.type=null:(v.name.type=!0,v.name.msg="required",m=!0),d.value?j.test(d.value)?v.credit.type=null:(v.credit.type=!0,v.credit.msg="invalid",m=!0):(v.credit.type=!0,v.credit.msg="required",m=!0),f.value?v.loatype.type=null:(v.loatype.type=!0,v.loatype.msg="required",m=!0),m&&T.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                <div class="text-caption">Something went wrong.</div>
            `}),!m},n=l([]),D=l({}),c=l(1),X=l(10),ae=l(!1),N=l(""),I=async()=>{ae.value=!0;try{const{data:m}=await W.get("/leavetype",{params:{Page:c.value,Limit:X.value,Filter:N.value||""}});n.value=m.data,D.value=m.meta}catch(m){console.error("Error fetching all data:",m),T.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{ae.value=!1}};be(N,()=>{c.value=1,I()});const Z=()=>{c.value<D.value.TotalPages&&(c.value++,I())},oe=()=>{c.value>1&&(c.value--,I())},le=()=>{c.value>1&&(c.value=1,I())},ne=()=>{c.value<D.value.TotalPages&&(c.value=D.value.TotalPages,I())},de=()=>{q(),h.value=!0,b.value=!1},ce=m=>{q(),h.value=!0,b.value=!0,_.value=m.id,w.value=m.code,k.value=m.name,d.value=m.credit,f.value=m.loa_type,s.value=!!m.can_carry_over,P.value=!!m.affects_payroll,x.value=!!m.is_active},q=()=>{_.value="",w.value="",k.value="",d.value="",f.value="",s.value=!1,P.value=!1,x.value=!1,V()},V=()=>{Object.keys(v).forEach(m=>{v[m].type=null,v[m].msg=""})},i=async()=>{if(C()){S.value=!0;try{const m=_.value&&b?await W.post(`/leavetype/${_.value}/update`,{code:w.value,name:k.value,credit:d.value,loatype:f.value,cancarryover:s.value,affectspayroll:P.value}):await W.post("/leavetype",{code:w.value,name:k.value,credit:d.value,loatype:f.value,cancarryover:s.value,affectspayroll:P.value});h.value=!1,I(),T.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${m.data.message}<div>
            `})}catch(m){m.response&&m.response.data&&(p(m.response.data),T.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{S.value=!1}}},p=m=>{const j=Array.isArray(m)?m:m?.errors||[];Object.keys(v).forEach(se=>{v[se].type=null,v[se].msg=null}),j.forEach(se=>{v[se.path]!==void 0&&(v[se.path].type=!0,v[se.path].msg=se.msg)})},o=m=>{const j=n.value.findIndex(se=>se.id===m.id);j!==-1&&(n.value[j]=m)},E=async()=>{S.value=!0;try{const m=x.value?await W.post(`/leavetype/${_.value}/disable`):await W.post(`/leavetype/${_.value}/enable`);h.value=!1,o(m.data.leavetype),T.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${m.data.message}<div>
            `})}catch(m){m.response&&m.response.data&&(p(m.response.data),T.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{S.value=!1}},u=l(["Paid","Unpaid"]);Fe(()=>{I()});const g=l(!0);return we(()=>{setTimeout(()=>{g.value=!1},1e3)}),(m,j)=>(r(),A("div",null,[a("div",Wl,[a("div",Bl,[re((r(),K(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm",onClick:j[0]||(j[0]=se=>de())},{default:t(()=>[e($,null,{default:t(()=>[e(ue,{name:"bi-plus-circle",color:"grey",size:"xl"})]),_:1})]),_:1})),[[ve]])]),ae.value?(r(),A("div",Kl,[e(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:t(()=>[e($,null,{default:t(()=>[e(pe,{color:"dark"}),j[10]||(j[10]=a("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))]),_:1,__:[10]})]),_:1})])):!ae.value&&n.value.length===0?(r(),A("div",Yl,[e(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:t(()=>[e($,null,{default:t(()=>j[11]||(j[11]=[a("div",{class:"text-caption text-uppercase text-grey"},"no data found",-1)])),_:1,__:[11]})]),_:1})])):ie("",!0),(r(!0),A(me,null,fe(n.value,(se,Re)=>(r(),A("div",{key:`data-${se.id}`,class:"card-anim-wrapper",style:ke({animationDelay:`${Re*120}ms`})},[re((r(),K(F,{onClick:M=>ce(se),class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:t(()=>[e($,null,{default:t(()=>[a("div",Gl,y(se.name),1)]),_:2},1024),e($,null,{default:t(()=>[a("div",Jl,y(se.credit),1),j[12]||(j[12]=a("div",{class:"text-caption text-uppercase text-grey"},"credit",-1))]),_:2,__:[12]},1024),a("div",{class:Y(["absolute-top-left q-ma-sm",se.is_active?"bg-positive":"bg-negative"]),style:{width:"7px",height:"7px","border-radius":"50%"}},null,2)]),_:2},1032,["onClick"])),[[ve]])],4))),128))]),e(Se,{modelValue:h.value,"onUpdate:modelValue":j[8]||(j[8]=se=>h.value=se),"full-height":"",position:"right",persistent:"",square:"",class:"dialog"},{default:t(()=>[e(F,{class:"dialog-card column full-height"},{default:t(()=>[e($,{class:"q-pa-lg"},{default:t(()=>[a("div",Xl,y(b.value?"modify leave type":"create new leave type"),1)]),_:1}),e(Ee,{inset:""}),e($,{class:"col q-pa-lg scroll"},{default:t(()=>[a("div",Zl,[a("div",es,[a("div",{class:Y(["text-caption text-uppercase",v.code.type?"text-negative text-italic":"text-grey"])},y(v.code.type?v.code.msg:"code"),3),e(te,{modelValue:w.value,"onUpdate:modelValue":j[1]||(j[1]=se=>w.value=se),label:"Enter Code",outlined:"",error:v.code.type,"no-error-icon":!0,"input-class":"text-uppercase"},null,8,["modelValue","error"])]),a("div",ts,[a("div",{class:Y(["text-caption text-uppercase",v.name.type?"text-negative text-italic":"text-grey"])},y(v.name.type?v.name.msg:"name"),3),e(te,{modelValue:k.value,"onUpdate:modelValue":j[2]||(j[2]=se=>k.value=se),label:"Enter Name",outlined:"",error:v.name.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])]),a("div",as,[a("div",{class:Y(["text-caption text-uppercase",v.credit.type?"text-negative text-italic":"text-grey"])},y(v.credit.type?v.credit.msg:"credit"),3),e(te,{modelValue:d.value,"onUpdate:modelValue":j[3]||(j[3]=se=>d.value=se),label:"Enter Credit",outlined:"",error:v.credit.type,"no-error-icon":!0},null,8,["modelValue","error"])])]),a("div",ls,[a("div",{class:Y(["text-caption text-uppercase",v.loatype.type?"text-negative text-italic":"text-grey"])},y(v.loatype.type?v.loatype.msg:"loa type"),3),(r(!0),A(me,null,fe(u.value,(se,Re)=>(r(),K(Je,{"right-label":"",modelValue:f.value,"onUpdate:modelValue":j[4]||(j[4]=M=>f.value=M),label:se,val:se,"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",class:"text-capitalize"},null,8,["modelValue","label","val"]))),256))]),a("div",ss,[j[13]||(j[13]=a("div",{class:"text-caption text-uppercase text-grey q-mb-xs"},"can carry over",-1)),e(Pe,{"right-label":"",modelValue:s.value,"onUpdate:modelValue":j[5]||(j[5]=se=>s.value=se),label:"can carry over","checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",class:"text-capitalize"},null,8,["modelValue"])]),a("div",is,[j[14]||(j[14]=a("div",{class:"text-caption text-uppercase text-grey q-mb-xs"},"can affect payroll",-1)),e(Pe,{"right-label":"",modelValue:P.value,"onUpdate:modelValue":j[6]||(j[6]=se=>P.value=se),label:"can affect payroll","checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",class:"text-capitalize"},null,8,["modelValue"])])]),_:1}),e(Ae,{class:"q-pa-lg bg"},{default:t(()=>[a("div",os,[!b.value||x.value?(r(),K(z,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:i})):ie("",!0),b.value?(r(),K(z,{key:1,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:x.value?"disable":"enable",onClick:E},null,8,["label"])):ie("",!0),e(z,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:j[7]||(j[7]=()=>{h.value=!1}),outline:""})])]),_:1}),e(ye,{showing:S.value},{default:t(()=>[e(F,{class:"no-shadow radius-md q-pa-md"},{default:t(()=>[e($,{class:"text-center"},{default:t(()=>[a("div",null,[e(pe,{color:"dark"})]),j[15]||(j[15]=a("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[15]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]),e(Ve,{class:"bg-white no-shadow q-mx-lg q-mb-md q-py-sm radius-xs text-grey"},{default:t(()=>[e(ze,null,{default:t(()=>[e(qe,{class:"text-caption text-uppercase"},{default:t(()=>j[16]||(j[16]=[a("div",null,"© 2025 WORKFORCE. All Rights Reserved.",-1)])),_:1,__:[16]}),e(te,{outlined:"",dense:"",debounce:"1000",modelValue:N.value,"onUpdate:modelValue":j[9]||(j[9]=se=>N.value=se),placeholder:"Search..."},{before:t(()=>[a("div",rs,y(`page ${D.value.CurrentPage} of ${D.value.TotalPages}`),1)]),after:t(()=>[e(z,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-bar-left",disable:c.value<=1,onClick:le},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>j[17]||(j[17]=[H("First Page")])),_:1,__:[17]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-left-short",disable:c.value<=1,onClick:oe},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>j[18]||(j[18]=[H("Previous")])),_:1,__:[18]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-right-short",disable:c.value>=D.value.TotalPages,onClick:Z},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>j[19]||(j[19]=[H("Next")])),_:1,__:[19]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-bar-right",disable:c.value>=D.value.TotalPages,onClick:ne},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>j[20]||(j[20]=[H("Last Page")])),_:1,__:[20]})]),_:1},8,["disable"])]),prepend:t(()=>[e(ue,{name:"bi-search",style:{"font-size":"1rem"}})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(De,{name:"glass-fade"},{default:t(()=>[re(a("div",ns,[e(F,{class:"no-shadow radius-md q-pa-md"},{default:t(()=>[e($,{class:"text-center"},{default:t(()=>[a("div",null,[e(pe,{color:"dark"})]),j[21]||(j[21]=a("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[21]})]),_:1})],512),[[Le,g.value]])]),_:1})]))}},us={class:"card-grid"},cs={class:"card-anim-wrapper"},ps={key:0,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},vs={key:1,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},ms={class:"text-body1 text-uppercase"},fs={class:"text-caption text-grey text-uppercase"},xs={class:"text-h6 text-uppercase"},gs={key:0},ys={class:"q-mb-md"},hs={class:"text-body1 text-uppercase"},_s={class:"text-caption text-grey text-uppercase"},bs={class:"row q-col-gutter-xs"},ws={class:"col-2"},ks={class:"text-body1 text-uppercase text-bold"},$s={class:"q-mb-sm"},zs={class:"text-body1 text-uppercase"},qs={class:"text-caption text-uppercase text-grey"},Vs=["src"],Ps={class:"text-body1 text-uppercase"},Cs={class:"text-caption text-grey text-uppercase"},Es={key:1},As={class:"q-mb-md"},Ss={class:"q-gutter-sm"},Rs={class:"row q-col-gutter-xs q-mb-xl"},Ts={class:"col-3"},Us={class:"row q-col-gutter-xs q-mb-xs"},Fs={class:"col-3"},Ls={class:"col-2"},Ds={class:"col-1"},Ns={class:"row q-col-gutter-xs q-mb-xs"},Os={class:"col-3"},js={class:"col-2"},Is={class:"col-1"},Qs={class:"col-1"},Ms={class:"q-gutter-sm"},Hs={class:"text-caption text-uppercase"},Ws={id:"glass-overlay"},Bs={__name:"SignatoryComponent",setup(_e){$e();const h=l(!1),b=l(!1),S=l(!1),_=l(""),w=l(""),k=l(""),d=l([{id:"",approverid:"",description:"",order:"1"}]),f=l(!1),s=Ce({type:{type:null,msg:""},ownerid:{type:null,msg:""},signatories:{approverid:{type:[],msg:""},description:{type:[],msg:""},order:{type:[],msg:""}}}),P=()=>{let L=!1;return w.value?s.ownerid.type=null:(s.type.type=!0,s.type.msg="document type is required",L=!0),k.value?s.ownerid.type=null:(s.ownerid.type=!0,s.ownerid.msg="owner is required",L=!0),L&&T.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                <div class="text-caption">Something went wrong.</div>
            `}),!L},x=l([]),v=l({}),C=l(1),n=l(10),D=l(!1),c=l(""),X=async()=>{D.value=!0;try{const{data:L}=await W.get("/signatory",{params:{Page:C.value,Limit:n.value,Filter:c.value||""}});x.value=L.data,v.value=L.meta}catch(L){console.error("Error fetching all data:",L),T.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{D.value=!1}};be(c,()=>{C.value=1,X()});const ae=()=>{C.value<v.value.TotalPages&&(C.value++,X())},N=()=>{C.value>1&&(C.value--,X())},I=()=>{C.value>1&&(C.value=1,X())},Z=()=>{C.value<v.value.TotalPages&&(C.value=v.value.TotalPages,X())},oe=()=>{q(),h.value=!0,b.value=!1},le=l([]),ne=l([]),de=L=>{q(),h.value=!0,b.value=!0,le.value=L,ce(L.owner_id)},ce=async L=>{S.value=!0;try{const U=await W.get(`/signatory/${L}/detail`);ne.value=U.data}catch(U){console.error("Error fetching all data:",U),T.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{S.value=!1}},q=()=>{_.value="",w.value="",k.value="",d.value=[{id:"",approverid:"",description:"",order:2}],f.value=!1},V=async()=>{if(P()){S.value=!0;try{const L=await W.post("/signatory",{type:w.value,ownerid:k.value,signatories:d.value});h.value=!1,X(),T.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${L.data.message}<div>
            `})}catch(L){L.response&&L.response.data&&(i(L.response.data),T.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{S.value=!1}}},i=L=>{const U=Array.isArray(L)?L:L?.errors||[];Object.keys(s).forEach(ee=>{s[ee].type=null,s[ee].msg=""}),U.forEach(ee=>{s[ee.path]!==void 0&&(s[ee.path].type=!0,s[ee.path].msg=ee.msg)})},p=l([]);be(ne,L=>{p.value=L.filter(U=>U.isActive).map(U=>U.id)},{immediate:!0,deep:!0});const o=async L=>{S.value=!0;try{const U=await W.post(`/signatory/${le.value.owner_id}/update`,{signatories:p.value});h.value=!1,X(),T.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${U.data.message}<div>
            `})}catch(U){U.response&&U.response.data&&(i(U.response.data),T.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{S.value=!1}},E=l(["Vacancy","Leave","TimeCard","Overtime"]),u=l([]),g=l([]),m=l([]),j=l([]),se=(L,U)=>(ee,xe)=>{if(ee===""){xe(()=>{U.value=L.value});return}xe(()=>{const he=ee.toLowerCase();U.value=L.value.filter(it=>it.label.toLowerCase().includes(he))})},Re=(L=[])=>L.map(U=>({label:U.label??U.name??String(U.text??U.value??""),value:Number(U.value??U.id),role:U.role??""})),M=se(u,m),R=se(g,j),Q=async()=>{try{const{data:L}=await W.get("/signatory/option/employee");u.value=Re(L),m.value=[...u.value]}catch(L){console.error("Error fetching options:",L)}},Ue=async()=>{try{const{data:L}=await W.get("/signatory/option/management");g.value=Re(L),j.value=[...g.value]}catch(L){console.error("Error fetching options:",L)}},He=["Vacancy","Overtime"],je=Ze(()=>He.includes(w.value)),Ie=Ze(()=>je.value?j.value:m.value),Ke=(L,U,ee)=>je.value?R(L,U,ee):M(L,U,ee);function O(L){if(L%100>=11&&L%100<=13)return`${L}th`;switch(L%10){case 1:return`${L}st`;case 2:return`${L}nd`;case 3:return`${L}rd`;default:return`${L}th`}}const B=()=>{const L=d.value,U=L.length?Math.max(...L.map(ee=>Number(ee.order)||0)):0;L.push({id:"",approverid:"",description:"",order:U+1})},G=L=>{d.value.splice(L,1)},ge=L=>{if(!L)return"";const U=L.first_name||"",ee=L.middle_name?L.middle_name.charAt(0).toUpperCase()+".":"",xe=L.last_name||"",he=L.suffix?` ${L.suffix}`:"";return`${U} ${ee} ${xe}${he}`.trim()};Fe(()=>{Q(),Ue(),X()});const Ne=l(!0);return we(()=>{setTimeout(()=>{Ne.value=!1},1e3)}),(L,U)=>(r(),A("div",null,[a("div",us,[a("div",cs,[re((r(),K(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm",onClick:U[0]||(U[0]=ee=>oe())},{default:t(()=>[e($,null,{default:t(()=>[e(ue,{name:"bi-plus-circle",size:"xl",color:"grey"})]),_:1})]),_:1})),[[ve]])]),D.value?(r(),A("div",ps,[e(F,{key:"data-add",class:"card card-hover-animate fleflex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:t(()=>[e($,null,{default:t(()=>[e(pe,{color:"dark"}),U[9]||(U[9]=a("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))]),_:1,__:[9]})]),_:1})])):!D.value&&x.value.length===0?(r(),A("div",vs,[e(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:t(()=>[e($,null,{default:t(()=>U[10]||(U[10]=[a("div",{class:"text-caption text-uppercase text-grey"},"no data found",-1)])),_:1,__:[10]})]),_:1})])):ie("",!0),(r(!0),A(me,null,fe(x.value,(ee,xe)=>(r(),A("div",{key:`data-${ee.id}`,class:"card-anim-wrapper",style:ke({animationDelay:`${xe*120}ms`})},[re((r(),K(F,{onClick:he=>de(ee),class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:t(()=>[e($,null,{default:t(()=>[a("div",ms,y(ge(ee?.owner?.employeeAccount?.employee)),1),a("div",fs,y(ee?.owner?.role),1)]),_:2},1024),a("div",{class:Y(["absolute-top-left q-ma-sm",ee.is_active?"bg-positive":"bg-negative"]),style:{width:"7px",height:"7px","border-radius":"50%"}},null,2)]),_:2},1032,["onClick"])),[[ve]])],4))),128))]),e(Se,{modelValue:h.value,"onUpdate:modelValue":U[7]||(U[7]=ee=>h.value=ee),"full-height":"",position:"right",persistent:"",square:"",class:"dialog"},{default:t(()=>[e(F,{class:"dialog-card column full-height"},{default:t(()=>[e($,{class:"q-pa-lg"},{default:t(()=>[a("div",xs,y(b.value?"signatory information":"create new signatory"),1)]),_:1}),e(Ee,{inset:""}),e($,{class:"col q-pa-lg scroll"},{default:t(()=>[b.value?(r(),A("div",gs,[a("div",ys,[U[11]||(U[11]=a("div",{class:"text-subtitle2 text-uppercase q-mb-sm"},"owner",-1)),a("div",hs,y(ge(le.value?.owner?.employeeAccount?.employee)),1),a("div",_s,y(le.value?.owner?.employeeAccount?.employee?.employment?.position?.name),1)]),a("div",bs,[(r(!0),A(me,null,fe(ne.value,ee=>(r(),A("div",ws,[a("div",ks,[a("span",null,y(ee?.type),1),e(Pe,{modelValue:p.value,"onUpdate:modelValue":U[1]||(U[1]=xe=>p.value=xe),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:ee.id,class:"text-capitalize"},null,8,["modelValue","val"])]),(r(!0),A(me,null,fe(ee.signatories,xe=>(r(),A("div",$s,[a("div",zs,y(O(xe.order)),1),a("div",qs,y(xe?.description),1),a("img",{src:xe?.approver?.employeeAccount?.employee?.signature?.signature,width:"150"},null,8,Vs),a("div",Ps,y(ge(xe?.approver?.employeeAccount?.employee)),1),a("div",Cs,y(xe?.approver?.employeeAccount?.employee?.employment?.position?.name),1)]))),256))]))),256))])])):(r(),A("div",Es,[a("div",As,[a("div",{class:Y(["text-caption text-uppercase",s.type.msg?"text-negative text-italic":"text-grey"])},y(s.type.msg?s.type.msg:"document type"),3),a("div",Ss,[(r(!0),A(me,null,fe(E.value,ee=>(r(),K(Je,{modelValue:w.value,"onUpdate:modelValue":U[2]||(U[2]=xe=>w.value=xe),"checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",val:ee,label:ee,class:"text-capitalize"},null,8,["modelValue","val","label"]))),256))])]),a("div",Rs,[a("div",Ts,[a("div",{class:Y(["text-caption text-uppercase",s.ownerid.msg?"text-negative text-italic":"text-grey"])},y(s.ownerid.msg?s.ownerid.msg:"owner"),3),e(et,{outlined:"",modelValue:k.value,"onUpdate:modelValue":U[3]||(U[3]=ee=>k.value=ee),label:"Choose Owner","emit-value":"","map-options":"","use-input":"","input-debounce":"300",options:Ie.value,onFilter:Ke,error:!!s.ownerid.type,"hide-dropdown-icon":"","no-error-icon":!0,class:"text-capitalize"},{"no-option":t(()=>[e(Qe,null,{default:t(()=>[e(Me,{class:"text-italic text-grey"},{default:t(()=>U[12]||(U[12]=[H(" No options ")])),_:1,__:[12]})]),_:1})]),option:t(ee=>[e(Qe,lt(st(ee.itemProps)),{default:t(()=>[e(Me,null,{default:t(()=>[e(We,null,{default:t(()=>[H(y(L.$CapitalizeWords(ee.opt.label)),1)]),_:2},1024),e(We,{caption:""},{default:t(()=>[H(y(L.$CapitalizeWords(ee.opt.role)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","error"])])]),a("div",Us,[a("div",Fs,[a("div",{class:Y(["text-caption text-uppercase",s.signatories.approverid.msg?"text-negative text-italic":"text-grey"])},y(s.signatories.approverid.msg?s.signatories.approverid.msg:"approver"),3)]),a("div",Ls,[a("div",{class:Y(["text-caption text-uppercase",s.signatories.description.msg?"text-negative text-italic":"text-grey"])},y(s.signatories.description.msg?s.signatories.description.msg:"description"),3)]),a("div",Ds,[a("div",{class:Y(["text-caption text-uppercase",s.signatories.order.msg?"text-negative text-italic":"text-grey"])},y(s.signatories.order.msg?s.signatories.order.msg:"order"),3)])]),(r(!0),A(me,null,fe(d.value,(ee,xe)=>(r(),A("div",Ns,[a("div",Os,[e(et,{outlined:"",modelValue:ee.approverid,"onUpdate:modelValue":he=>ee.approverid=he,label:"Choose Approver","emit-value":"","map-options":"","use-input":"","input-debounce":"300",options:j.value,onFilter:Oe(R),error:s.signatories.approverid.type[xe],"hide-dropdown-icon":"","no-error-icon":!0,class:"text-capitalize"},{"no-option":t(()=>[e(Qe,null,{default:t(()=>[e(Me,{class:"text-italic text-grey"},{default:t(()=>U[13]||(U[13]=[H(" No options ")])),_:1,__:[13]})]),_:1})]),option:t(he=>[e(Qe,rt({ref_for:!0},he.itemProps),{default:t(()=>[e(Me,null,{default:t(()=>[e(We,null,{default:t(()=>[H(y(L.$CapitalizeWords(he.opt.label)),1)]),_:2},1024),e(We,{caption:""},{default:t(()=>[H(y(L.$CapitalizeWords(he.opt.role)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:2},1032,["modelValue","onUpdate:modelValue","options","onFilter","error"])]),a("div",js,[e(te,{modelValue:ee.description,"onUpdate:modelValue":he=>ee.description=he,label:"Enter Description",outlined:"",error:s.signatories.description.type[xe],"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","onUpdate:modelValue","error"])]),a("div",Is,[e(te,{modelValue:ee.order,"onUpdate:modelValue":he=>ee.order=he,label:"Enter Order",outlined:"",error:s.signatories.order.type[xe],"no-error-icon":!0,"input-class":"text-capitalize",readonly:!0},null,8,["modelValue","onUpdate:modelValue","error"])]),a("div",Qs,[d.value.length>1?(r(),K(z,{key:0,round:"",icon:"bi-trash3",flat:"",unelevated:"",color:"grey",onClick:he=>G(xe),size:"sm",class:"q-mt-md"},null,8,["onClick"])):ie("",!0)])]))),256))]))]),_:1}),e(Ae,{class:"q-pa-lg bg"},{default:t(()=>[a("div",Ms,[b.value?ie("",!0):(r(),K(z,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:V})),b.value?(r(),K(z,{key:1,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"update",onClick:U[4]||(U[4]=()=>{o()})})):ie("",!0),b.value?ie("",!0):(r(),K(z,{key:2,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"add",onClick:U[5]||(U[5]=()=>{B()}),outline:""})),e(z,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:U[6]||(U[6]=()=>{h.value=!1}),outline:""})])]),_:1}),e(ye,{showing:S.value},{default:t(()=>[e(F,{class:"no-shadow radius-md q-pa-md"},{default:t(()=>[e($,{class:"text-center"},{default:t(()=>[a("div",null,[e(pe,{color:"dark"})]),U[14]||(U[14]=a("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[14]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]),e(Ve,{class:"bg-white no-shadow q-mx-lg q-mb-md q-py-sm radius-xs text-grey"},{default:t(()=>[e(ze,null,{default:t(()=>[e(qe,{class:"text-caption text-uppercase"},{default:t(()=>U[15]||(U[15]=[a("div",null,"© 2025 WORKFORCE. All Rights Reserved.",-1)])),_:1,__:[15]}),e(te,{outlined:"",dense:"",debounce:"1000",modelValue:c.value,"onUpdate:modelValue":U[8]||(U[8]=ee=>c.value=ee),placeholder:"Search..."},{before:t(()=>[a("div",Hs,y(`page ${v.value.CurrentPage} of ${v.value.TotalPages}`),1)]),after:t(()=>[e(z,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-bar-left",disable:C.value<=1,onClick:I},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>U[16]||(U[16]=[H("First Page")])),_:1,__:[16]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-left-short",disable:C.value<=1,onClick:N},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>U[17]||(U[17]=[H("Previous")])),_:1,__:[17]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-right-short",disable:C.value>=v.value.TotalPages,onClick:ae},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>U[18]||(U[18]=[H("Next")])),_:1,__:[18]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-bar-right",disable:C.value>=v.value.TotalPages,onClick:Z},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>U[19]||(U[19]=[H("Last Page")])),_:1,__:[19]})]),_:1},8,["disable"])]),prepend:t(()=>[e(ue,{name:"bi-search",style:{"font-size":"1rem"}})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(De,{name:"glass-fade"},{default:t(()=>[re(a("div",Ws,[e(F,{class:"no-shadow radius-md q-pa-md"},{default:t(()=>[e($,{class:"text-center"},{default:t(()=>[a("div",null,[e(pe,{color:"dark"})]),U[20]||(U[20]=a("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[20]})]),_:1})],512),[[Le,Ne.value]])]),_:1})]))}},Ks={};function Ys(_e,h){return r(),A("div",null,"payroll group")}const Gs=tt(Ks,[["render",Ys]]),Js={class:"card-grid"},Xs={class:"card-anim-wrapper"},Zs={key:0,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},ei={key:1,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},ti={class:"text-subtitle2 text-uppercase"},ai={class:"text-caption text-grey text-uppercase"},li={class:"text-h6 text-uppercase"},si={class:"row q-col-gutter-xs q-mb-md"},ii={class:"col-1"},oi={class:"col-3"},ri={class:"row q-col-gutter-xs q-mb-md"},ni={class:"col-2"},di={class:"row items-center justify-end"},ui={class:"col-2"},ci={class:"row items-center justify-end"},pi={class:"row q-col-gutter-xs q-mb-md"},vi={class:"col-1"},mi={class:"col-1"},fi={class:"col-1"},xi={class:"col-1"},gi={class:"q-mb-md"},yi={class:"q-mb-md"},hi={class:"q-gutter-sm"},_i={class:"q-gutter-sm"},bi={class:"text-caption text-uppercase"},wi={id:"glass-overlay"},ki={__name:"ShiftComponent",setup(_e){$e();const h=l(!1),b=l(!1),S=l(!1),_=l(""),w=l(""),k=l(""),d=l(""),f=l(""),s=l(""),P=l(""),x=l(""),v=l(""),C=l(!1),n=l([]),D=l(!1),c=Ce({code:{type:null,msg:""},name:{type:null,msg:""},starttime:{type:null,msg:""},endtime:{type:null,msg:""},breakminutes:{type:null,msg:""},graceminutes:{type:null,msg:""},earliestminutes:{type:null,msg:""},latestminutes:{type:null,msg:""},days:{type:null,msg:""}}),X=()=>{let M=!1;return w.value?c.code.type=null:(c.code.type=!0,c.code.msg="required",M=!0),k.value?c.name.type=null:(c.name.type=!0,c.name.msg="required",M=!0),d.value?c.starttime.type=null:(c.starttime.type=!0,c.starttime.msg="required",M=!0),f.value?c.endtime.type=null:(c.endtime.type=!0,c.endtime.msg="required",M=!0),s.value?c.breakminutes.type=null:(c.breakminutes.type=!0,c.breakminutes.msg="required",M=!0),P.value?c.graceminutes.type=null:(c.graceminutes.type=!0,c.graceminutes.msg="required",M=!0),x.value?c.earliestminutes.type=null:(c.earliestminutes.type=!0,c.earliestminutes.msg="required",M=!0),v.value?c.latestminutes.type=null:(c.latestminutes.type=!0,c.latestminutes.msg="required",M=!0),n.value.length?c.days.type=null:(c.days.type=!0,c.days.msg="required",M=!0),M&&T.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                <div class="text-caption">Something went wrong.</div>
            `}),!M},ae=l([]),N=l({}),I=l(1),Z=l(10),oe=l(!1),le=l(""),ne=async()=>{oe.value=!0;try{const{data:M}=await W.get("/shift",{params:{Page:I.value,Limit:Z.value,Filter:le.value||""}});ae.value=M.data,N.value=M.meta}catch(M){console.error("Error fetching all data:",M),T.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{oe.value=!1}};be(le,()=>{I.value=1,ne()});const de=()=>{I.value<N.value.TotalPages&&(I.value++,ne())},ce=()=>{I.value>1&&(I.value--,ne())},q=()=>{I.value>1&&(I.value=1,ne())},V=()=>{I.value<N.value.TotalPages&&(I.value=N.value.TotalPages,ne())},i=()=>{o(),h.value=!0,b.value=!1},p=M=>{o(),h.value=!0,b.value=!0,_.value=M.id,w.value=M.code,k.value=M.name,d.value=M.start_time,f.value=M.end_time,s.value=M.break_minutes,P.value=M.grace_minutes,x.value=M.earliest_minutes,v.value=M.latest_minutes,C.value=!!M.crosses_midnight,D.value=!!M.is_active,n.value=M.days.map(R=>Number(R.day_of_week))},o=()=>{_.value="",w.value="",k.value="",d.value="",f.value="",s.value="",P.value="",x.value="",v.value="",C.value=!1,D.value=!1,n.value=[],E()},E=()=>Object.values(c).forEach(M=>{M.type=null,M.msg=null}),u=async()=>{if(X()){S.value=!0;try{const M=_.value&&b?await W.post(`/shift/${_.value}/update`,{code:w.value,name:k.value,starttime:d.value,endtime:f.value,breakminutes:s.value,graceminutes:P.value,earliestminutes:x.value,latestminutes:v.value,crossesmidnight:C.value,days:n.value}):await W.post("/shift",{code:w.value,name:k.value,starttime:d.value,endtime:f.value,breakminutes:s.value,graceminutes:P.value,earliestminutes:x.value,latestminutes:v.value,crossesmidnight:C.value,days:n.value});h.value=!1,_.value&&b?m(M.data.shift):ne(),T.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${M.data.message}<div>
            `})}catch(M){M.response&&M.response.data&&(g(M.response.data),T.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{S.value=!1}}},g=M=>{const R=Array.isArray(M)?M:M?.errors||[];Object.keys(c).forEach(Q=>{c[Q].type=null,c[Q].msg=""}),R.forEach(Q=>{c[Q.path]!==void 0&&(c[Q.path].type=!0,c[Q.path].msg=Q.msg)})},m=M=>{const R=ae.value.findIndex(Q=>Q.id===M.id);R!==-1&&(ae.value[R]=M)},j=async()=>{S.value=!0;try{const M=D.value?await W.post(`/shift/${_.value}/disable`):await W.post(`/shift/${_.value}/enable`);h.value=!1,m(M.data.shift),T.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${M.data.message}<div>
            `})}catch(M){M.response&&M.response.data&&(g(M.response.data),T.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{S.value=!1}};Fe(()=>{ne()});const se=(M,R)=>{if(!M||!R)return"";const Q=Ue=>{const[He,je]=Ue.split(":").map(Number),Ie=new Date;return Ie.setHours(He,je,0,0),Ie.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})};return`${Q(M)} - ${Q(R)}`},Re=l(!0);return we(()=>{setTimeout(()=>{Re.value=!1},1e3)}),(M,R)=>(r(),A("div",null,[a("div",Js,[a("div",Xs,[re((r(),K(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm",onClick:R[0]||(R[0]=Q=>i())},{default:t(()=>[e($,null,{default:t(()=>[e(ue,{name:"bi-plus-circle",size:"xl",color:"grey"})]),_:1})]),_:1})),[[ve]])]),oe.value?(r(),A("div",Zs,[e(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:t(()=>[e($,null,{default:t(()=>[e(pe,{color:"dark"}),R[23]||(R[23]=a("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))]),_:1,__:[23]})]),_:1})])):!oe.value&&ae.value.length===0?(r(),A("div",ei,[e(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:t(()=>[e($,null,{default:t(()=>R[24]||(R[24]=[a("div",{class:"text-caption text-uppercase text-grey"},"no data found",-1)])),_:1,__:[24]})]),_:1})])):ie("",!0),(r(!0),A(me,null,fe(ae.value,(Q,Ue)=>(r(),A("div",{key:`data-${Q.id}`,class:"card-anim-wrapper",style:ke({animationDelay:`${Ue*120}ms`})},[re((r(),K(F,{onClick:He=>p(Q),class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:t(()=>[e($,null,{default:t(()=>[a("div",ti,y(Q.name),1)]),_:2},1024),e($,null,{default:t(()=>[a("div",ai,y(se(Q?.start_time,Q?.end_time)),1)]),_:2},1024),a("div",{class:Y(["absolute-top-left q-ma-sm",Q.is_active?"bg-positive":"bg-negative"]),style:{width:"7px",height:"7px","border-radius":"50%"}},null,2)]),_:2},1032,["onClick"])),[[ve]])],4))),128))]),e(Se,{modelValue:h.value,"onUpdate:modelValue":R[21]||(R[21]=Q=>h.value=Q),"full-height":"",position:"right",persistent:"",square:"",class:"dialog"},{default:t(()=>[e(F,{class:"dialog-card column full-height"},{default:t(()=>[e($,{class:"q-pa-lg"},{default:t(()=>[a("div",li,y(b.value?"modify shift":"create new shift"),1)]),_:1}),e(Ee,{inset:""}),e($,{class:"col q-pa-lg scroll"},{default:t(()=>[a("div",si,[a("div",ii,[a("div",{class:Y(["text-caption text-uppercase",c.code.type?"text-negative text-italic":"text-grey"])},y(c.code.type?c.code.msg:"code"),3),e(te,{modelValue:w.value,"onUpdate:modelValue":R[1]||(R[1]=Q=>w.value=Q),label:"Enter Code",outlined:"",error:c.code.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])]),a("div",oi,[a("div",{class:Y(["text-caption text-uppercase",c.name.type?"text-negative text-italic":"text-grey"])},y(c.name.type?c.name.msg:"name"),3),e(te,{modelValue:k.value,"onUpdate:modelValue":R[2]||(R[2]=Q=>k.value=Q),label:"Enter Name",outlined:"",error:c.name.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])])]),a("div",ri,[a("div",ni,[a("div",{class:Y(["text-caption text-uppercase",c.starttime.type?"text-negative text-italic":"text-grey"])},y(c.starttime.type?c.starttime.msg:"start time"),3),e(te,{outlined:"",modelValue:d.value,"onUpdate:modelValue":R[4]||(R[4]=Q=>d.value=Q),label:"Enter Time",mask:"time",error:c.starttime.type,"no-error-icon":!0},{default:t(()=>[e(Be,{cover:"","transition-show":"scale","transition-hide":"scale",ref:"popup",class:"no-shadow custom-border radius-sm"},{default:t(()=>[e(Ge,{modelValue:d.value,"onUpdate:modelValue":R[3]||(R[3]=Q=>d.value=Q),mask:"HH:mm"},{default:t(()=>[a("div",di,[re(e(z,{size:"sm",label:"Okay",color:"primary",flat:""},null,512),[[Ye]])])]),_:1},8,["modelValue"])]),_:1},512)]),_:1},8,["modelValue","error"])]),a("div",ui,[a("div",{class:Y(["text-caption text-uppercase",c.endtime.msg?"text-negative text-italic":"text-grey"])},y(c.endtime.msg?c.endtime.msg:"end time"),3),e(te,{outlined:"",modelValue:f.value,"onUpdate:modelValue":R[6]||(R[6]=Q=>f.value=Q),label:"Enter Time",mask:"time",error:c.endtime.type,"no-error-icon":!0},{default:t(()=>[e(Be,{cover:"","transition-show":"scale","transition-hide":"scale",ref:"popup",class:"no-shadow custom-border radius-sm"},{default:t(()=>[e(Ge,{modelValue:f.value,"onUpdate:modelValue":R[5]||(R[5]=Q=>f.value=Q),mask:"HH:mm"},{default:t(()=>[a("div",ci,[re(e(z,{size:"sm",label:"Okay",color:"primary",flat:""},null,512),[[Ye]])])]),_:1},8,["modelValue"])]),_:1},512)]),_:1},8,["modelValue","error"])])]),a("div",pi,[a("div",vi,[a("div",{class:Y(["text-caption text-uppercase",c.breakminutes.type?"text-negative text-italic":"text-grey"])},y(c.breakminutes.type?c.breakminutes.msg:"break mins"),3),e(te,{modelValue:s.value,"onUpdate:modelValue":R[7]||(R[7]=Q=>s.value=Q),label:"Enter Minutes",outlined:"",error:c.breakminutes.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])]),a("div",mi,[a("div",{class:Y(["text-caption text-uppercase",c.graceminutes.type?"text-negative text-italic":"text-grey"])},y(c.graceminutes.type?c.graceminutes.msg:"grace mins"),3),e(te,{modelValue:P.value,"onUpdate:modelValue":R[8]||(R[8]=Q=>P.value=Q),label:"Enter Minutes",outlined:"",error:c.graceminutes.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])]),a("div",fi,[a("div",{class:Y(["text-caption text-uppercase",c.earliestminutes.type?"text-negative text-italic":"text-grey"])},y(c.earliestminutes.type?c.earliestminutes.msg:"earliest mins"),3),e(te,{modelValue:x.value,"onUpdate:modelValue":R[9]||(R[9]=Q=>x.value=Q),label:"Enter Minutes",outlined:"",error:c.earliestminutes.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])]),a("div",xi,[a("div",{class:Y(["text-caption text-uppercase",c.latestminutes.type?"text-negative text-italic":"text-grey"])},y(c.latestminutes.type?c.latestminutes.msg:"latest mins"),3),e(te,{modelValue:v.value,"onUpdate:modelValue":R[10]||(R[10]=Q=>v.value=Q),label:"Enter Minutes",outlined:"",error:c.latestminutes.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])])]),a("div",gi,[R[25]||(R[25]=a("div",{class:"text-caption text-uppercase text-grey"},"crosses midnight",-1)),e(Pe,{"right-label":"",modelValue:C.value,"onUpdate:modelValue":R[11]||(R[11]=Q=>C.value=Q),label:"crosses midnight","checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",class:"text-capitalize"},null,8,["modelValue"])]),a("div",yi,[a("div",{class:Y(["text-caption text-uppercase",c.days.type?"text-negative text-italic":"text-grey"])},y(c.days.type?c.days.msg:"shift day/s"),3),a("div",hi,[e(Pe,{"right-label":"",modelValue:n.value,"onUpdate:modelValue":R[12]||(R[12]=Q=>n.value=Q),val:1,label:"monday","checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",class:"text-capitalize"},null,8,["modelValue"]),e(Pe,{"right-label":"",modelValue:n.value,"onUpdate:modelValue":R[13]||(R[13]=Q=>n.value=Q),val:2,label:"tuesday","checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",class:"text-capitalize"},null,8,["modelValue"]),e(Pe,{"right-label":"",modelValue:n.value,"onUpdate:modelValue":R[14]||(R[14]=Q=>n.value=Q),val:3,label:"wednesday","checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",class:"text-capitalize"},null,8,["modelValue"]),e(Pe,{"right-label":"",modelValue:n.value,"onUpdate:modelValue":R[15]||(R[15]=Q=>n.value=Q),val:4,label:"thursday","checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",class:"text-capitalize"},null,8,["modelValue"]),e(Pe,{"right-label":"",modelValue:n.value,"onUpdate:modelValue":R[16]||(R[16]=Q=>n.value=Q),val:5,label:"friday","checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",class:"text-capitalize"},null,8,["modelValue"]),e(Pe,{"right-label":"",modelValue:n.value,"onUpdate:modelValue":R[17]||(R[17]=Q=>n.value=Q),val:6,label:"saturday","checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",class:"text-capitalize"},null,8,["modelValue"]),e(Pe,{"right-label":"",modelValue:n.value,"onUpdate:modelValue":R[18]||(R[18]=Q=>n.value=Q),val:7,label:"sunday","checked-icon":"bi-check-circle-fill","unchecked-icon":"bi-check-circle",class:"text-capitalize"},null,8,["modelValue"])])])]),_:1}),e(Ae,{class:"q-pa-lg bg"},{default:t(()=>[a("div",_i,[!b.value||D.value?(r(),K(z,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:R[19]||(R[19]=Q=>u())})):ie("",!0),b.value?(r(),K(z,{key:1,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:D.value?"disable":"enable",onClick:j},null,8,["label"])):ie("",!0),e(z,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:R[20]||(R[20]=()=>{h.value=!1}),outline:""})])]),_:1}),e(ye,{showing:S.value},{default:t(()=>[e(F,{class:"no-shadow radius-md q-pa-md"},{default:t(()=>[e($,{class:"text-center"},{default:t(()=>[a("div",null,[e(pe,{color:"dark"})]),R[26]||(R[26]=a("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[26]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]),e(Ve,{class:"bg-white no-shadow q-mx-lg q-mb-md q-py-sm radius-xs text-grey"},{default:t(()=>[e(ze,null,{default:t(()=>[e(qe,{class:"text-caption text-uppercase"},{default:t(()=>R[27]||(R[27]=[a("div",null,"© 2025 WORKFORCE. All Rights Reserved.",-1)])),_:1,__:[27]}),e(te,{outlined:"",dense:"",debounce:"1000",modelValue:le.value,"onUpdate:modelValue":R[22]||(R[22]=Q=>le.value=Q),placeholder:"Search..."},{before:t(()=>[a("div",bi,y(`page ${N.value.CurrentPage} of ${N.value.TotalPages}`),1)]),after:t(()=>[e(z,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-bar-left",disable:I.value<=1,onClick:q},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>R[28]||(R[28]=[H("First Page")])),_:1,__:[28]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-left-short",disable:I.value<=1,onClick:ce},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>R[29]||(R[29]=[H("Previous")])),_:1,__:[29]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-right-short",disable:I.value>=N.value.TotalPages,onClick:de},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>R[30]||(R[30]=[H("Next")])),_:1,__:[30]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-bar-right",disable:I.value>=N.value.TotalPages,onClick:V},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>R[31]||(R[31]=[H("Last Page")])),_:1,__:[31]})]),_:1},8,["disable"])]),prepend:t(()=>[e(ue,{name:"bi-search",style:{"font-size":"1rem"}})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(De,{name:"glass-fade"},{default:t(()=>[re(a("div",wi,[e(F,{class:"no-shadow radius-md q-pa-md"},{default:t(()=>[e($,{class:"text-center"},{default:t(()=>[a("div",null,[e(pe,{color:"dark"})]),R[32]||(R[32]=a("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[32]})]),_:1})],512),[[Le,Re.value]])]),_:1})]))}},$i={class:"card-grid"},zi={class:"card-anim-wrapper"},qi={key:0,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},Vi={key:1,class:"card-anim-wrapper",style:{animationDelay:"120ms"}},Pi={class:"text-subtitle2 text-uppercase"},Ci={class:"text-h6 text-uppercase"},Ei={class:"row q-col-gutter-xs q-mb-md"},Ai={class:"col-4"},Si={class:"q-gutter-sm"},Ri={class:"text-caption text-uppercase"},Ti={id:"glass-overlay"},Ui={__name:"CourseComponent",setup(_e){$e();const h=l(!1),b=l(!1),S=l(!1),_=l(""),w=l(""),k=l(!1),d=Ce({name:{type:null,msg:""}}),f=()=>{let i=!1;return w.value?d.name.type=null:(d.name.type=!0,d.name.msg="required",i=!0),i&&T.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                <div class="text-caption">Something went wrong.</div>
            `}),!i},s=l([]),P=l({}),x=l(1),v=l(10),C=l(!1),n=l(""),D=async()=>{C.value=!0;try{const{data:i}=await W.get("/course",{params:{Page:x.value,Limit:v.value,Filter:n.value||""}});s.value=i.data,P.value=i.meta}catch(i){console.error("Error fetching all data:",i),T.fire({icon:"error",html:`
                <div class="text-h6 text-bold text-uppercase">Error</div>
                <div class="text-caption text-capitalize;">Unable to fetch records</div>
            `})}finally{C.value=!1}};be(n,()=>{x.value=1,D()});const c=()=>{x.value<P.value.TotalPages&&(x.value++,D())},X=()=>{x.value>1&&(x.value--,D())},ae=()=>{x.value>1&&(x.value=1,D())},N=()=>{x.value<P.value.TotalPages&&(x.value=P.value.TotalPages,D())},I=()=>{oe(),h.value=!0,b.value=!1},Z=async i=>{oe(),h.value=!0,b.value=!0,_.value=i.id,w.value=i.name,k.value=!!i.isActive},oe=()=>{_.value="",w.value="",k.value=!1,le()},le=()=>Object.values(d).forEach(i=>{i.type=null,i.msg=null}),ne=async()=>{if(f()){S.value=!0;try{const i=_.value&&b?await W.post(`/course/${_.value}/update`,{name:w.value}):await W.post("/course",{name:w.value});h.value=!1,_.value&&b?ce(i.data.course):D(),T.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${i.data.message}<div>
            `})}catch(i){i.response&&i.response.data&&(de(i.response.data),T.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{S.value=!1}}},de=i=>{const p=Array.isArray(i)?i:i?.errors||[];Object.keys(d).forEach(o=>{d[o].type=null,d[o].msg=""}),p.forEach(o=>{d[o.path]!==void 0&&(d[o.path].type=!0,d[o.path].msg=o.msg)})},ce=i=>{const p=s.value.findIndex(o=>o.id===i.id);p!==-1&&(s.value[p]=i)},q=async()=>{S.value=!0;try{const i=k.value?await W.post(`/course/${_.value}/disable`):await W.post(`/course/${_.value}/enable`);h.value=!1,ce(i.data.course),T.fire({icon:"success",html:`
                <div class="text-h6 text-bold text-uppercase">granted!</div>
                <div class="text-caption text-capitalize;">${i.data.message}<div>
            `})}catch(i){i.response&&i.response.data&&(de(i.response.data),T.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{S.value=!1}};Fe(()=>{D()});const V=l(!0);return we(()=>{setTimeout(()=>{V.value=!1},1e3)}),(i,p)=>(r(),A("div",null,[a("div",$i,[a("div",zi,[re((r(),K(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm",onClick:p[0]||(p[0]=o=>I())},{default:t(()=>[e($,null,{default:t(()=>[e(ue,{color:"grey",name:"bi-plus-circle",size:"xl"})]),_:1})]),_:1})),[[ve]])]),C.value?(r(),A("div",qi,[e(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:t(()=>[e($,null,{default:t(()=>[e(pe,{color:"dark"}),p[5]||(p[5]=a("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))]),_:1,__:[5]})]),_:1})])):!C.value&&s.value.length===0?(r(),A("div",Vi,[e(F,{key:"data-add",class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:t(()=>[e($,null,{default:t(()=>p[6]||(p[6]=[a("div",{class:"text-caption text-uppercase text-grey"},"no data found",-1)])),_:1,__:[6]})]),_:1})])):ie("",!0),(r(!0),A(me,null,fe(s.value,(o,E)=>(r(),A("div",{key:`data-${o.id}`,class:"card-anim-wrapper",style:ke({animationDelay:`${E*120}ms`})},[re((r(),K(F,{onClick:u=>Z(o),class:"card card-hover-animate flex column justify-center items-center no-shadow cursor-pointer radius-sm"},{default:t(()=>[e($,null,{default:t(()=>[a("div",Pi,y(o.name),1)]),_:2},1024),a("div",{class:Y(["absolute-top-left q-ma-sm",o.isActive?"bg-positive":"bg-negative"]),style:{width:"7px",height:"7px","border-radius":"50%"}},null,2)]),_:2},1032,["onClick"])),[[ve]])],4))),128))]),e(Se,{modelValue:h.value,"onUpdate:modelValue":p[3]||(p[3]=o=>h.value=o),"full-height":"",position:"right",persistent:"",square:"",class:"dialog"},{default:t(()=>[e(F,{class:"dialog-card column full-height"},{default:t(()=>[e($,{class:"q-pa-lg"},{default:t(()=>[a("div",Ci,y(b.value?"modify course":"create new course"),1)]),_:1}),e(Ee,{inset:""}),e($,{class:"col q-pa-lg scroll"},{default:t(()=>[a("div",Ei,[a("div",Ai,[a("div",{class:Y(["text-caption text-uppercase",d.name.type?"text-negative text-italic":"text-grey"])},y(d.name.type?d.name.msg:"name"),3),e(te,{modelValue:w.value,"onUpdate:modelValue":p[1]||(p[1]=o=>w.value=o),label:"Enter Name",outlined:"",error:d.name.type,"no-error-icon":!0,"input-class":"text-capitalize"},null,8,["modelValue","error"])])])]),_:1}),e(Ae,{class:"q-pa-lg bg"},{default:t(()=>[a("div",Si,[!b.value||k.value?(r(),K(z,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:ne})):ie("",!0),b.value?(r(),K(z,{key:1,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:k.value?"disable":"enable",onClick:q},null,8,["label"])):ie("",!0),e(z,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:p[2]||(p[2]=()=>{h.value=!1}),outline:""})])]),_:1}),e(ye,{showing:S.value},{default:t(()=>[e(F,{class:"no-shadow radius-md q-pa-md"},{default:t(()=>[e($,{class:"text-center"},{default:t(()=>[a("div",null,[e(pe,{color:"dark"})]),p[7]||(p[7]=a("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[7]})]),_:1})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]),e(Ve,{class:"bg-white no-shadow q-mx-lg q-mb-md q-py-sm radius-xs text-grey"},{default:t(()=>[e(ze,null,{default:t(()=>[e(qe,{class:"text-caption text-uppercase"},{default:t(()=>p[8]||(p[8]=[a("div",null,"© 2025 WORKFORCE. All Rights Reserved.",-1)])),_:1,__:[8]}),e(te,{outlined:"",dense:"",debounce:"1000",modelValue:n.value,"onUpdate:modelValue":p[4]||(p[4]=o=>n.value=o),placeholder:"Search..."},{before:t(()=>[a("div",Ri,y(`page ${P.value.CurrentPage} of ${P.value.TotalPages}`),1)]),after:t(()=>[e(z,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-bar-left",disable:x.value<=1,onClick:ae},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>p[9]||(p[9]=[H("First Page")])),_:1,__:[9]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-left-short",disable:x.value<=1,onClick:X},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>p[10]||(p[10]=[H("Previous")])),_:1,__:[10]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-right-short",disable:x.value>=P.value.TotalPages,onClick:c},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>p[11]||(p[11]=[H("Next")])),_:1,__:[11]})]),_:1},8,["disable"]),e(z,{unelevated:"",size:"sm",round:"",color:"primary",icon:"bi-arrow-bar-right",disable:x.value>=P.value.TotalPages,onClick:N},{default:t(()=>[e(J,{anchor:"top middle",self:"top middle","transition-show":"scale","transition-hide":"scale",class:"text-capitalize"},{default:t(()=>p[12]||(p[12]=[H("Last Page")])),_:1,__:[12]})]),_:1},8,["disable"])]),prepend:t(()=>[e(ue,{name:"bi-search",style:{"font-size":"1rem"}})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(De,{name:"glass-fade"},{default:t(()=>[re(a("div",Ti,[e(F,{class:"no-shadow radius-md q-pa-md"},{default:t(()=>[e($,{class:"text-center"},{default:t(()=>[a("div",null,[e(pe,{color:"dark"})]),p[13]||(p[13]=a("div",{class:"text-dark text-uppercase text-caption"},"we're working on it!",-1))]),_:1,__:[13]})]),_:1})],512),[[Le,V.value]])]),_:1})]))}},Fi={class:"q-gutter-xs"},Li={class:"q-mt-md"},Di={__name:"PreferencePage",setup(_e){const h=$e(),b=at(),S={UserComponent:bt,HolidayComponent:Lt,ShiftComponent:ki,SchoolComponent:ta,CourseComponent:Ui,IncidentClassComponent:va,IncidentRoleComponent:za,DepartmentComponent:Na,CompanyComponent:tl,PositionComponent:Vl,ScheduleComponent:Hl,LeaveComponent:ds,SignatoryComponent:Bs,PayrollGroupComponent:Gs},_=(d=[])=>d.includes(b.user?.role),w=[{component:"SchoolComponent",label:"School",roles:["SuperAdmin","Admin","HR"]},{component:"CourseComponent",label:"Degree",roles:["SuperAdmin","Admin","HR"]},{component:"HolidayComponent",label:"Holiday",roles:["SuperAdmin","Admin","HR"]},{component:"ShiftComponent",label:"Shift",roles:["SuperAdmin","Admin","HR"]},{component:"DepartmentComponent",label:"department",roles:["SuperAdmin","Admin","HR"]},{component:"PositionComponent",label:"position",roles:["SuperAdmin","Admin","HR"]},{component:"LeaveComponent",label:"leave",roles:["SuperAdmin","Admin","HR"]},{component:"SignatoryComponent",label:"signatory",roles:["SuperAdmin","Admin","HR"]},{component:"UserComponent",label:"user",roles:["SuperAdmin","Admin"]}],k=Ze(()=>w.filter(d=>_(d.roles)));return(d,f)=>(r(),A("div",null,[e(F,{class:"no-shadow radius-xs"},{default:t(()=>[e($,null,{default:t(()=>[a("div",Fi,[(r(!0),A(me,null,fe(k.value,(s,P)=>(r(),K(z,{unelevated:"",class:Y(Oe(h).component===`${s.component}`?"bg-primary text-white":"bg-accent"),onClick:x=>Oe(h).component=`${s.component}`,size:"xs",label:s.label},null,8,["class","onClick","label"]))),256))])]),_:1})]),_:1}),a("div",Li,[(r(),K(nt(S[Oe(h).component]),{key:Oe(h).component}))])]))}},to=tt(Di,[["__scopeId","data-v-ae8b56f2"]]);export{to as default};
