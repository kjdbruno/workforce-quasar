import{h as z,i as P,k as S,m as E,w as x,F as v,H as _,q as I,ai as j,Z as A,$ as D,v as m,V as K,a1 as b,a2 as g,a3 as s,a4 as a,a8 as U,a9 as h,a5 as p,aj as k,ak as Q,Q as f,a7 as $,ab as N,ae as V,af as F,ag as H,ac as L}from"./index-DYF0sKPI.js";import{Q as M}from"./QSpinnerIos-Cp8UXyfP.js";import{Q as R}from"./QPage-BmvfHKt7.js";const Z=z({name:"QBanner",props:{...P,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(l,{slots:d}){const{proxy:{$q:y}}=S(),n=E(l,y),t=x(()=>"q-banner row items-center"+(l.dense===!0?" q-banner--dense":"")+(n.value===!0?" q-banner--dark q-dark":"")+(l.rounded===!0?" rounded-borders":"")),o=x(()=>`q-banner__actions row items-center justify-end col-${l.inlineActions===!0?"auto":"all"}`);return()=>{const c=[v("div",{class:"q-banner__avatar col-auto row items-center self-start"},_(d.avatar)),v("div",{class:"q-banner__content col text-body2"},_(d.default))],e=_(d.action);return e!==void 0&&c.push(v("div",{class:o.value},e)),v("div",{class:t.value+(l.inlineActions===!1&&e!==void 0?" q-banner--top-padding":""),role:"alert"},c)}}});function G(){return I(j)}const J={class:"row q-col-gutter-sm"},O={class:"col-6"},T={class:"col-6"},ee={__name:"IndexPage",setup(l){G();const d=A(),y=D(),n=m(""),t=m(""),o=m(!1),c=m(!1),e=K({username:{msg:null,type:null},password:{msg:null,type:null}}),q=m([]),B=()=>{let u=!1;return n.value==""||n.value==""?(e.username.msg="Username is required!",e.username.type=!0,u=!0):(e.username.msg=null,e.username.type=null),t.value==""||t.value==null?(e.password.msg="Password is required!",e.password.type=!0,u=!0):t.value.length>0&&t.value.length<4?(e.password.msg="Minimum password length is 4!",e.password.type=!0,u=!0):(e.password.msg=null,e.password.type=null),u},w=async()=>{if(B())return!1;c.value=!0;try{await y.login(n.value,t.value),d.push("/home")}catch(r){console.log(r)}};return(u,r)=>(g(),b(R,{class:"full-height flex flex-center"},{default:s(()=>[a(U,{square:"",class:"justify-center items-center no-shadow q-pa-xl",style:{width:"600px"}},{default:s(()=>[a(h,null,{default:s(()=>r[3]||(r[3]=[p("div",{class:"text-h3 text-capitalize text-dark"}," login ",-1)])),_:1,__:[3]}),a(h,null,{default:s(()=>[p("div",J,[p("div",O,[a(k,{modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=i=>n.value=i),error:e.username.type,"error-message":e.username.msg,outlined:"",square:"",label:"Username",class:"full-width",autofocus:"",onKeyup:Q(w,["enter"])},{prepend:s(()=>[a(f,{name:"account_circle",size:"xs",color:"grey"})]),_:1},8,["modelValue","error","error-message"])]),p("div",T,[a(k,{modelValue:t.value,"onUpdate:modelValue":r[2]||(r[2]=i=>t.value=i),error:e.password.type,"error-message":e.password.msg,type:o.value?"text":"password",outlined:"",square:"",label:"Password",class:"full-width",onKeyup:Q(w,["enter"])},{prepend:s(()=>[a(f,{name:"lock",size:"xs",color:"grey"})]),append:s(()=>[a(f,{name:o.value?"visibility":"visibility_off",class:"cursor-pointer",onClick:r[1]||(r[1]=i=>o.value=!o.value),style:{"font-size":"1rem"}},null,8,["name"])]),_:1},8,["modelValue","error","error-message","type"])])])]),_:1}),a(h,null,{default:s(()=>[a(N,{unelevated:"",square:"",color:"primary",label:"login",size:"lg",class:"full-width",loading:c.value,onClick:w},{loading:s(()=>[a(M,{size:".5em"})]),_:1},8,["loading"]),q.value.length?(g(),b(Z,{key:0,class:"bg-red-1 text-negative rounded-lg shadow-md banner-radius q-pa-sm q-mt-md",dense:"","inline-actions":""},{avatar:s(()=>[a(f,{name:"error",color:"negative"})]),default:s(()=>[p("div",null,[(g(!0),V(F,null,H(q.value,(i,C)=>(g(),V("div",{key:C,class:"text-caption"},L(i.msg),1))),128))])]),_:1})):$("",!0)]),_:1})]),_:1})]),_:1}))}};export{ee as default};
