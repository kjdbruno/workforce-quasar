import{_ as mt,a as ht,b as bt,c as _t,d as gt,e as yt,f as pt,g as St,h as zt,i as xt,j as wt,k as qt,l as kt,m as $t,n as At,o as Ct,p as Tt,q as Mt,r as Ot,s as Rt,t as Bt,u as Ht,v as Pt,w as Lt,x as jt}from"./9-Dj9y5jTE.js";import{c as se,u as Re,a as Be,g as ue,b as s,h as A,d as He,i as Pe,e as oe,l as pe,r as y,w as M,o as Se,f as Qt,j as ye,s as It,k as Vt,m as Dt,n as Le,p as Nt,q as Ft,t as Wt,v as Et,x as $e,y as Ut,z as Kt,A as Ie,B as Ze,C as Xt,D as Yt,E as Gt,F as Jt,G as Zt,H as ea,I as Ve,J as De,K as et,L as ta,M as Ae,N as aa,O as be,P as la,Q as oa,R as ra,S as na,T as ia,U as sa,V as ua,W as ca,X as da,Y as va,Z as fa,_ as E,$,a0 as n,a1 as V,a2 as r,a3 as u,a4 as R,a5 as ce,a6 as X,a7 as D,a8 as te,a9 as Ce,aa as F,ab as Z,ac as Ne,ad as Te,ae as Me,af as ma,ag as ha,ah as ba}from"./index-DUj6Qat5.js";import{Q as me,a as _a,b as ga}from"./QResizeObserver-DvN4Q8-d.js";import{Q as Fe}from"./QBadge--CvgpeWN.js";import{Q as de,a as ae,b as ie}from"./QItem-Bma97t3C.js";import{Q as We,h as ya}from"./moment-BVHJYo2c.js";import{Q as _e}from"./QAvatar-DsvaOgES.js";import{T as fe}from"./TouchPan-BqeUlPzf.js";import{b as le}from"./format-CoaQEihs.js";import{_ as pa}from"./logo-CEUA3jcB.js";import{u as Sa}from"./application-store-DUOFH1_p.js";import{u as za}from"./leave-store-BNyfD5__.js";import{u as xa}from"./overtime-store-f0CPcvtM.js";import{socket as Ee}from"./socket-g3rjtTYd.js";import{_ as wa}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./sweetalert-CVlrw-cm.js";const qa=["ul","ol"],ge=se({name:"QList",props:{...Re,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:H}){const _=ue(),t=Be(e,_.proxy.$q),v=s(()=>qa.includes(e.tag)?null:"list"),b=s(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(t.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>A(e.tag,{class:b.value,role:v.value},He(H.default))}}),ka=se({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:H,emit:_}){const{proxy:{$q:t}}=ue(),v=Pe(pe,oe);if(v===oe)return console.error("QHeader needs to be child of QLayout"),oe;const b=y(parseInt(e.heightHint,10)),c=y(!0),l=s(()=>e.reveal===!0||v.view.value.indexOf("H")!==-1||t.platform.is.ios&&v.isContainer.value===!0),C=s(()=>{if(e.modelValue!==!0)return 0;if(l.value===!0)return c.value===!0?b.value:0;const f=b.value-v.scroll.value.position;return f>0?f:0}),T=s(()=>e.modelValue!==!0||l.value===!0&&c.value!==!0),o=s(()=>e.modelValue===!0&&T.value===!0&&e.reveal===!0),j=s(()=>"q-header q-layout__section--marginal "+(l.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(T.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),k=s(()=>{const f=v.rows.value.top,I={};return f[0]==="l"&&v.left.space===!0&&(I[t.lang.rtl===!0?"right":"left"]=`${v.left.size}px`),f[2]==="r"&&v.right.space===!0&&(I[t.lang.rtl===!0?"left":"right"]=`${v.right.size}px`),I});function h(f,I){v.update("header",f,I)}function z(f,I){f.value!==I&&(f.value=I)}function Q({height:f}){z(b,f),h("size",f)}function B(f){o.value===!0&&z(c,!0),_("focusin",f)}M(()=>e.modelValue,f=>{h("space",f),z(c,!0),v.animate()}),M(C,f=>{h("offset",f)}),M(()=>e.reveal,f=>{f===!1&&z(c,e.modelValue)}),M(c,f=>{v.animate(),_("reveal",f)}),M(v.scroll,f=>{e.reveal===!0&&z(c,f.direction==="up"||f.position<=e.revealOffset||f.position-f.inflectionPoint<100)});const x={};return v.instances.header=x,e.modelValue===!0&&h("size",b.value),h("space",e.modelValue),h("offset",C.value),Se(()=>{v.instances.header===x&&(v.instances.header=void 0,h("size",0),h("offset",0),h("space",!1))}),()=>{const f=Qt(H.default,[]);return e.elevated===!0&&f.push(A("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),f.push(A(me,{debounce:0,onResize:Q})),A("header",{class:j.value,style:k.value,onFocusin:B},f)}}}),$a=se({props:["store","barStyle","verticalBarStyle","horizontalBarStyle"],setup(e){return()=>[A("div",{class:e.store.scroll.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:e.store.onVerticalMousedown}),A("div",{class:e.store.scroll.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:e.store.onHorizontalMousedown}),ye(A("div",{ref:e.store.scroll.vertical.ref,class:e.store.scroll.vertical.thumbClass.value,style:e.store.scroll.vertical.style.value,"aria-hidden":"true"}),e.store.thumbVertDir),ye(A("div",{ref:e.store.scroll.horizontal.ref,class:e.store.scroll.horizontal.thumbClass.value,style:e.store.scroll.horizontal.style.value,"aria-hidden":"true"}),e.store.thumbHorizDir)]}}),{passive:Ue}=Dt,Aa=["both","horizontal","vertical"],tt=se({name:"QScrollObserver",props:{axis:{type:String,validator:e=>Aa.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:It},emits:["scroll"],setup(e,{emit:H}){const _={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let t=null,v,b;M(()=>e.scrollTarget,()=>{C(),l()});function c(){t?.();const j=Math.max(0,Ft(v)),k=Wt(v),h={top:j-_.position.top,left:k-_.position.left};if(e.axis==="vertical"&&h.top===0||e.axis==="horizontal"&&h.left===0)return;const z=Math.abs(h.top)>=Math.abs(h.left)?h.top<0?"up":"down":h.left<0?"left":"right";_.position={top:j,left:k},_.directionChanged=_.direction!==z,_.delta=h,_.directionChanged===!0&&(_.direction=z,_.inflectionPoint=_.position),H("scroll",{..._})}function l(){v=Vt(b,e.scrollTarget),v.addEventListener("scroll",T,Ue),T(!0)}function C(){v!==void 0&&(v.removeEventListener("scroll",T,Ue),v=void 0)}function T(j){if(j===!0||e.debounce===0||e.debounce==="0")c();else if(t===null){const[k,h]=e.debounce?[setTimeout(c,e.debounce),clearTimeout]:[requestAnimationFrame(c),cancelAnimationFrame];t=()=>{h(k),t=null}}}const{proxy:o}=ue();return M(()=>o.$q.lang.rtl,c),Le(()=>{b=o.$el.parentNode,l()}),Se(()=>{t?.(),C()}),Object.assign(o,{trigger:T,getPosition:()=>_}),Nt}}),Ke=["vertical","horizontal"],Oe={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},Xe={prevent:!0,mouse:!0,mouseAllDir:!0},Ye=e=>e>=250?50:Math.ceil(e/5),Ge=se({name:"QScrollArea",props:{...Re,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],verticalOffset:{type:Array,default:[0,0]},horizontalOffset:{type:Array,default:[0,0]},contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:H,emit:_}){const t=y(!1),v=y(!1),b=y(!1),c={vertical:y(0),horizontal:y(0)},l={vertical:{ref:y(null),position:y(0),size:y(0)},horizontal:{ref:y(null),position:y(0),size:y(0)}},{proxy:C}=ue(),T=Be(e,C.$q);let o=null,j;const k=y(null),h=s(()=>"q-scrollarea"+(T.value===!0?" q-scrollarea--dark":""));Object.assign(c,{verticalInner:s(()=>c.vertical.value-e.verticalOffset[0]-e.verticalOffset[1]),horizontalInner:s(()=>c.horizontal.value-e.horizontalOffset[0]-e.horizontalOffset[1])}),l.vertical.percentage=s(()=>{const i=l.vertical.size.value-c.vertical.value;if(i<=0)return 0;const m=le(l.vertical.position.value/i,0,1);return Math.round(m*1e4)/1e4}),l.vertical.thumbHidden=s(()=>(e.visible===null?b.value:e.visible)!==!0&&t.value===!1&&v.value===!1||l.vertical.size.value<=c.vertical.value+1),l.vertical.thumbStart=s(()=>e.verticalOffset[0]+l.vertical.percentage.value*(c.verticalInner.value-l.vertical.thumbSize.value)),l.vertical.thumbSize=s(()=>Math.round(le(c.verticalInner.value*c.verticalInner.value/l.vertical.size.value,Ye(c.verticalInner.value),c.verticalInner.value))),l.vertical.style=s(()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${l.vertical.thumbStart.value}px`,height:`${l.vertical.thumbSize.value}px`,right:`${e.horizontalOffset[1]}px`})),l.vertical.thumbClass=s(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(l.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),l.vertical.barClass=s(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(l.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),l.horizontal.percentage=s(()=>{const i=l.horizontal.size.value-c.horizontal.value;if(i<=0)return 0;const m=le(Math.abs(l.horizontal.position.value)/i,0,1);return Math.round(m*1e4)/1e4}),l.horizontal.thumbHidden=s(()=>(e.visible===null?b.value:e.visible)!==!0&&t.value===!1&&v.value===!1||l.horizontal.size.value<=c.horizontal.value+1),l.horizontal.thumbStart=s(()=>e.horizontalOffset[0]+l.horizontal.percentage.value*(c.horizontalInner.value-l.horizontal.thumbSize.value)),l.horizontal.thumbSize=s(()=>Math.round(le(c.horizontalInner.value*c.horizontalInner.value/l.horizontal.size.value,Ye(c.horizontalInner.value),c.horizontalInner.value))),l.horizontal.style=s(()=>({...e.thumbStyle,...e.horizontalThumbStyle,[C.$q.lang.rtl===!0?"right":"left"]:`${l.horizontal.thumbStart.value}px`,width:`${l.horizontal.thumbSize.value}px`,bottom:`${e.verticalOffset[1]}px`})),l.horizontal.thumbClass=s(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(l.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),l.horizontal.barClass=s(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(l.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const z=s(()=>l.vertical.thumbHidden.value===!0&&l.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle);function Q(){const i={};return Ke.forEach(m=>{const q=l[m];Object.assign(i,{[m+"Position"]:q.position.value,[m+"Percentage"]:q.percentage.value,[m+"Size"]:q.size.value,[m+"ContainerSize"]:c[m].value,[m+"ContainerInnerSize"]:c[m+"Inner"].value})}),i}const B=Et(()=>{const i=Q();i.ref=C,_("scroll",i)},0);function x(i,m,q){if(Ke.includes(i)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(i==="vertical"?Ie:$e)(k.value,m,q)}function f({height:i,width:m}){let q=!1;c.vertical.value!==i&&(c.vertical.value=i,q=!0),c.horizontal.value!==m&&(c.horizontal.value=m,q=!0),q===!0&&L()}function I({position:i}){let m=!1;l.vertical.position.value!==i.top&&(l.vertical.position.value=i.top,m=!0),l.horizontal.position.value!==i.left&&(l.horizontal.position.value=i.left,m=!0),m===!0&&L()}function p({height:i,width:m}){l.horizontal.size.value!==m&&(l.horizontal.size.value=m,L()),l.vertical.size.value!==i&&(l.vertical.size.value=i,L())}function O(i,m){const q=l[m];if(i.isFirst===!0){if(q.thumbHidden.value===!0)return;j=q.position.value,v.value=!0}else if(v.value!==!0)return;i.isFinal===!0&&(v.value=!1);const G=Oe[m],ee=(q.size.value-c[m].value)/(c[m+"Inner"].value-q.thumbSize.value),J=i.distance[G.dist],ve=j+(i.direction===G.dir?1:-1)*J*ee;Y(ve,m)}function P(i,m){const q=l[m];if(q.thumbHidden.value!==!0){const G=m==="vertical"?e.verticalOffset[0]:e.horizontalOffset[0],ee=i[Oe[m].offset]-G,J=q.thumbStart.value-G;if(ee<J||ee>J+q.thumbSize.value){const ve=ee-q.thumbSize.value/2,ze=le(ve/(c[m+"Inner"].value-q.thumbSize.value),0,1);Y(ze*Math.max(0,q.size.value-c[m].value),m)}q.ref.value!==null&&q.ref.value.dispatchEvent(new MouseEvent(i.type,i))}}function L(){t.value=!0,o!==null&&clearTimeout(o),o=setTimeout(()=>{o=null,t.value=!1},e.delay),e.onScroll!==void 0&&B()}function Y(i,m){k.value[Oe[m].scroll]=i}let g=null;function d(){g!==null&&clearTimeout(g),g=setTimeout(()=>{g=null,b.value=!0},C.$q.platform.is.ios?50:0)}function U(){g!==null&&(clearTimeout(g),g=null),b.value=!1}let w=null;M(()=>C.$q.lang.rtl,i=>{k.value!==null&&$e(k.value,Math.abs(l.horizontal.position.value)*(i===!0?-1:1))}),Ut(()=>{w={top:l.vertical.position.value,left:l.horizontal.position.value}}),Kt(()=>{if(w===null)return;const i=k.value;i!==null&&($e(i,w.left),Ie(i,w.top))}),Se(B.cancel),Object.assign(C,{getScrollTarget:()=>k.value,getScroll:Q,getScrollPosition:()=>({top:l.vertical.position.value,left:l.horizontal.position.value}),getScrollPercentage:()=>({top:l.vertical.percentage.value,left:l.horizontal.percentage.value}),setScrollPosition:x,setScrollPercentage(i,m,q){x(i,m*(l[i].size.value-c[i].value)*(i==="horizontal"&&C.$q.lang.rtl===!0?-1:1),q)}});const N={scroll:l,thumbVertDir:[[fe,i=>{O(i,"vertical")},void 0,{vertical:!0,...Xe}]],thumbHorizDir:[[fe,i=>{O(i,"horizontal")},void 0,{horizontal:!0,...Xe}]],onVerticalMousedown(i){P(i,"vertical")},onHorizontalMousedown(i){P(i,"horizontal")}};return()=>A("div",{class:h.value,onMouseenter:d,onMouseleave:U},[A("div",{ref:k,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[A("div",{class:"q-scrollarea__content absolute",style:z.value},Ze(H.default,[A(me,{debounce:0,onResize:p})])),A(tt,{axis:"both",onScroll:I})]),A(me,{debounce:0,onResize:f}),A($a,{store:N,barStyle:e.barStyle,verticalBarStyle:e.verticalBarStyle,horizontalBarStyle:e.horizontalBarStyle})])}}),Je=150,Ca=se({name:"QDrawer",inheritAttrs:!1,props:{...Yt,...Re,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Xt,"onLayout","miniState"],setup(e,{slots:H,emit:_,attrs:t}){const v=ue(),{proxy:{$q:b}}=v,c=Be(e,b),{preventBodyScroll:l}=ea(),{registerTimeout:C,removeTimeout:T}=Gt(),o=Pe(pe,oe);if(o===oe)return console.error("QDrawer needs to be child of QLayout"),oe;let j,k=null,h;const z=y(e.behavior==="mobile"||e.behavior!=="desktop"&&o.totalWidth.value<=e.breakpoint),Q=s(()=>e.mini===!0&&z.value!==!0),B=s(()=>Q.value===!0?e.miniWidth:e.width),x=y(e.showIfAbove===!0&&z.value===!1?!0:e.modelValue===!0),f=s(()=>e.persistent!==!0&&(z.value===!0||ve.value===!0));function I(a,S){if(L(),a!==!1&&o.animate(),K(0),z.value===!0){const W=o.instances[q.value];W?.belowBreakpoint===!0&&W.hide(!1),re(1),o.isContainer.value!==!0&&l(!0)}else re(0),a!==!1&&we(!1);C(()=>{a!==!1&&we(!0),S!==!0&&_("show",a)},Je)}function p(a,S){Y(),a!==!1&&o.animate(),re(0),K(U.value*B.value),qe(),S!==!0?C(()=>{_("hide",a)},Je):T()}const{show:O,hide:P}=Jt({showing:x,hideOnRouteChange:f,handleShow:I,handleHide:p}),{addToHistory:L,removeFromHistory:Y}=Zt(x,P,f),g={belowBreakpoint:z,hide:P},d=s(()=>e.side==="right"),U=s(()=>(b.lang.rtl===!0?-1:1)*(d.value===!0?1:-1)),w=y(0),N=y(!1),i=y(!1),m=y(B.value*U.value),q=s(()=>d.value===!0?"left":"right"),G=s(()=>x.value===!0&&z.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:B.value:0),ee=s(()=>e.overlay===!0||e.miniToOverlay===!0||o.view.value.indexOf(d.value?"R":"L")!==-1||b.platform.is.ios===!0&&o.isContainer.value===!0),J=s(()=>e.overlay===!1&&x.value===!0&&z.value===!1),ve=s(()=>e.overlay===!0&&x.value===!0&&z.value===!1),ze=s(()=>"fullscreen q-drawer__backdrop"+(x.value===!1&&N.value===!1?" hidden":"")),at=s(()=>({backgroundColor:`rgba(0,0,0,${w.value*.4})`})),je=s(()=>d.value===!0?o.rows.value.top[2]==="r":o.rows.value.top[0]==="l"),lt=s(()=>d.value===!0?o.rows.value.bottom[2]==="r":o.rows.value.bottom[0]==="l"),ot=s(()=>{const a={};return o.header.space===!0&&je.value===!1&&(ee.value===!0?a.top=`${o.header.offset}px`:o.header.space===!0&&(a.top=`${o.header.size}px`)),o.footer.space===!0&&lt.value===!1&&(ee.value===!0?a.bottom=`${o.footer.offset}px`:o.footer.space===!0&&(a.bottom=`${o.footer.size}px`)),a}),rt=s(()=>{const a={width:`${B.value}px`,transform:`translateX(${m.value}px)`};return z.value===!0?a:Object.assign(a,ot.value)}),nt=s(()=>"q-drawer__content fit "+(o.isContainer.value!==!0?"scroll":"overflow-auto")),it=s(()=>`q-drawer q-drawer--${e.side}`+(i.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(c.value===!0?" q-drawer--dark q-dark":"")+(N.value===!0?" no-transition":x.value===!0?"":" q-layout--prevent-focus")+(z.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${Q.value===!0?"mini":"standard"}`+(ee.value===!0||J.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(je.value===!0?" q-drawer--top-padding":""))),st=s(()=>{const a=b.lang.rtl===!0?e.side:q.value;return[[fe,vt,void 0,{[a]:!0,mouse:!0}]]}),ut=s(()=>{const a=b.lang.rtl===!0?q.value:e.side;return[[fe,Qe,void 0,{[a]:!0,mouse:!0}]]}),ct=s(()=>{const a=b.lang.rtl===!0?q.value:e.side;return[[fe,Qe,void 0,{[a]:!0,mouse:!0,mouseAllDir:!0}]]});function xe(){ft(z,e.behavior==="mobile"||e.behavior!=="desktop"&&o.totalWidth.value<=e.breakpoint)}M(z,a=>{a===!0?(j=x.value,x.value===!0&&P(!1)):e.overlay===!1&&e.behavior!=="mobile"&&j!==!1&&(x.value===!0?(K(0),re(0),qe()):O(!1))}),M(()=>e.side,(a,S)=>{o.instances[S]===g&&(o.instances[S]=void 0,o[S].space=!1,o[S].offset=0),o.instances[a]=g,o[a].size=B.value,o[a].space=J.value,o[a].offset=G.value}),M(o.totalWidth,()=>{(o.isContainer.value===!0||document.qScrollPrevented!==!0)&&xe()}),M(()=>e.behavior+e.breakpoint,xe),M(o.isContainer,a=>{x.value===!0&&l(a!==!0),a===!0&&xe()}),M(o.scrollbarWidth,()=>{K(x.value===!0?0:void 0)}),M(G,a=>{ne("offset",a)}),M(J,a=>{_("onLayout",a),ne("space",a)}),M(d,()=>{K()}),M(B,a=>{K(),ke(e.miniToOverlay,a)}),M(()=>e.miniToOverlay,a=>{ke(a,B.value)}),M(()=>b.lang.rtl,()=>{K()}),M(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(dt(),o.animate())}),M(Q,a=>{_("miniState",a)});function K(a){a===void 0?Ve(()=>{a=x.value===!0?0:B.value,K(U.value*a)}):(o.isContainer.value===!0&&d.value===!0&&(z.value===!0||Math.abs(a)===B.value)&&(a+=U.value*o.scrollbarWidth.value),m.value=a)}function re(a){w.value=a}function we(a){const S=a===!0?"remove":o.isContainer.value!==!0?"add":"";S!==""&&document.body.classList[S]("q-body--drawer-toggle")}function dt(){k!==null&&clearTimeout(k),v.proxy&&v.proxy.$el&&v.proxy.$el.classList.add("q-drawer--mini-animate"),i.value=!0,k=setTimeout(()=>{k=null,i.value=!1,v?.proxy?.$el?.classList.remove("q-drawer--mini-animate")},150)}function vt(a){if(x.value!==!1)return;const S=B.value,W=le(a.distance.x,0,S);if(a.isFinal===!0){W>=Math.min(75,S)===!0?O():(o.animate(),re(0),K(U.value*S)),N.value=!1;return}K((b.lang.rtl===!0?d.value!==!0:d.value)?Math.max(S-W,0):Math.min(0,W-S)),re(le(W/S,0,1)),a.isFirst===!0&&(N.value=!0)}function Qe(a){if(x.value!==!0)return;const S=B.value,W=a.direction===e.side,he=(b.lang.rtl===!0?W!==!0:W)?le(a.distance.x,0,S):0;if(a.isFinal===!0){Math.abs(he)<Math.min(75,S)===!0?(o.animate(),re(1),K(0)):P(),N.value=!1;return}K(U.value*he),re(le(1-he/S,0,1)),a.isFirst===!0&&(N.value=!0)}function qe(){l(!1),we(!0)}function ne(a,S){o.update(e.side,a,S)}function ft(a,S){a.value!==S&&(a.value=S)}function ke(a,S){ne("size",a===!0?e.miniWidth:S)}return o.instances[e.side]=g,ke(e.miniToOverlay,B.value),ne("space",J.value),ne("offset",G.value),e.showIfAbove===!0&&e.modelValue!==!0&&x.value===!0&&e["onUpdate:modelValue"]!==void 0&&_("update:modelValue",!0),Le(()=>{_("onLayout",J.value),_("miniState",Q.value),j=e.showIfAbove===!0;const a=()=>{(x.value===!0?I:p)(!1,!0)};if(o.totalWidth.value!==0){Ve(a);return}h=M(o.totalWidth,()=>{h(),h=void 0,x.value===!1&&e.showIfAbove===!0&&z.value===!1?O(!1):a()})}),Se(()=>{h?.(),k!==null&&(clearTimeout(k),k=null),x.value===!0&&qe(),o.instances[e.side]===g&&(o.instances[e.side]=void 0,ne("size",0),ne("offset",0),ne("space",!1))}),()=>{const a=[];z.value===!0&&(e.noSwipeOpen===!1&&a.push(ye(A("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),st.value)),a.push(De("div",{ref:"backdrop",class:ze.value,style:at.value,"aria-hidden":"true",onClick:P},void 0,"backdrop",e.noSwipeBackdrop!==!0&&x.value===!0,()=>ct.value)));const S=Q.value===!0&&H.mini!==void 0,W=[A("div",{...t,key:""+S,class:[nt.value,t.class]},S===!0?H.mini():He(H.default))];return e.elevated===!0&&x.value===!0&&W.push(A("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),a.push(De("aside",{ref:"content",class:it.value,style:rt.value},W,"contentclose",e.noSwipeClose!==!0&&z.value===!0,()=>ut.value)),A("div",{class:"q-drawer-container"},a)}}}),Ta=se({name:"QPageContainer",setup(e,{slots:H}){const{proxy:{$q:_}}=ue(),t=Pe(pe,oe);if(t===oe)return console.error("QPageContainer needs to be child of QLayout"),oe;et(ta,!0);const v=s(()=>{const b={};return t.header.space===!0&&(b.paddingTop=`${t.header.size}px`),t.right.space===!0&&(b[`padding${_.lang.rtl===!0?"Left":"Right"}`]=`${t.right.size}px`),t.footer.space===!0&&(b.paddingBottom=`${t.footer.size}px`),t.left.space===!0&&(b[`padding${_.lang.rtl===!0?"Right":"Left"}`]=`${t.left.size}px`),b});return()=>A("div",{class:"q-page-container",style:v.value},He(H.default))}}),Ma=se({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:H,emit:_}){const{proxy:{$q:t}}=ue(),v=y(null),b=y(t.screen.height),c=y(e.container===!0?0:t.screen.width),l=y({position:0,direction:"down",inflectionPoint:0}),C=y(0),T=y(aa.value===!0?0:Ae()),o=s(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),j=s(()=>e.container===!1?{minHeight:t.screen.height+"px"}:null),k=s(()=>T.value!==0?{[t.lang.rtl===!0?"left":"right"]:`${T.value}px`}:null),h=s(()=>T.value!==0?{[t.lang.rtl===!0?"right":"left"]:0,[t.lang.rtl===!0?"left":"right"]:`-${T.value}px`,width:`calc(100% + ${T.value}px)`}:null);function z(p){if(e.container===!0||document.qScrollPrevented!==!0){const O={position:p.position.top,direction:p.direction,directionChanged:p.directionChanged,inflectionPoint:p.inflectionPoint.top,delta:p.delta.top};l.value=O,e.onScroll!==void 0&&_("scroll",O)}}function Q(p){const{height:O,width:P}=p;let L=!1;b.value!==O&&(L=!0,b.value=O,e.onScrollHeight!==void 0&&_("scrollHeight",O),x()),c.value!==P&&(L=!0,c.value=P),L===!0&&e.onResize!==void 0&&_("resize",p)}function B({height:p}){C.value!==p&&(C.value=p,x())}function x(){if(e.container===!0){const p=b.value>C.value?Ae():0;T.value!==p&&(T.value=p)}}let f=null;const I={instances:{},view:s(()=>e.view),isContainer:s(()=>e.container),rootRef:v,height:b,containerHeight:C,scrollbarWidth:T,totalWidth:s(()=>c.value+T.value),rows:s(()=>{const p=e.view.toLowerCase().split(" ");return{top:p[0].split(""),middle:p[1].split(""),bottom:p[2].split("")}}),header:be({size:0,offset:0,space:!1}),right:be({size:300,offset:0,space:!1}),footer:be({size:0,offset:0,space:!1}),left:be({size:300,offset:0,space:!1}),scroll:l,animate(){f!==null?clearTimeout(f):document.body.classList.add("q-body--layout-animate"),f=setTimeout(()=>{f=null,document.body.classList.remove("q-body--layout-animate")},155)},update(p,O,P){I[p][O]=P}};if(et(pe,I),Ae()>0){let p=function(){L=null,Y.classList.remove("hide-scrollbar")},O=function(){if(L===null){if(Y.scrollHeight>t.screen.height)return;Y.classList.add("hide-scrollbar")}else clearTimeout(L);L=setTimeout(p,300)},P=function(g){L!==null&&g==="remove"&&(clearTimeout(L),p()),window[`${g}EventListener`]("resize",O)},L=null;const Y=document.body;M(()=>e.container!==!0?"add":"remove",P),e.container!==!0&&P("add"),la(()=>{P("remove")})}return()=>{const p=Ze(H.default,[A(tt,{onScroll:z}),A(me,{onResize:Q})]),O=A("div",{class:o.value,style:j.value,ref:e.container===!0?void 0:v,tabindex:-1},p);return e.container===!0?A("div",{class:"q-layout-container overflow-hidden",ref:v},[A(me,{onResize:B}),A("div",{class:"absolute-full",style:k.value},[A("div",{class:"scroll",style:h.value},[O])])]):O}}}),Oa="/assets/ccmi-logo-C__5KEeL.png",Ra=oa("navStore",{state:()=>({analyticsRoute:null,complaintRoute:null,feedbackRoute:null,discussionRoute:null,preferenceRoute:null,reportRoute:null,accountRoute:null,logRoute:null}),persist:!0}),Ba={class:"q-gutter-sm"},Ha={key:0,class:"q-pa-md text-center"},Pa={key:1},La=["src"],ja={class:"text-center"},Qa={class:"q-pt-lg q-pb-lg"},Ia={key:0},Va={key:1,class:"q-pl-xl q-pr-xl"},Da={class:"text-center"},Na={class:"absolute-bottom q-pa-md"},Fa={key:0},Wa=["src"],Ea={key:1,class:"text-center"},Ua=["src"],Ka={class:"absolute",style:{top:"30px",right:"-17px"}},Xa={class:"q-mx-lg q-mt-lg"},Ya={class:"cover-photo"},Ga=["src"],Ja=["src"],Za={class:"text-caption text-uppercase text-white"},el={class:"text-h5 text-uppercase text-bold text-white"},tl={class:"text-body1 text-uppercase text-white"},al={class:"text-caption text-uppercase text-white"},ll={class:"text-body1 text-bold text-white"},ol={class:"text-body1 text-bold text-white"},rl={class:"text-body1 text-capitalize text-bold text-white"},nl=25,il={__name:"MainLayout",props:{userId:{type:[Number,String],required:!0}},setup(e){const H=ra(),_=na(),t=ia(),v=Sa(),b=sa(),c=ua(),l=za(),C=Ra(),T=xa(),o=ca(),j=da(),k=y(!0),h=y(!0),z=g=>{if(!g)return"";const d=g.first_name||"",U=g.middle_name?g.middle_name.charAt(0).toUpperCase()+".":"",w=g.last_name||"",N=g.suffix?` ${g.suffix}`:"";return`${d} ${U} ${w}${N}`.trim()},Q=y(!1);function B(g){h.value&&(h.value=!1,g.stopPropagation())}const x=[{icon:"bi-house",label:"home",to:"/home",roles:["SuperAdmin","Admin","Management","HR","Finance"]},{icon:"bi-search",label:"recruitment",to:"/recruitment",roles:["SuperAdmin","Management","Admin","HR"]},{icon:"bi-person",label:"employee",to:"/employee",roles:["SuperAdmin","Admin","Management","HR"]},{icon:"bi-heart",label:"leave",to:"/leave",roles:["SuperAdmin","Admin","Management","HR"]},{icon:"bi-alarm",label:"dtr",to:"/dtr",roles:["SuperAdmin","Admin","Management","HR"]},{icon:"bi-hourglass",label:"overtime",to:"/overtime",roles:["SuperAdmin","Admin","Management","HR"]},{icon:"bi-speedometer2",label:"performance",to:"/performance",roles:["SuperAdmin","Admin","Management","HR"]},{icon:"bi-shield",label:"disciplinary",to:"/disciplinary",roles:["SuperAdmin","Admin","Management","HR"]},{icon:"bi-escape",label:"separation",to:"/separation",roles:["SuperAdmin","Admin","Management","HR"]},{icon:"bi-wallet",label:"payroll",to:"/payroll",roles:["SuperAdmin","Admin","Management","HR","Finance"]},{icon:"bi-gear",label:"preferences",to:"/preferences",roles:["SuperAdmin","Admin","Management","HR","Finance"]}],f=g=>_.name?.toLowerCase()===g.toLowerCase(),I=s(()=>String(t.user?.role||"").trim()),p=s(()=>{const g=I.value;return g?x.filter(d=>!d.roles||d.roles.includes(g)):[]});Le(()=>{console.log()});const O=y("");va(()=>{const g=Math.floor(Math.random()*nl)+1;O.value=new URL(Object.assign({"../assets/cover/1.jpg":jt,"../assets/cover/10.jpg":Lt,"../assets/cover/11.jpg":Pt,"../assets/cover/12.jpg":Ht,"../assets/cover/13.jpg":Bt,"../assets/cover/14.jpg":Rt,"../assets/cover/15.jpg":Ot,"../assets/cover/16.jpg":Mt,"../assets/cover/17.jpg":Tt,"../assets/cover/18.jpg":Ct,"../assets/cover/19.jpg":At,"../assets/cover/2.jpg":$t,"../assets/cover/20.jpg":kt,"../assets/cover/21.jpg":qt,"../assets/cover/22.jpg":wt,"../assets/cover/23.jpg":xt,"../assets/cover/24.jpg":zt,"../assets/cover/25.jpg":St,"../assets/cover/3.jpg":pt,"../assets/cover/4.jpg":yt,"../assets/cover/5.jpg":gt,"../assets/cover/6.jpg":_t,"../assets/cover/7.jpg":bt,"../assets/cover/8.jpg":ht,"../assets/cover/9.jpg":mt})[`../assets/cover/${g}.jpg`],import.meta.url).href});const P=g=>ya(g).fromNow(),L=()=>{Ee?.connected&&Ee.emit("ReadNotification")},Y=s(()=>t.isUserOnline(t.user.id));return y(!1),y(!1),y([]),y([]),(g,d)=>{const U=fa("router-view");return $(),E(Ma,{view:"lHh Lpr lFf"},{default:n(()=>[u(t).isAuthenticated&&u(H).currentRoute.value.name!="login"?($(),E(ka,{key:0,class:"bg-white no-shadow q-mx-lg q-mt-md q-py-sm radius-xs"},{default:n(()=>[r(_a,{class:"header"},{default:n(()=>[r(ce,{flat:"",round:"",dense:"",icon:"bi-list",class:"text-grey",onClick:B}),r(ga,{class:"text-grey text-uppercase"},{default:n(()=>[X(D(u(_).name),1)]),_:1}),R("div",Ba,[r(ce,{flat:"",round:"",dense:"",class:"text-white"},{default:n(()=>[r(te,{name:"bi-bell",color:"secondary"}),r(Fe,{color:"red",floating:"",rounded:""},{default:n(()=>[X(D(u(t).count),1)]),_:1}),r(We,{offset:[5,5],class:"radius-md",onHide:d[0]||(d[0]=()=>{L()}),style:{"box-shadow":"rgba(0, 0, 0, 0.09) 0px 3px 12px"}},{default:n(()=>[r(Ce,{class:"no-shadow",style:{width:"350px"}},{default:n(()=>[u(t).count===0?($(),F("div",Ha,d[7]||(d[7]=[R("div",{class:"text-caption text-uppercase text-secondary"},"No new notifications",-1)]))):($(),F("div",Pa,[r(Z,null,{default:n(()=>d[8]||(d[8]=[R("div",{class:"text-uppercase text-h6 text-center"}," my notifications ",-1)])),_:1,__:[8]}),r(Ne),r(Z,{class:"q-pa-none"},{default:n(()=>[r(ge,null,{default:n(()=>[($(!0),F(Te,null,Me(u(t).notifications,(w,N)=>($(),E(de,{key:N,class:"q-mb-sm"},{default:n(()=>[r(ae,null,{default:n(()=>[r(ie,null,{default:n(()=>[X(D(w.content),1)]),_:2},1024),r(ie,{caption:"",lines:"1"},{default:n(()=>[X(D(P(w.createdAt)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]))]),_:1})]),_:1})]),_:1}),r(ce,{flat:"",round:"",dense:"",class:"text-white"},{default:n(()=>[r(te,{name:"bi-person",color:"secondary"}),Y.value?($(),E(Fe,{key:0,color:"positive",rounded:"",floating:""})):V("",!0),r(We,{offset:[5,5],class:"radius-md",style:{"box-shadow":"rgba(0, 0, 0, 0.09) 0px 3px 12px"}},{default:n(()=>[r(Ce,{class:"no-shadow",style:{width:"350px"}},{default:n(()=>[r(Z,null,{default:n(()=>[r(de,null,{default:n(()=>[r(ae,{avatar:""},{default:n(()=>[r(_e,null,{default:n(()=>[u(t).user.role!=="SuperAdmin"?($(),F("img",{key:0,src:u(t).employees.photo},null,8,La)):V("",!0),u(t).user.role==="SuperAdmin"?($(),E(te,{key:1,name:"bi-person-circle",size:"lg",color:"grey-8"})):V("",!0)]),_:1})]),_:1}),r(ae,null,{default:n(()=>[r(ie,{class:"text-uppercase"},{default:n(()=>[X(D(u(t).user.role!=="SuperAdmin"?z(u(t).employees):u(t).user?.name),1)]),_:1}),r(ie,{caption:"",class:"text-capitalize"},{default:n(()=>[X(D(u(t).user.role!=="SuperAdmin"?u(t).employees?.employment?.position?.name:u(t).user?.role),1)]),_:1})]),_:1})]),_:1})]),_:1}),r(Ne),r(Z,{class:"q-pa-none"},{default:n(()=>[r(ge,null,{default:n(()=>[u(t).user.role!=="SuperAdmin"?($(),E(de,{key:0,clickable:"",onClick:d[1]||(d[1]=w=>Q.value=!Q.value)},{default:n(()=>[r(ae,null,{default:n(()=>[r(ie,{class:"text-uppercase"},{default:n(()=>d[9]||(d[9]=[X("my account")])),_:1,__:[9]})]),_:1})]),_:1})):V("",!0),r(de,{clickable:"",onClick:d[2]||(d[2]=()=>{u(t).logout(),u(t).$reset(),u(v).$reset(),u(b).$reset(),u(c).$reset(),u(l).$reset(),u(C).$reset(),u(T).$reset(),u(o).$reset(),u(j).$reset()})},{default:n(()=>[r(ae,null,{default:n(()=>[r(ie,{class:"text-uppercase"},{default:n(()=>d[10]||(d[10]=[X("sign out")])),_:1,__:[10]})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1})):V("",!0),u(t).isAuthenticated&&u(H).currentRoute.value.name!="login"?($(),E(Ca,{key:1,modelValue:k.value,"onUpdate:modelValue":d[4]||(d[4]=w=>k.value=w),"show-if-above":"",mini:!k.value||h.value,width:300,"mini-width":125,breakpoint:500,bordered:""},{default:n(()=>[R("div",ja,[R("div",Qa,[h.value?($(),F("div",Ia,[r(_e,null,{default:n(()=>d[11]||(d[11]=[R("img",{src:Oa},null,-1)])),_:1,__:[11]})])):V("",!0),h.value?V("",!0):($(),F("div",Va,d[12]||(d[12]=[R("img",{src:pa,width:"100%",height:"auto"},null,-1)])))])]),h.value?V("",!0):($(),E(Ge,{key:0,class:"fit q-pl-lg q-pr-lg","horizontal-thumb-style":{opacity:0}},{default:n(()=>[r(ge,{padding:""},{default:n(()=>[($(!0),F(Te,null,Me(p.value,w=>ye(($(),E(de,{clickable:"",class:"q-pa-md q-pb-sm radius-xl",key:w.label,onClick:N=>u(H).push(w.to)},{default:n(()=>[r(ae,{avatar:""},{default:n(()=>[r(te,{name:w.icon,color:f(w.label)?"primary":"secondary"},null,8,["name","color"])]),_:2},1024),r(ae,{class:ma(["text-uppercase text-caption",f(w.label)?"text-primary":"text-secondary"])},{default:n(()=>[X(D(w.label),1)]),_:2},1032,["class"])]),_:2},1032,["onClick"])),[[ha]])),128))]),_:1})]),_:1})),h.value?($(),E(Ge,{key:1,class:"fit","horizontal-thumb-style":{opacity:0}},{default:n(()=>[R("div",Da,[($(!0),F(Te,null,Me(p.value,w=>($(),F("div",{key:w.label,class:"q-pa-sm q-pb-sm"},[r(ce,{flat:"",round:"",onClick:N=>u(H).push(w.to)},{default:n(()=>[r(te,{name:w.icon,color:f(w.label)?"primary":"secondary"},null,8,["name","color"])]),_:2},1032,["onClick"])]))),128))])]),_:1})):V("",!0),R("div",Na,[h.value?V("",!0):($(),F("div",Fa,[r(ge,null,{default:n(()=>[r(de,{class:"q-mb-sm"},{default:n(()=>[r(ae,{avatar:""},{default:n(()=>[r(_e,null,{default:n(()=>[u(t).user.role!=="SuperAdmin"?($(),F("img",{key:0,src:u(t).employees.photo},null,8,Wa)):V("",!0),u(t).user.role==="SuperAdmin"?($(),E(te,{key:1,name:"bi-person-circle",size:"lg",color:"grey-8"})):V("",!0)]),_:1})]),_:1}),r(ae,null,{default:n(()=>[r(ie,{caption:"",class:"text-uppercase text-bold"},{default:n(()=>[X(D(u(t).user?.name),1)]),_:1}),r(ie,{caption:"",lines:"1"},{default:n(()=>[X(D(u(t).user.username),1)]),_:1})]),_:1})]),_:1})]),_:1})])),h.value?($(),F("div",Ea,[r(_e,{class:"q-mb-sm"},{default:n(()=>[u(t).user.role!=="SuperAdmin"?($(),F("img",{key:0,src:u(t).employees.photo},null,8,Ua)):V("",!0),u(t).user.role==="SuperAdmin"?($(),E(te,{key:1,name:"bi-person-circle",size:"lg",color:"grey-8"})):V("",!0)]),_:1})])):V("",!0)]),R("div",Ka,[r(ce,{round:"",unelevated:"",color:"primary",style:{border:"6px solid #f2f2f7"},onClick:d[3]||(d[3]=w=>h.value=!h.value)},{default:n(()=>[r(te,{name:h.value?"bi-arrow-right-short":"bi-arrow-left-short"},null,8,["name"])]),_:1})])]),_:1},8,["modelValue","mini"])):V("",!0),r(Ta,null,{default:n(()=>[R("div",Xa,[r(U)])]),_:1}),r(ba,{modelValue:Q.value,"onUpdate:modelValue":d[6]||(d[6]=w=>Q.value=w),"full-height":"",position:"right",square:"",class:"dialog profile-dialog"},{default:n(()=>[r(Ce,{key:"data-add",class:"card card-profile no-shadow radius-sm q-mb-sm q-pb-lg"},{default:n(()=>[R("div",Ya,[R("img",{src:O.value,alt:"Cover"},null,8,Ga)]),r(Z,{class:"text-center profile-section"},{default:n(()=>[u(t).user.role!=="SuperAdmin"?($(),F("img",{key:0,src:u(t).employees.photo,alt:"Profile",class:"profile-img"},null,8,Ja)):V("",!0),u(t).user.role==="SuperAdmin"?($(),E(te,{key:1,name:"bi-person-circle",size:"lg",color:"grey-8"})):V("",!0)]),_:1}),r(Z,{class:"text-center q-pt-sm"},{default:n(()=>[R("div",Za,D(u(t).employees?.employment?.employee_no),1),R("div",el,D(z(u(t).employees)),1),R("div",tl,D(u(t).employees?.employment?.position?.name),1),R("div",al,D(u(t).employees?.employment?.employment_status),1)]),_:1}),r(Z,{class:"text-center"},{default:n(()=>[d[13]||(d[13]=R("div",{class:"text-caption text-uppercase text-white"},"email address",-1)),R("div",ll,D(u(t).employees?.email),1)]),_:1,__:[13]}),r(Z,{class:"text-center"},{default:n(()=>[d[14]||(d[14]=R("div",{class:"text-caption text-uppercase text-white"},"contact number",-1)),R("div",ol,D(u(t).employees?.contact_number),1)]),_:1,__:[14]}),r(Z,{class:"text-center"},{default:n(()=>[d[15]||(d[15]=R("div",{class:"text-caption text-uppercase text-white"},"adderss",-1)),R("div",rl,D(u(t).employees?.address),1)]),_:1,__:[15]}),r(Z,{class:"text-center"},{default:n(()=>[r(ce,{unelevated:"",size:"sm",label:"sign out","text-color":"primary",color:"white",onClick:d[5]||(d[5]=()=>{u(t).logout(),Q.value=!1,u(t).$reset(),u(v).$reset(),u(b).$reset(),u(c).$reset(),u(l).$reset(),u(C).$reset(),u(T).$reset(),u(o).$reset(),u(j).$reset()})})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}},ql=wa(il,[["__scopeId","data-v-e07161af"]]);export{ql as default};
